import{j as l}from"./jsx-runtime-ccada58e.js";import{r as m}from"./index-f1f749bf.js";import{A as j}from"./avatar-f29554f6.js";const R=new Map,g=new WeakMap;let w=0,A;function E(e){return e?(g.has(e)||(w+=1,g.set(e,w.toString())),g.get(e)):"0"}function L(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?E(e.root):e[t]}`).toString()}function N(e){let t=L(e),n=R.get(t);if(!n){const s=new Map;let u;const a=new IntersectionObserver(i=>{i.forEach(r=>{var o;const p=r.isIntersecting&&u.some(c=>r.intersectionRatio>=c);e.trackVisibility&&typeof r.isVisible>"u"&&(r.isVisible=p),(o=s.get(r.target))==null||o.forEach(c=>{c(p,r)})})},e);u=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:s},R.set(t,n)}return n}function S(e,t,n={},s=A){if(typeof window.IntersectionObserver>"u"&&s!==void 0){const o=e.getBoundingClientRect();return t(s,{isIntersecting:s,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const{id:u,observer:a,elements:i}=N(n);let r=i.get(e)||[];return i.has(e)||i.set(e,r),r.push(t),a.observe(e),function(){r.splice(r.indexOf(t),1),r.length===0&&(i.delete(e),a.unobserve(e)),i.size===0&&(a.disconnect(),R.delete(u))}}function T({threshold:e,delay:t,trackVisibility:n,rootMargin:s,root:u,triggerOnce:a,skip:i,initialInView:r,fallbackInView:o,onChange:p}={}){var c;const[h,q]=m.useState(null),v=m.useRef(),[x,I]=m.useState({inView:!!r,entry:void 0});v.current=p,m.useEffect(()=>{if(i||!h)return;let f;return f=S(h,(_,y)=>{I({inView:_,entry:y}),v.current&&v.current(_,y),y.isIntersecting&&a&&f&&(f(),f=void 0)},{root:u,rootMargin:s,threshold:e,trackVisibility:n,delay:t},o),()=>{f&&f()}},[Array.isArray(e)?e.toString():e,h,u,s,a,i,n,o,t]);const b=(c=x.entry)==null?void 0:c.target,V=m.useRef();!h&&b&&!a&&!i&&V.current!==b&&(V.current=b,I({inView:!!r,entry:void 0}));const d=[q,x.inView,x.entry];return d.ref=d[0],d.inView=d[1],d.entry=d[2],d}const W=({avatarUrl:e,displayname:t,dm:n=!1,online:s=!1,active:u=!1,onClick:a,hidden:i})=>{const{ref:r,inView:o}=T({triggerOnce:!0,rootMargin:"200px 0px",skip:i});return l.jsx("div",{ref:r,onClick:a,children:o&&(u?l.jsxs("div",{className:"flex flex-row gap-2 p-1 bg-gray-300 hover:bg-gray-400 rounded duration-200 ease-in-out items-center",children:[l.jsx(j,{avatarUrl:e,displayname:t,dm:n,online:s}),l.jsx("span",{className:"text-black font-normal text-xl capitalize",children:t})]}):l.jsxs("div",{className:"flex flex-row gap-2 p-1 hover:bg-gray-300 hover:rounded duration-200 ease-in-out items-center",children:[l.jsx(j,{avatarUrl:e,displayname:t,dm:n,online:s}),l.jsx("span",{className:"text-black font-normal text-xl capitalize",children:t})]}))})};try{roomListItem.displayName="roomListItem",roomListItem.__docgenInfo={description:"",displayName:"roomListItem",props:{avatarUrl:{defaultValue:null,description:"The URL of the Avatar image",name:"avatarUrl",required:!1,type:{name:"string"}},displayname:{defaultValue:null,description:"The displayname of the room list item",name:"displayname",required:!0,type:{name:"string"}},dm:{defaultValue:{value:"false"},description:"Wether it is a DM or not",name:"dm",required:!1,type:{name:"boolean"}},online:{defaultValue:{value:"false"},description:"Wether the user is online. Only used if dm is true.",name:"online",required:!1,type:{name:"boolean"}},active:{defaultValue:{value:"false"},description:"Wether the current room is selected",name:"active",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"The onClick handler",name:"onClick",required:!0,type:{name:"() => void"}},hidden:{defaultValue:null,description:"If room is hidden",name:"hidden",required:!0,type:{name:"boolean"}}}}}catch{}export{W as R};
//# sourceMappingURL=roomListItem-624401a0.js.map
