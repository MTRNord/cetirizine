{"version":3,"file":"LoginPage.stories-1d61b6db.js","sources":["../../../node_modules/react-redux/es/hooks/useStore.js","../../../node_modules/react-redux/es/hooks/useDispatch.js","../../../src/app/hooks.ts","../../../src/components/login/login.tsx","../../../src/pages/LoginPage.tsx"],"sourcesContent":["import { useContext } from 'react';\nimport { ReactReduxContext } from '../components/Context';\nimport { useReduxContext as useDefaultReduxContext } from './useReduxContext';\n/**\r\n * Hook factory, which creates a `useStore` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useStore` hook bound to the specified context.\r\n */\n\nexport function createStoreHook(context = ReactReduxContext) {\n  const useReduxContext = // @ts-ignore\n  context === ReactReduxContext ? useDefaultReduxContext : () => useContext(context);\n  return function useStore() {\n    const {\n      store\n    } = useReduxContext(); // @ts-ignore\n\n    return store;\n  };\n}\n/**\r\n * A hook to access the redux store.\r\n *\r\n * @returns {any} the redux store\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useStore } from 'react-redux'\r\n *\r\n * export const ExampleComponent = () => {\r\n *   const store = useStore()\r\n *   return <div>{store.getState()}</div>\r\n * }\r\n */\n\nexport const useStore = /*#__PURE__*/createStoreHook();","import { ReactReduxContext } from '../components/Context';\nimport { useStore as useDefaultStore, createStoreHook } from './useStore';\n/**\r\n * Hook factory, which creates a `useDispatch` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useDispatch` hook bound to the specified context.\r\n */\n\nexport function createDispatchHook(context = ReactReduxContext) {\n  const useStore = // @ts-ignore\n  context === ReactReduxContext ? useDefaultStore : createStoreHook(context);\n  return function useDispatch() {\n    const store = useStore(); // @ts-ignore\n\n    return store.dispatch;\n  };\n}\n/**\r\n * A hook to access the redux `dispatch` function.\r\n *\r\n * @returns {any|function} redux store's `dispatch` function\r\n *\r\n * @example\r\n *\r\n * import React, { useCallback } from 'react'\r\n * import { useDispatch } from 'react-redux'\r\n *\r\n * export const CounterComponent = ({ value }) => {\r\n *   const dispatch = useDispatch()\r\n *   const increaseCounter = useCallback(() => dispatch({ type: 'increase-counter' }), [])\r\n *   return (\r\n *     <div>\r\n *       <span>{value}</span>\r\n *       <button onClick={increaseCounter}>Increase counter</button>\r\n *     </div>\r\n *   )\r\n * }\r\n */\n\nexport const useDispatch = /*#__PURE__*/createDispatchHook();","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;","import { useDeferredValue, useState } from 'react';\nimport { getLoginError } from '../../app/api/reducers';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { RootState } from '../../app/store';\nimport Button from '../button/button';\nimport Header from '../header/header';\nimport Input from '../input/basic/input';\nimport { LOGIN_ACTION } from '../../app/api/reducers';\n\nexport function Login() {\n    const loginError = useAppSelector((state: RootState) => getLoginError(state));\n    const deferredLoginError = useDeferredValue(loginError);\n    const loginPending = useAppSelector((state: RootState) => state.login.loginPending);\n    const [homeserver, setHomeserver] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const dispatch = useAppDispatch();\n\n    return (\n        <form className=\"flex flex-col rounded-md shadow p-4 bg-white gap-2 min-w-[30rem]\" onSubmit={(e) => {\n            e.preventDefault();\n            dispatch({ type: LOGIN_ACTION, baseUrl: homeserver, username: username, password: password });\n        }}>\n            <Header>Login</Header>\n            {deferredLoginError ? <h2 className='text-red-500 font-normal text-sm'>{deferredLoginError}</h2> : <div className='min-h-[1.25rem]'></div>}\n            <Input\n                readonly={loginPending}\n                value={homeserver}\n                autoFocus={true}\n                placeholder=\"Homeserver\"\n                onChange={e => setHomeserver(e.target.value)}\n            />\n            <Input\n                readonly={loginPending}\n                value={username}\n                placeholder=\"Username\"\n                onChange={e => setUsername(e.target.value)}\n            />\n            <Input\n                readonly={loginPending}\n                value={password}\n                password={true}\n                placeholder=\"Password\"\n                onChange={e => setPassword(e.target.value)}\n            />\n            <Button\n                readonly={loginPending}\n                style=\"primary\"\n                type=\"submit\"\n                onClick={() => dispatch({ type: LOGIN_ACTION, baseUrl: homeserver, username: username, password: password })}\n            >\n                Login\n            </Button>\n        </form>\n    );\n}","import './LoginPage.scss';\nimport { Login } from '../components/login/login';\n\nfunction LoginPage() {\n    return (\n        <div className=\"flex flex-col items-center justify-center min-h-screen bg-img\">\n            <Login />\n        </div>\n    );\n}\n\nexport default LoginPage;\n"],"names":["createStoreHook","context","ReactReduxContext","useReduxContext","useDefaultReduxContext","useContext","store","useStore","createDispatchHook","useDefaultStore","useDispatch","useAppDispatch","useAppSelector","useSelector","Login","loginError","state","getLoginError","deferredLoginError","useDeferredValue","loginPending","homeserver","setHomeserver","useState","username","setUsername","password","setPassword","dispatch","LOGIN_ACTION","jsx","Header","Input","Button","LoginPage"],"mappings":"uVAUO,SAASA,EAAgBC,EAAUC,EAAmB,CAC3D,MAAMC,EACNF,IAAYC,EAAoBE,EAAyB,IAAMC,EAAU,WAACJ,CAAO,EACjF,OAAO,UAAoB,CACzB,KAAM,CACJ,MAAAK,CACD,EAAGH,EAAe,EAEnB,OAAOG,CACX,CACA,CAiBO,MAAMC,EAAwBP,EAAiB,EC5B/C,SAASQ,EAAmBP,EAAUC,EAAmB,CAC9D,MAAMK,EACNN,IAAYC,EAAoBO,EAAkBT,EAAgBC,CAAO,EACzE,OAAO,UAAuB,CAG5B,OAFcM,IAED,QACjB,CACA,CAuBO,MAAMG,EAA2BF,EAAoB,ECpC/CG,EAAiB,IAAMD,IACvBE,EAAkDC,ECI/D,SAAAC,GAAA,CACA,MAAAC,EAAAH,EAAAI,GAAAC,EAAAD,CAAA,CAAA,EACAE,EAAAC,mBAAAJ,CAAA,EACAK,EAAAR,EAAAI,GAAAA,EAAA,MAAA,YAAA,EACA,CAAAK,EAAAC,CAAA,EAAAC,WAAA,EAAA,EACA,CAAAC,EAAAC,CAAA,EAAAF,WAAA,EAAA,EACA,CAAAG,EAAAC,CAAA,EAAAJ,WAAA,EAAA,EACAK,EAAAjB,IAEA,cACA,OAAA,CAAA,UAAA,mEAAA,SAAA,GAAA,CACA,EAAA,eAAA,EACAiB,EAAA,CAAA,KAAAC,EAAA,QAAAR,EAAA,SAAAG,EAAA,SAAAE,EAAA,CAEA,EAAA,SAAA,CAAAI,EAAAA,IAAAC,GAAA,SAAA,OAAA,CAAA,EACAb,EAAAY,EAAAA,IAAA,KAAA,CAAA,UAAA,mCAAA,UAAA,CAAA,EAAAA,EAAAA,IAAA,MAAA,CAAA,UAAA,iBAAA,CAAA,EACAA,EAAA,IAAAE,EAAA,CACA,SAAAZ,EACA,MAAAC,EACA,UAAA,GACA,YAAA,aACA,SAAA,GAAAC,EAAA,EAAA,OAAA,KAAA,CAAA,CACA,EACAQ,EAAA,IAAAE,EAAA,CACA,SAAAZ,EACA,MAAAI,EACA,YAAA,WACA,SAAA,GAAAC,EAAA,EAAA,OAAA,KAAA,CAAA,CACA,EACAK,EAAA,IAAAE,EAAA,CACA,SAAAZ,EACA,MAAAM,EACA,SAAA,GACA,YAAA,WACA,SAAA,GAAAC,EAAA,EAAA,OAAA,KAAA,CAAA,CACA,EACAG,EAAA,IAAAG,EAAA,CACA,SAAAb,EACA,MAAA,UACA,KAAA,SACA,QAAA,IAAAQ,EAAA,CAAA,KAAAC,EAAA,QAAAR,EAAA,SAAAG,EAAA,SAAAE,EAAA,EACA,SAAA,OAAA,CAEA,CACA,CAAA,CAAA,CAEA,CAAAZ,EAAA,aAAA,CAAA,YAAA,GAAA,QAAA,CAAA,EAAA,YAAA,OAAA,ECpDA,SAAAoB,GAAA,CACA,aACA,MAAA,CAAA,UAAA,gEACA,SAAAJ,EAAAA,IAAAhB,IAAA,CACA,CAAA,CAEA","x_google_ignoreList":[0,1]}