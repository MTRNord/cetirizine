{"version":3,"file":"LoginPage.stories-adf8f2ad.js","sources":["../../../src/components/login/login.tsx","../../../src/pages/LoginPage.tsx"],"sourcesContent":["import { memo, useContext, useState } from 'react';\nimport Button from '../button/button';\nimport Header from '../header/header';\nimport Input from '../input/basic/input';\nimport { Navigate } from 'react-router-dom';\nimport { MatrixContext } from '../../app/sdk/client';\n\nconst Login = memo(() => {\n    const matrixClient = useContext(MatrixContext);\n    const [loginPending, setLoginPending] = useState(false);\n    const [loginError, setLoginError] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    if (matrixClient.isLoggedIn) {\n        return <Navigate to=\"/\" />;\n    }\n    const startLogin = async () => {\n        try {\n            setLoginPending(true);\n            await matrixClient.passwordLogin(username, password);\n        } catch (e: any) {\n            setLoginError(e.toString());\n        }\n        setLoginPending(false);\n    }\n    return (\n        <form className=\"flex flex-col rounded-md shadow p-4 bg-white gap-2 min-w-[30rem]\" onSubmit={(e) => {\n            e.preventDefault();\n            startLogin();\n        }}>\n            <Header>Login</Header>\n            {loginError ? <h2 className='text-red-500 font-normal text-sm'>{loginError}</h2> : <div className='min-h-[1.25rem]'></div>}\n            <Input\n                readonly={loginPending}\n                value={username}\n                placeholder=\"Username\"\n                onChange={e => setUsername(e.target.value)}\n            />\n            <Input\n                readonly={loginPending}\n                value={password}\n                password={true}\n                placeholder=\"Password\"\n                onChange={e => setPassword(e.target.value)}\n            />\n            <Button\n                readonly={loginPending}\n                style=\"primary\"\n                type=\"submit\"\n            >\n                Login\n            </Button>\n        </form>\n    );\n})\n\nexport default Login;","import './LoginPage.scss';\nimport Login from '../components/login/login';\nimport { memo } from 'react';\n\nconst LoginPage = memo(() => {\n    return (\n        <div className=\"flex flex-col items-center justify-center min-h-screen bg-img\">\n            <Login />\n        </div>\n    );\n})\n\nexport default LoginPage;\n"],"names":["Login","memo","matrixClient","useContext","MatrixContext","loginPending","setLoginPending","useState","loginError","setLoginError","username","setUsername","password","setPassword","jsx","Navigate","startLogin","e","Header","Input","Button","LoginPage"],"mappings":"wXAOA,MAAAA,EAAAC,OAAA,IAAA,CACA,MAAAC,EAAAC,aAAAC,CAAA,EACA,CAAAC,EAAAC,CAAA,EAAAC,WAAA,EAAA,EACA,CAAAC,EAAAC,CAAA,EAAAF,WAAA,EAAA,EACA,CAAAG,EAAAC,CAAA,EAAAJ,WAAA,EAAA,EACA,CAAAK,EAAAC,CAAA,EAAAN,WAAA,EAAA,EACA,GAAAL,EAAA,WACA,OAAAY,EAAA,IAAAC,EAAA,CAAA,GAAA,GAAA,CAAA,EAEA,MAAAC,EAAA,SAAA,CACA,GAAA,CACAV,EAAA,EAAA,EACA,MAAAJ,EAAA,cAAAQ,EAAAE,CAAA,QACAK,GACAR,EAAAQ,EAAA,UAAA,CACA,CACAX,EAAA,EAAA,CAAA,EAEA,cACA,OAAA,CAAA,UAAA,mEAAA,SAAAW,GAAA,CACAA,EAAA,eAAA,EACAD,GAEA,EAAA,SAAA,CAAAF,EAAAA,IAAAI,GAAA,SAAA,OAAA,CAAA,EACAV,EAAAM,EAAAA,IAAA,KAAA,CAAA,UAAA,mCAAA,UAAA,CAAA,EAAAA,EAAAA,IAAA,MAAA,CAAA,UAAA,iBAAA,CAAA,EACAA,EAAA,IAAAK,EAAA,CACA,SAAAd,EACA,MAAAK,EACA,YAAA,WACA,SAAAO,GAAAN,EAAAM,EAAA,OAAA,KAAA,CAAA,CACA,EACAH,EAAA,IAAAK,EAAA,CACA,SAAAd,EACA,MAAAO,EACA,SAAA,GACA,YAAA,WACA,SAAAK,GAAAJ,EAAAI,EAAA,OAAA,KAAA,CAAA,CACA,EACAH,EAAA,IAAAM,EAAA,CACA,SAAAf,EACA,MAAA,UACA,KAAA,SACA,SAAA,OAAA,CAEA,CACA,CAAA,CAAA,CAEA,CAAA,EAEAL,EAAA,aAAA,CAAA,YAAA,GAAA,QAAA,CAAA,EAAA,YAAA,OAAA,ECpDA,MAAAqB,EAAApB,OAAA,UAEA,MAAA,CAAA,UAAA,gEACA,SAAAa,EAAAA,IAAAd,IAAA,CACA,CAAA,CAEA"}