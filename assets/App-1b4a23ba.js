import{a as zs,r as v,j as y,b as Us,d as Ka}from"./vendor-2246966f.js";import{M as Ei,u as Ll,i as Wf,a as Gf,b as Yf,c as Vf}from"./client-44e9c7cb.js";/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ii(){return ii=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ii.apply(this,arguments)}var mn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mn||(mn={}));const Wa="popstate";function Xf(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return js("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ac(i)}return qf(e,n,null,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ml(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jf(){return Math.random().toString(36).substr(2,8)}function Ga(t,e){return{usr:t.state,key:t.key,idx:e}}function js(t,e,n,r){return n===void 0&&(n=null),ii({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wr(e):e,{state:n,key:e&&e.key||r||Jf()})}function Ac(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qf(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=mn.Pop,a=null,c=g();c==null&&(c=0,s.replaceState(ii({},s.state,{idx:c}),""));function g(){return(s.state||{idx:null}).idx}function d(){l=mn.Pop;let E=g(),x=E==null?null:E-c;c=E,a&&a({action:l,location:p.location,delta:x})}function u(E,x){l=mn.Push;let m=js(p.location,E,x);n&&n(m,E),c=g()+1;let _=Ga(m,c),S=p.createHref(m);try{s.pushState(_,"",S)}catch{i.location.assign(S)}o&&a&&a({action:l,location:p.location,delta:1})}function f(E,x){l=mn.Replace;let m=js(p.location,E,x);n&&n(m,E),c=g();let _=Ga(m,c),S=p.createHref(m);s.replaceState(_,"",S),o&&a&&a({action:l,location:p.location,delta:0})}function h(E){let x=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof E=="string"?E:Ac(E);return Te(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let p={get action(){return l},get location(){return t(i,s)},listen(E){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Wa,d),a=E,()=>{i.removeEventListener(Wa,d),a=null}},createHref(E){return e(i,E)},createURL:h,encodeLocation(E){let x=h(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:u,replace:f,go(E){return s.go(E)}};return p}var Ya;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ya||(Ya={}));function Zf(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?wr(e):e,i=Oc(r.pathname||"/",n);if(i==null)return null;let o=Rc(t);Qf(o);let s=null;for(let l=0;s==null&&l<o.length;++l)s=ah(o[l],dh(i));return s}function Rc(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(Te(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=zn([r,a.relativePath]),g=n.concat(a);o.children&&o.children.length>0&&(Te(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Rc(o.children,e,g,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:sh(c,o.index),routesMeta:g})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of wc(o.path))i(o,s,a)}),e}function wc(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=wc(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function Qf(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lh(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eh=/^:\w+$/,th=3,nh=2,rh=1,ih=10,oh=-2,Va=t=>t==="*";function sh(t,e){let n=t.split("/"),r=n.length;return n.some(Va)&&(r+=oh),e&&(r+=nh),n.filter(i=>!Va(i)).reduce((i,o)=>i+(eh.test(o)?th:o===""?rh:ih),r)}function lh(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ah(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],a=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",g=uh({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},c);if(!g)return null;Object.assign(r,g.params);let d=l.route;o.push({params:r,pathname:zn([i,g.pathname]),pathnameBase:_h(zn([i,g.pathnameBase])),route:d}),g.pathnameBase!=="/"&&(i=zn([i,g.pathnameBase]))}return o}function uh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ch(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,g,d)=>{if(g==="*"){let u=l[d]||"";s=o.slice(0,o.length-u.length).replace(/(.)\/+$/,"$1")}return c[g]=gh(l[d]||"",g),c},{}),pathname:o,pathnameBase:s,pattern:t}}function ch(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ml(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dh(t){try{return decodeURI(t)}catch(e){return Ml(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gh(t,e){try{return decodeURIComponent(t)}catch(n){return Ml(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Oc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fh(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?wr(t):t;return{pathname:n?n.startsWith("/")?n:hh(n,e):e,search:yh(r),hash:Eh(i)}}function hh(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function us(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ph(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mh(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=wr(t):(i=ii({},t),Te(!i.pathname||!i.pathname.includes("?"),us("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),us("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),us("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(r||s==null)l=n;else{let d=e.length-1;if(s.startsWith("..")){let u=s.split("/");for(;u[0]==="..";)u.shift(),d-=1;i.pathname=u.join("/")}l=d>=0?e[d]:"/"}let a=fh(i,l),c=s&&s!=="/"&&s.endsWith("/"),g=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||g)&&(a.pathname+="/"),a}const zn=t=>t.join("/").replace(/\/\/+/g,"/"),_h=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yh=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Eh=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Nh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xh(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const Ch=typeof Object.is=="function"?Object.is:xh,{useState:vh,useEffect:Th,useLayoutEffect:Sh,useDebugValue:Ah}=zs;function Rh(t,e,n){const r=e(),[{inst:i},o]=vh({inst:{value:r,getSnapshot:e}});return Sh(()=>{i.value=r,i.getSnapshot=e,cs(i)&&o({inst:i})},[t,r,e]),Th(()=>(cs(i)&&o({inst:i}),t(()=>{cs(i)&&o({inst:i})})),[t]),Ah(r),r}function cs(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!Ch(n,r)}catch{return!0}}function wh(t,e,n){return e()}const Oh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$h=!Oh,Dh=$h?wh:Rh;"useSyncExternalStore"in zs&&(t=>t.useSyncExternalStore)(zs);const $c=v.createContext(null),Il=v.createContext(null),bl=v.createContext(null),Bo=v.createContext(null),Or=v.createContext({outlet:null,matches:[]}),Dc=v.createContext(null);function Hs(){return Hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hs.apply(this,arguments)}function Ni(){return v.useContext(Bo)!=null}function Pl(){return Ni()||Te(!1),v.useContext(Bo).location}function kc(){Ni()||Te(!1);let{basename:t,navigator:e}=v.useContext(bl),{matches:n}=v.useContext(Or),{pathname:r}=Pl(),i=JSON.stringify(ph(n).map(l=>l.pathnameBase)),o=v.useRef(!1);return v.useEffect(()=>{o.current=!0}),v.useCallback(function(l,a){if(a===void 0&&(a={}),!o.current)return;if(typeof l=="number"){e.go(l);return}let c=mh(l,JSON.parse(i),r,a.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:zn([t,c.pathname])),(a.replace?e.replace:e.push)(c,a.state,a)},[t,e,i,r])}function kh(){let{matches:t}=v.useContext(Or),e=t[t.length-1];return e?e.params:{}}function Lh(t,e){Ni()||Te(!1);let{navigator:n}=v.useContext(bl),r=v.useContext(Il),{matches:i}=v.useContext(Or),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let a=Pl(),c;if(e){var g;let p=typeof e=="string"?wr(e):e;l==="/"||(g=p.pathname)!=null&&g.startsWith(l)||Te(!1),c=p}else c=a;let d=c.pathname||"/",u=l==="/"?d:d.slice(l.length)||"/",f=Zf(t,{pathname:u}),h=Ph(f&&f.map(p=>Object.assign({},p,{params:Object.assign({},s,p.params),pathname:zn([l,n.encodeLocation?n.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?l:zn([l,n.encodeLocation?n.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r||void 0);return e&&h?v.createElement(Bo.Provider,{value:{location:Hs({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:mn.Pop}},h):h}function Mh(){let t=Uh(),e=Nh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,o)}class Ih extends v.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?v.createElement(Or.Provider,{value:this.props.routeContext},v.createElement(Dc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bh(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext($c);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Or.Provider,{value:e},r)}function Ph(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n?.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&i?.[s.route.id]);o>=0||Te(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,l)=>{let a=s.route.id?i?.[s.route.id]:null,c=null;n&&(s.route.ErrorBoundary?c=v.createElement(s.route.ErrorBoundary,null):s.route.errorElement?c=s.route.errorElement:c=v.createElement(Mh,null));let g=e.concat(r.slice(0,l+1)),d=()=>{let u=o;return a?u=c:s.route.Component?u=v.createElement(s.route.Component,null):s.route.element&&(u=s.route.element),v.createElement(bh,{match:s,routeContext:{outlet:o,matches:g},children:u})};return n&&(s.route.ErrorBoundary||s.route.errorElement||l===0)?v.createElement(Ih,{location:n.location,component:c,error:a,children:d(),routeContext:{outlet:null,matches:g}}):d()},null)}var Xa;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(Xa||(Xa={}));var ro;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(ro||(ro={}));function Fh(t){let e=v.useContext(Il);return e||Te(!1),e}function Bh(t){let e=v.useContext(Or);return e||Te(!1),e}function zh(t){let e=Bh(),n=e.matches[e.matches.length-1];return n.route.id||Te(!1),n.route.id}function Uh(){var t;let e=v.useContext(Dc),n=Fh(ro.UseRouteError),r=zh(ro.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Lc(t){let{to:e,replace:n,state:r,relative:i}=t;Ni()||Te(!1);let o=v.useContext(Il),s=kc();return v.useEffect(()=>{o&&o.navigation.state!=="idle"||s(e,{replace:n,state:r,relative:i})}),null}function Ks(t){Te(!1)}function jh(t){let{basename:e="/",children:n=null,location:r,navigationType:i=mn.Pop,navigator:o,static:s=!1}=t;Ni()&&Te(!1);let l=e.replace(/^\/*/,"/"),a=v.useMemo(()=>({basename:l,navigator:o,static:s}),[l,o,s]);typeof r=="string"&&(r=wr(r));let{pathname:c="/",search:g="",hash:d="",state:u=null,key:f="default"}=r,h=v.useMemo(()=>{let p=Oc(c,l);return p==null?null:{location:{pathname:p,search:g,hash:d,state:u,key:f},navigationType:i}},[l,c,g,d,u,f,i]);return h==null?null:v.createElement(bl.Provider,{value:a},v.createElement(Bo.Provider,{children:n,value:h}))}function Hh(t){let{children:e,location:n}=t,r=v.useContext($c),i=r&&!e?r.router.routes:Ws(e);return Lh(i,n)}var Ja;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Ja||(Ja={}));new Promise(()=>{});function Ws(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let o=[...e,i];if(r.type===v.Fragment){n.push.apply(n,Ws(r.props.children,o));return}r.type!==Ks&&Te(!1),!r.props.index||!r.props.children||Te(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ws(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kh(t){let{basename:e,children:n,window:r}=t,i=v.useRef();i.current==null&&(i.current=Xf({window:r,v5Compat:!0}));let o=i.current,[s,l]=v.useState({action:o.action,location:o.location});return v.useLayoutEffect(()=>o.listen(l),[o]),v.createElement(jh,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o})}var qa;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(qa||(qa={}));var Za;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Za||(Za={}));const Wh=v.memo(({type:t="button",style:e="primary",onClick:n,children:r,readonly:i})=>e==="secondary"?y.jsx("button",{disabled:i,onClick:n,className:"button bg-orange-400 hover:bg-orange-500 ease-out duration-150 disabled:bg-slate-200 disabled:cursor-not-allowed",type:t,children:r}):e==="abort"?y.jsx("button",{disabled:i,onClick:n,className:"button bg-red-400 hover:bg-red-500 ease-out duration-150 disabled:bg-slate-200 disabled:cursor-not-allowed",type:t,children:r}):y.jsx("button",{disabled:i,onClick:n,className:"button bg-green-400 hover:bg-green-500 ease-out duration-150 disabled:bg-slate-200 disabled:cursor-not-allowed",type:t,children:r})),Gh=v.memo(({children:t})=>y.jsx("h1",{className:"text-black font-bold text-xl",children:t})),Qa=v.memo(({placeholder:t,password:e=!1,autoFocus:n=!1,value:r,readonly:i,onChange:o})=>y.jsx("input",{disabled:i,className:"text-base form-input rounded-lg disabled:bg-slate-200 disabled:cursor-not-allowed transition-colors ease-in-out delay-150",value:r,type:e?"password":"text",autoFocus:n,placeholder:t,onChange:o})),Yh=v.memo(()=>{const t=v.useContext(Ei),[e,n]=v.useState(!1),[r,i]=v.useState(""),[o,s]=v.useState(""),[l,a]=v.useState("");if(t.isLoggedIn)return y.jsx(Lc,{to:"/"});const c=async()=>{try{n(!0),await t.passwordLogin(o,l)}catch(g){i(g.toString())}n(!1)};return y.jsxs("form",{className:"flex flex-col rounded-md shadow p-4 bg-white gap-2 min-w-[30rem]",onSubmit:g=>{g.preventDefault(),c()},children:[y.jsx(Gh,{children:"Login"}),r?y.jsx("h2",{className:"text-red-500 font-normal text-sm",children:r}):y.jsx("div",{className:"min-h-[1.25rem]"}),y.jsx(Qa,{readonly:e,value:o,placeholder:"Username",onChange:g=>s(g.target.value)}),y.jsx(Qa,{readonly:e,value:l,password:!0,placeholder:"Password",onChange:g=>a(g.target.value)}),y.jsx(Wh,{readonly:e,style:"primary",type:"submit",children:"Login"})]})}),Vh=v.memo(()=>y.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-img",children:y.jsx(Yh,{})}));var Xh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Jh=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),me=(t,e)=>{const n=v.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:l,...a},c)=>v.createElement("svg",{ref:c,...Xh,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${Jh(t)}`,...a},[...e.map(([g,d])=>v.createElement(g,d)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},qh=me("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]),Mc=me("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]]),Zh=me("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]]),Gs=me("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),Ic=me("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]),bc=me("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]),Qh=me("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]),ep=me("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]]),tp=me("Heading5",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]]),np=me("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),rp=me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Pc=me("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),Fc=me("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Bc=me("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),ip=me("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]),op=me("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]]),sp=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),lp=me("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]),zc=me("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]]),ap=me("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]),up=me("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),Tr=v.memo(({avatarUrl:t,displayname:e,dm:n=!1,online:r=!1})=>t?y.jsxs("div",{className:"flex relative min-w-[2rem] min-h-[2rem] justify-center items-center m-0 mr-3 text-xl rounded-full text-white",children:[y.jsx("img",{className:"rounded-full w-8 h-8",alt:e,src:t}),n?r?y.jsx("div",{className:"bg-green-500 rounded-full w-3 h-3 absolute bottom-0 right-0"}):y.jsx("div",{className:"bg-red-500 rounded-full w-3 h-3 absolute bottom-0 right-0"}):y.jsx(y.Fragment,{})]}):y.jsxs("div",{className:"flex relative min-w-[2rem] min-h-[2rem] w-[2rem] h-[2rem] bg-orange-500 justify-center items-center m-0 mr-3 text-xl rounded-full text-white",children:[e.replace("@","")[0].toUpperCase(),n?r?y.jsx("div",{className:"bg-green-500 rounded-full w-3 h-3 absolute bottom-0 right-0"}):y.jsx("div",{className:"bg-red-500 rounded-full w-3 h-3 absolute bottom-0 right-0"}):y.jsx(y.Fragment,{})]}));var Uc={},zo={},jc=v;let Hc=jc.createContext(null);zo.LexicalComposerContext=Hc;zo.createLexicalComposerContext=function(t,e){let n=null;return t!=null&&(n=t[1]),{getTheme:function(){return e??(n!=null?n.getTheme():null)}}};zo.useLexicalComposerContext=function(){let t=jc.useContext(Hc);if(t==null)throw Error("Minified Lexical error #8; visit https://lexical.dev/docs/error?code=8 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return t};const cp=zo;var pt=cp,w={};let Fl={},Kc={},oi={},Kr={},Ys={},yr={},Bl={},Vs={},si={},li={},_n={},zl={},Ul={},Wc={},Gc={},Yc={},Vc={},Xc={},Jc={},qc={},io={},Zc={},Qc={},ed={},td={},nd={},rd={},id={},od={},sd={},jl={},Hl={},ld={},ad={},ud={};function L(t){throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?code=${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let ln=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dp=ln&&"documentMode"in document?document.documentMode:null,Ve=ln&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Wn=ln&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),oo=ln&&"InputEvent"in window&&!dp?"getTargetRanges"in new window.InputEvent("input"):!1,Kl=ln&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Wl=ln&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,gp=ln&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Gl=ln&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!gp,Uo=Kl||Wl||Gl?" ":"​",fp=Wn?" ":Uo,hp=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,pp=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,Un={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},mp={directionless:1,unmergeable:2},eu={center:2,end:6,justify:4,left:1,right:3,start:5},_p={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},yp={normal:0,segmented:2,token:1},Ep={0:"normal",2:"segmented",1:"token"},Xs=!1,Yl=0;function Np(t){Yl=t.timeStamp}function ds(t,e,n){return e.__lexicalLineBreak===t||t[`__lexicalKey_${n._key}`]!==void 0}function xp(t){return t.getEditorState().read(()=>{let e=ue();return e!==null?e.clone():null})}function cd(t,e,n){Xs=!0;let r=100<performance.now()-Yl;try{ht(t,()=>{let i=ue()||xp(t);var o=new Map,s=t.getRootElement(),l=t._editorState,a=t._blockCursorElement;let c=!1,g="";for(var d=0;d<e.length;d++){var u=e[d],f=u.type,h=u.target,p=Ci(h,l);if(!(p===null&&h!==s||ae(p))){if(f==="characterData"){if(u=r&&F(p))e:{u=i,f=h;var E=p;if(V(u)){var x=u.anchor.getNode();if(x.is(E)&&u.format!==x.getFormat()){u=!1;break e}}u=f.nodeType===3&&E.isAttached()}u&&(E=Wt(t._window),f=u=null,E!==null&&E.anchorNode===h&&(u=E.anchorOffset,f=E.focusOffset),h=h.nodeValue,h!==null&&Zl(p,h,u,f,!1))}else if(f==="childList"){for(c=!0,f=u.addedNodes,E=0;E<f.length;E++){x=f[E];var m=md(x),_=x.parentNode;_==null||x===a||m!==null||x.nodeName==="BR"&&ds(x,_,t)||(Wn&&(m=x.innerText||x.nodeValue)&&(g+=m),_.removeChild(x))}if(u=u.removedNodes,f=u.length,0<f){for(E=0,x=0;x<f;x++)_=u[x],(_.nodeName==="BR"&&ds(_,h,t)||a===_)&&(h.appendChild(_),E++);f!==E&&(h===s&&(p=l._nodeMap.get("root")),o.set(h,p))}}}}if(0<o.size)for(let[S,R]of o)if(O(R))for(o=R.getChildrenKeys(),s=S.firstChild,l=0;l<o.length;l++)a=t.getElementByKey(o[l]),a!==null&&(s==null?(S.appendChild(a),s=a):s!==a&&S.replaceChild(a,s),s=s.nextSibling);else F(R)&&R.markDirty();if(o=n.takeRecords(),0<o.length){for(s=0;s<o.length;s++)for(a=o[s],l=a.addedNodes,a=a.target,d=0;d<l.length;d++)p=l[d],h=p.parentNode,h==null||p.nodeName!=="BR"||ds(p,a,t)||h.removeChild(p);n.takeRecords()}i!==null&&(c&&(i.dirty=!0,Cn(i)),Wn&&Nd(t)&&i.insertRawText(g))})}finally{Xs=!1}}function dd(t){let e=t._observer;if(e!==null){let n=e.takeRecords();cd(t,n,e)}}function gd(t){Yl===0&&Ho(t).addEventListener("textInput",Np,!0),t._observer=new MutationObserver((e,n)=>{cd(t,e,n)})}let Cp=1,vp=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)};function Vl(t){let e=document.activeElement;if(e===null)return!1;let n=e.nodeName;return ae(Ci(t))&&(n==="INPUT"||n==="TEXTAREA"||e.contentEditable==="true"&&e.__lexicalEditor==null)}function xi(t,e,n){let r=t.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(n)&&e!==null&&!Vl(e)&&Xl(e)===t}catch{return!1}}function Xl(t){for(;t!=null;){let e=t.__lexicalEditor;if(e!=null)return e;t=jo(t)}return null}function Js(t){return t.isToken()||t.isSegmented()}function so(t){for(;t!=null;){if(t.nodeType===3)return t;t=t.firstChild}return null}function fd(t,e,n){return e=Un[e],t&e&&(n===null||!(n&e))?t^e:n===null||n&e?t|e:t}function hd(t){return F(t)||gi(t)||ae(t)}function pd(t,e){if(e!=null)t.__key=e;else{Qe(),99<di&&L(14),e=pe();var n=Gt(),r=""+Cp++;n._nodeMap.set(r,t),O(t)?e._dirtyElements.set(r,!0):e._dirtyLeaves.add(r),e._cloneNotNeeded.add(r),e._dirtyType=1,t.__key=r}}function jn(t){var e=t.getParent();if(e!==null){let i=t.getWritable();e=e.getWritable();var n=t.getPreviousSibling();if(t=t.getNextSibling(),n===null)if(t!==null){var r=t.getWritable();e.__first=t.__key,r.__prev=null}else e.__first=null;else{if(r=n.getWritable(),t!==null){let o=t.getWritable();o.__prev=r.__key,r.__next=o.__key}else r.__next=null;i.__prev=null}t===null?n!==null?(t=n.getWritable(),e.__last=n.__key,t.__next=null):e.__last=null:(t=t.getWritable(),n!==null?(n=n.getWritable(),n.__next=t.__key,t.__prev=n.__key):t.__prev=null,i.__next=null),e.__size--,i.__parent=null}}function lo(t){99<di&&L(14);var e=t.getLatest(),n=e.__parent,r=Gt();let i=pe(),o=r._nodeMap;if(r=i._dirtyElements,n!==null)e:for(;n!==null;){if(r.has(n))break e;let s=o.get(n);if(s===void 0)break;r.set(n,!1),n=s.__parent}e=e.__key,i._dirtyType=1,O(t)?r.set(e,!0):i._dirtyLeaves.add(e)}function Be(t){Qe();var e=pe();let n=e._compositionKey;t!==n&&(e._compositionKey=t,n!==null&&(e=ke(n),e!==null&&e.getWritable()),t!==null&&(t=ke(t),t!==null&&t.getWritable()))}function yn(){return $r()?null:pe()._compositionKey}function ke(t,e){return t=(e||Gt())._nodeMap.get(t),t===void 0?null:t}function md(t,e){let n=pe();return t=t[`__lexicalKey_${n._key}`],t!==void 0?ke(t,e):null}function Ci(t,e){for(;t!=null;){let n=md(t,e);if(n!==null)return n;t=jo(t)}return null}function _d(t){let e=Object.assign({},t._decorators);return t._pendingDecorators=e}function tu(t){return t.read(()=>Kt().getTextContent())}function Tp(t,e){ht(t,()=>{var n=Gt();if(!n.isEmpty())if(e==="root")Kt().markDirty();else{n=n._nodeMap;for(let[,r]of n)r.markDirty()}},t._pendingEditorState===null?{tag:"history-merge"}:void 0)}function Kt(){return Gt()._nodeMap.get("root")}function Cn(t){Qe();let e=Gt();t!==null&&(t.dirty=!0,t._cachedNodes=null),e._selection=t}function gr(t){var e=pe(),n;e:{for(n=t;n!=null;){let r=n[`__lexicalKey_${e._key}`];if(r!==void 0){n=r;break e}n=jo(n)}n=null}return n===null?(e=e.getRootElement(),t===e?ke("root"):null):ke(n)}function yd(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function Jl(t){let e=[];for(;t!==null;)e.push(t),t=t._parentEditor;return e}function Ed(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function ql(t,e,n){if(e=Wt(e._window),e!==null){var r=e.anchorNode,{anchorOffset:i,focusOffset:o}=e;if(r!==null&&(e=r.nodeType===3?r.nodeValue:null,r=Ci(r),e!==null&&F(r))){if(r.canContainTabs()){var s=e.includes("	");if(n&&0<n.length&&s){s=n.length;let l=i+s-1,a=e.slice(0,l);e=e.slice(l,e.length),e=`${a}${n}${e}`,i+=s,o+=s}}e===Uo&&n&&(s=n.length,e=n,o=i=s),e!==null&&Zl(r,e,i,o,t)}}}function Zl(t,e,n,r,i){let o=t;if(o.isAttached()&&(i||!o.isDirty())){var s=o.isComposing();if(t=e,(s||i)&&e[e.length-1]===Uo&&(t=e.slice(0,-1)),e=o.getTextContent(),i||t!==e)if(t==="")if(Be(null),Kl||Wl||Gl)o.remove();else{let c=pe();setTimeout(()=>{c.update(()=>{o.isAttached()&&o.remove()})},20)}else{i=o.getParent(),e=Si();var l=yn(),a=o.getKey();o.isToken()||l!==null&&a===l&&!s||i!==null&&V(e)&&!i.canInsertTextBefore()&&e.anchor.offset===0?o.markDirty():(s=ue(),V(s)&&n!==null&&r!==null&&(s.setTextNodeRange(o,n,o,r),o.isSegmented()&&(n=o.getTextContent(),n=Fe(n),o.replace(n),o=n)),o.setTextContent(t))}}}function Sp(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;t=t.anchor.offset;let n=e.getParentOrThrow(),r=e.isToken();return t===0?((t=!e.canInsertTextBefore()||!n.canInsertTextBefore()||r)||(e=e.getPreviousSibling(),t=(F(e)||O(e)&&e.isInline())&&!e.canInsertTextAfter()),t):t===e.getTextContentSize()?!e.canInsertTextAfter()||!n.canInsertTextAfter()||r:!1}function Wr(t,e){var n=t[e];return typeof n=="string"?(n=n.split(" "),t[e]=n):n}function Ql(t,e,n,r,i){n.size!==0&&(n=r.__key,e=e.get(r.__type),e===void 0&&L(33),r=e.klass,e=t.get(r),e===void 0&&(e=new Map,t.set(r,e)),t=e.get(n),r=t==="destroyed"&&i==="created",(t===void 0||r)&&e.set(n,r?"updated":i))}function nu(t,e,n){let r=t.getParent(),i=n;return r!==null&&(e&&n===0?(i=t.getIndexWithinParent(),t=r):e||n!==t.getChildrenSize()||(i=t.getIndexWithinParent()+1,t=r)),t.getChildAtIndex(e?i-1:i)}function qs(t,e){var n=t.offset;return t.type==="element"?(t=t.getNode(),nu(t,e,n)):(t=t.getNode(),e&&n===0||!e&&n===t.getTextContentSize()?(n=e?t.getPreviousSibling():t.getNextSibling(),n===null?nu(t.getParentOrThrow(),e,t.getIndexWithinParent()+(e?0:1)):n):null)}function Nd(t){return t=(t=Ho(t).event)&&t.inputType,t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function ao(t){return!at(t)&&!t.isLastChild()&&!t.isInline()}function uo(t,e){return t=t._keyToDOMMap.get(e),t===void 0&&L(75),t}function jo(t){return t=t.assignedSlot||t.parentElement,t!==null&&t.nodeType===11?t.host:t}function Ap(t,e=0){if(e!==0&&L(1),e=ue(),!V(e)||!O(t))return e;let{anchor:n,focus:r}=e,i=n.getNode(),o=r.getNode();return co(i,t)&&n.set(t.__key,0,"element"),co(o,t)&&r.set(t.__key,0,"element"),e}function co(t,e){for(t=t.getParent();t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function Ho(t){return t=t._window,t===null&&L(78),t}function xd(t){for(t=t.getParentOrThrow();t!==null&&!Dt(t);)t=t.getParentOrThrow();return t}function Dt(t){return at(t)||O(t)&&t.isShadowRoot()}function Cd(t){return t=t.constructor.clone(t),pd(t,null),t}function Ko(t){var e=pe();let n=t.constructor.getType();return e=e._nodes.get(n),e===void 0&&L(97),e=e.replace,e!==null?(e=e(t),e instanceof t.constructor||L(98),e):t}function gs(t,e){t=t.getParent(),!at(t)||O(e)||ae(e)||L(99)}function fs(t){return(ae(t)||O(t)&&!t.canBeEmpty())&&!t.isInline()}function Zs(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null,e=t.parentElement,e!==null&&e.removeChild(t)}function Wt(t){return ln?(t||window).getSelection():null}function vd(t,e){let n=t.getChildAtIndex(e);n==null&&(n=t),Dt(t)&&L(102);let r=s=>{const l=s.getParentOrThrow(),a=Dt(l),c=s!==n||a?Cd(s):s;if(a)return s.insertAfter(c),[s,c,c];const[g,d,u]=r(l);return s=s.getNextSiblings(),u.append(c,...s),[g,d,c]},[i,o]=r(n);return[i,o]}function go(t,e){for(;t!==Kt()&&t!=null;){if(e(t))return t;t=t.getParent()}return null}function Rp(t){let e=[],n=[t];for(;0<n.length;){let r=n.pop();r===void 0&&L(112),O(r)&&n.unshift(...r.getChildren()),r!==t&&e.push(r)}return e}function Td(t,e,n,r,i){for(t=t.getFirstChild();t!==null;){let o=t.__key;t!==void 0&&t.__parent===e&&(O(t)&&Td(t,o,n,r,i),n.has(o)||i.delete(o),r.delete(o)),t=t.isAttached()?t.getNextSibling():null}}function wp(t,e,n,r){t=t._nodeMap,e=e._nodeMap;for(let i of n){let o=e.get(i);o===void 0||o.isAttached()||(t.has(i)||n.delete(i),e.delete(i))}for(let[i]of r)n=e.get(i),n===void 0||n.isAttached()||(O(n)&&Td(n,i,t,e,r),t.has(i)||r.delete(i),e.delete(i))}function ru(t,e){let n=t.__mode,r=t.__format;t=t.__style;let i=e.__mode,o=e.__format;return e=e.__style,(n===null||n===i)&&(r===null||r===o)&&(t===null||t===e)}function iu(t,e){let n=t.mergeWithSibling(e),r=pe()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function Sd(t){if(t.__text===""&&t.isSimpleText()&&!t.isUnmergeable())t.remove();else{for(var e;(e=t.getPreviousSibling())!==null&&F(e)&&e.isSimpleText()&&!e.isUnmergeable();)if(e.__text==="")e.remove();else{ru(e,t)&&(t=iu(e,t));break}for(var n;(n=t.getNextSibling())!==null&&F(n)&&n.isSimpleText()&&!n.isUnmergeable();)if(n.__text==="")n.remove();else{ru(t,n)&&iu(t,n);break}}}function Ad(t){return ou(t.anchor),ou(t.focus),t}function ou(t){for(;t.type==="element";){var e=t.getNode(),n=t.offset;if(n===e.getChildrenSize()?(e=e.getChildAtIndex(n-1),n=!0):(e=e.getChildAtIndex(n),n=!1),F(e)){t.set(e.__key,n?e.getTextContentSize():0,"text");break}else if(!O(e))break;t.set(e.__key,n?e.getChildrenSize():0,"element")}}let ve="",Ze="",tn="",vn,We,ai,Rd=!1,ea=!1,Wo,Ki=null,Qs,el,Gn,Tn,tl,ui;function Wi(t,e){let n=Gn.get(t);if(e!==null){let r=il(t);r.parentNode===e&&e.removeChild(r)}Tn.has(t)||We._keyToDOMMap.delete(t),O(n)&&(t=fo(n,Gn),nl(t,0,t.length-1,null)),n!==void 0&&Ql(ui,ai,Wo,n,"destroyed")}function nl(t,e,n,r){for(;e<=n;++e){let i=t[e];i!==void 0&&Wi(i,r)}}function Dn(t,e){t.setProperty("text-align",e)}function wd(t,e){var n=vn.theme.indent;if(typeof n=="string"){let r=t.classList.contains(n);0<e&&!r?t.classList.add(n):1>e&&r&&t.classList.remove(n)}n=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||"40px",t.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${n})`)}function Od(t,e){t=t.style,e===0?Dn(t,""):e===1?Dn(t,"left"):e===2?Dn(t,"center"):e===3?Dn(t,"right"):e===4?Dn(t,"justify"):e===5?Dn(t,"start"):e===6&&Dn(t,"end")}function Gi(t,e,n){let r=Tn.get(t);r===void 0&&L(60);let i=r.createDOM(vn,We);var o=We._keyToDOMMap;if(i["__lexicalKey_"+We._key]=t,o.set(t,i),F(r)?i.setAttribute("data-lexical-text","true"):ae(r)&&i.setAttribute("data-lexical-decorator","true"),O(r)){if(t=r.__indent,o=r.__size,t!==0&&wd(i,t),o!==0){--o,t=fo(r,Tn);var s=Ze;Ze="",rl(t,r,0,o,i,null),Dd(r,i),Ze=s}t=r.__format,t!==0&&Od(i,t),r.isInline()||$d(null,r,i),ao(r)&&(ve+=`

`,tn+=`

`)}else o=r.getTextContent(),ae(r)?(s=r.decorate(We,vn),s!==null&&kd(t,s),i.contentEditable="false"):F(r)&&(r.isDirectionless()||(Ze+=o)),ve+=o,tn+=o;return e!==null&&(n!=null?e.insertBefore(i,n):(n=e.__lexicalLineBreak,n!=null?e.insertBefore(i,n):e.appendChild(i))),Ql(ui,ai,Wo,r,"created"),i}function rl(t,e,n,r,i,o){let s=ve;for(ve="";n<=r;++n)Gi(t[n],i,o);ao(e)&&(ve+=`

`),i.__lexicalTextContent=ve,ve=s+ve}function su(t,e){return t=e.get(t),gi(t)||ae(t)&&t.isInline()}function $d(t,e,n){t=t!==null&&(t.__size===0||su(t.__last,Gn)),e=e.__size===0||su(e.__last,Tn),t?e||(e=n.__lexicalLineBreak,e!=null&&n.removeChild(e),n.__lexicalLineBreak=null):e&&(e=document.createElement("br"),n.__lexicalLineBreak=e,n.appendChild(e))}function Dd(t,e){var n=e.__lexicalDir;if(e.__lexicalDirTextContent!==Ze||n!==Ki){let o=Ze==="";if(o)var r=Ki;else r=Ze,r=hp.test(r)?"rtl":pp.test(r)?"ltr":null;if(r!==n){let s=e.classList,l=vn.theme;var i=n!==null?l[n]:void 0;let a=r!==null?l[r]:void 0;i!==void 0&&(typeof i=="string"&&(i=i.split(" "),i=l[n]=i),s.remove(...i)),r===null||o&&r==="ltr"?e.removeAttribute("dir"):(a!==void 0&&(typeof a=="string"&&(n=a.split(" "),a=l[r]=n),a!==void 0&&s.add(...a)),e.dir=r),ea||(t.getWritable().__dir=r)}Ki=r,e.__lexicalDirTextContent=Ze,e.__lexicalDir=r}}function fo(t,e){let n=[];for(t=t.__first;t!==null;){let r=e.get(t);r===void 0&&L(101),n.push(t),t=r.__next}return n}function zr(t,e){var n=Gn.get(t),r=Tn.get(t);n!==void 0&&r!==void 0||L(61);var i=Rd||el.has(t)||Qs.has(t);let o=uo(We,t);if(n===r&&!i)return O(n)?(r=o.__lexicalTextContent,r!==void 0&&(ve+=r,tn+=r),r=o.__lexicalDirTextContent,r!==void 0&&(Ze+=r)):(r=n.getTextContent(),F(n)&&!n.isDirectionless()&&(Ze+=r),tn+=r,ve+=r),o;if(n!==r&&i&&Ql(ui,ai,Wo,r,"updated"),r.updateDOM(n,o,vn))return r=Gi(t,null,null),e===null&&L(62),e.replaceChild(r,o),Wi(t,null),r;if(O(n)&&O(r)){if(t=r.__indent,t!==n.__indent&&wd(o,t),t=r.__format,t!==n.__format&&Od(o,t),i){t=r,i=Ze,Ze="",e=ve;var s=n.__size,l=t.__size;if(ve="",s===1&&l===1){var a=n.__first,c=t.__first;if(a===c)zr(a,o);else{var g=il(a);c=Gi(c,null,null),o.replaceChild(c,g),Wi(a,null)}}else{c=fo(n,Gn);var d=fo(t,Tn);if(s===0)l!==0&&rl(d,t,0,l-1,o,null);else if(l===0)s!==0&&(a=o.__lexicalLineBreak==null,nl(c,0,s-1,a?null:o),a&&(o.textContent=""));else{var u=c;c=d,d=s-1,s=l-1;let h=o.firstChild,p=0;for(l=0;p<=d&&l<=s;){var f=u[p];let E=c[l];if(f===E)h=hs(zr(E,o)),p++,l++;else{a===void 0&&(a=new Set(u)),g===void 0&&(g=new Set(c));let x=g.has(f),m=a.has(E);x?(m?(f=uo(We,E),f===h?h=hs(zr(E,o)):(h!=null?o.insertBefore(f,h):o.appendChild(f),zr(E,o)),p++):Gi(E,o,h),l++):(h=hs(il(f)),Wi(f,o),p++)}}a=p>d,g=l>s,a&&!g?(a=c[s+1],a=a===void 0?null:We.getElementByKey(a),rl(c,t,l,s,o,a)):g&&!a&&nl(u,p,d,o)}}ao(t)&&(ve+=`

`),o.__lexicalTextContent=ve,ve=e+ve,Dd(t,o),Ze=i,at(r)||r.isInline()||$d(n,r,o)}ao(r)&&(ve+=`

`,tn+=`

`)}else n=r.getTextContent(),ae(r)?(i=r.decorate(We,vn),i!==null&&kd(t,i)):F(r)&&!r.isDirectionless()&&(Ze+=n),ve+=n,tn+=n;return!ea&&at(r)&&r.__cachedText!==tn&&(r=r.getWritable(),r.__cachedText=tn),o}function kd(t,e){let n=We._pendingDecorators,r=We._decorators;if(n===null){if(r[t]===e)return;n=_d(We)}n[t]=e}function hs(t){return t=t.nextSibling,t!==null&&t===We._blockCursorElement&&(t=t.nextSibling),t}function il(t){return t=tl.get(t),t===void 0&&L(75),t}let Zt=Object.freeze({}),ol=[["keydown",bp],["pointerdown",$p],["compositionstart",Mp],["compositionend",Ip],["input",Lp],["click",Op],["cut",Zt],["copy",Zt],["dragstart",Zt],["dragover",Zt],["dragend",Zt],["paste",Zt],["focus",Zt],["blur",Zt],["drop",Zt]];oo&&ol.push(["beforeinput",(t,e)=>kp(t,e)]);let ci=0,Ld=0,Md=0,cr=null,Gr=0,sl=!1,ll=!1,Yr=!1,Ur=!1,Id=[0,"",0,"root",0];function bd(t,e,n,r,i){let o=t.anchor,s=t.focus,l=o.getNode();var a=pe();let c=Wt(a._window),g=c!==null?c.anchorNode:null,d=o.key;a=a.getElementByKey(d);let u=n.length;return d!==s.key||!F(l)||(!i&&(!oo||Md<r+50)||l.isDirty()&&2>u||yd(n))&&o.offset!==s.offset&&!l.isComposing()||Js(l)||l.isDirty()&&1<u||(i||!oo)&&a!==null&&!l.isComposing()&&g!==so(a)||c!==null&&e!==null&&(!e.collapsed||e.startContainer!==c.anchorNode||e.startOffset!==c.anchorOffset)||l.getFormat()!==t.format||l.getStyle()!==t.style||Sp(t,l)}function lu(t,e){return t!==null&&t.nodeValue!==null&&t.nodeType===3&&e!==0&&e!==t.nodeValue.length}function au(t,e,n){let{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}=t;sl&&(sl=!1,lu(r,i)&&lu(o,s))||ht(e,()=>{if(!n)Cn(null);else if(xi(e,r,o)){var l=ue();if(V(l)){var a=l.anchor,c=a.getNode();if(l.isCollapsed()){t.type==="Range"&&t.anchorNode===t.focusNode&&(l.dirty=!0);var g=Ho(e).event;g=g?g.timeStamp:performance.now();let[d,u,f,h,p]=Id;g<p+200&&a.offset===f&&a.key===h?(l.format=d,l.style=u):a.type==="text"?(l.format=c.getFormat(),l.style=c.getStyle()):a.type==="element"&&(l.format=0,l.style="")}else{a=255,c=!1,g=l.getNodes();let d=g.length;for(let u=0;u<d;u++){let f=g[u];if(F(f)&&(c=!0,a&=f.getFormat(),a===0))break}l.format=c?a:0}}P(e,Fl,void 0)}})}function Op(t,e){ht(e,()=>{let n=ue(),r=Wt(e._window),i=Si();if(V(n)){let o=n.anchor,s=o.getNode();r&&o.type==="element"&&o.offset===0&&n.isCollapsed()&&!at(s)&&Kt().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&i!==null&&n.is(i)&&(r.removeAllRanges(),n.dirty=!0)}P(e,Kc,t)})}function $p(t,e){let n=t.target;t=t.pointerType,n instanceof Node&&t!=="touch"&&ht(e,()=>{ae(Ci(n))||(ll=!0)})}function Pd(t){return t.getTargetRanges?(t=t.getTargetRanges(),t.length===0?null:t[0]):null}function Dp(t,e){return t!==e||O(t)||O(e)||!t.isToken()||!e.isToken()}function kp(t,e){let n=t.inputType,r=Pd(t);n==="deleteCompositionText"||Wn&&Nd(e)||n!=="insertCompositionText"&&ht(e,()=>{let i=ue();if(n==="deleteContentBackward"){if(i===null){var o=Si();if(!V(o))return;Cn(o.clone())}if(V(i)){Ld===229&&t.timeStamp<ci+30&&e.isComposing()&&i.anchor.key===i.focus.key?(Be(null),ci=0,setTimeout(()=>{ht(e,()=>{Be(null)})},30),V(i)&&(o=i.anchor.getNode(),o.markDirty(),i.format=o.getFormat(),i.style=o.getStyle())):(t.preventDefault(),P(e,oi,!0));return}}if(V(i)){o=t.data,cr!==null&&ql(!1,e,cr),i.dirty&&cr===null||!i.isCollapsed()||at(i.anchor.getNode())||r===null||i.applyDOMRange(r),cr=null;var s=i.focus,l=i.anchor.getNode();if(s=s.getNode(),n==="insertText"||n==="insertTranspose")o===`
`?(t.preventDefault(),P(e,Kr,!1)):o===`

`?(t.preventDefault(),P(e,Ys,void 0)):o==null&&t.dataTransfer?(o=t.dataTransfer.getData("text/plain"),t.preventDefault(),i.insertRawText(o)):o!=null&&bd(i,r,o,t.timeStamp,!0)?(t.preventDefault(),P(e,yr,o)):cr=o,Md=t.timeStamp;else switch(t.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":P(e,yr,t);break;case"insertFromComposition":Be(null),P(e,yr,t);break;case"insertLineBreak":Be(null),P(e,Kr,!1);break;case"insertParagraph":Be(null),Yr?(Yr=!1,P(e,Kr,!1)):P(e,Ys,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":P(e,Bl,t);break;case"deleteByComposition":Dp(l,s)&&P(e,Vs,void 0);break;case"deleteByDrag":case"deleteByCut":P(e,Vs,void 0);break;case"deleteContent":P(e,oi,!1);break;case"deleteWordBackward":P(e,si,!0);break;case"deleteWordForward":P(e,si,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":P(e,li,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":P(e,li,!1);break;case"formatStrikeThrough":P(e,_n,"strikethrough");break;case"formatBold":P(e,_n,"bold");break;case"formatItalic":P(e,_n,"italic");break;case"formatUnderline":P(e,_n,"underline");break;case"historyUndo":P(e,zl,void 0);break;case"historyRedo":P(e,Ul,void 0)}}})}function Lp(t,e){t.stopPropagation(),ht(e,()=>{var n=ue(),r=t.data,i=Pd(t);if(r!=null&&V(n)&&bd(n,i,r,t.timeStamp,!1)){Ur&&(al(e,r),Ur=!1);var o=n.anchor,s=o.getNode();if(i=Wt(e._window),i===null)return;let l=o.offset;(o=oo&&!n.isCollapsed()&&F(s)&&i.anchorNode!==null)&&(s=s.getTextContent().slice(0,l)+r+s.getTextContent().slice(l+n.focus.offset),i=i.anchorNode,o=s===(i.nodeType===3?i.nodeValue:null)),o||P(e,yr,r),r=r.length,Wn&&1<r&&t.inputType==="insertCompositionText"&&!e.isComposing()&&(n.anchor.offset-=r),Kl||Wl||Gl||!e.isComposing()||(ci=0,Be(null))}else ql(!1,e,r!==null?r:void 0),Ur&&(al(e,r||void 0),Ur=!1);Qe(),n=pe(),dd(n)}),cr=null}function Mp(t,e){ht(e,()=>{let n=ue();if(V(n)&&!e.isComposing()){let r=n.anchor,i=n.anchor.getNode();Be(r.key),(t.timeStamp<ci+30||r.type==="element"||!n.isCollapsed()||i.getFormat()!==n.format||i.getStyle()!==n.style)&&P(e,yr,fp)}})}function al(t,e){var n=t._compositionKey;if(Be(null),n!==null&&e!=null){if(e===""){e=ke(n),t=so(t.getElementByKey(n)),t!==null&&t.nodeValue!==null&&F(e)&&Zl(e,t.nodeValue,null,null,!0);return}if(e[e.length-1]===`
`&&(n=ue(),V(n))){e=n.focus,n.anchor.set(e.key,e.offset,e.type),P(t,io,null);return}}ql(!0,t,e)}function Ip(t,e){Wn?Ur=!0:ht(e,()=>{al(e,t.data)})}function bp(t,e){if(ci=t.timeStamp,Ld=t.keyCode,!e.isComposing()){var{keyCode:n,shiftKey:r,ctrlKey:i,metaKey:o,altKey:s}=t;if(!P(e,Wc,t)){if(n!==39||i||o||s)if(n!==39||s||r||!i&&!o)if(n!==37||i||o||s)if(n!==37||s||r||!i&&!o)if(n!==38||i||o)if(n!==40||i||o)if(n===13&&r)Yr=!0,P(e,io,t);else if(n===32)P(e,Zc,t);else if(Ve&&i&&n===79)t.preventDefault(),Yr=!0,P(e,Kr,!0);else if(n!==13||r)if(Ve?!(s||o)&&(n===8||n===72&&i):!(i||s||o)&&n===8)n===8?P(e,Qc,t):(t.preventDefault(),P(e,oi,!0));else if(n===27)P(e,ed,t);else if(Ve?!(r||s||o)&&(n===46||n===68&&i):!(i||s||o)&&n===46)n===46?P(e,td,t):(t.preventDefault(),P(e,oi,!1));else if(n===8&&(Ve?s:i))t.preventDefault(),P(e,si,!0);else if(n===46&&(Ve?s:i))t.preventDefault(),P(e,si,!1);else if(Ve&&o&&n===8)t.preventDefault(),P(e,li,!0);else if(Ve&&o&&n===46)t.preventDefault(),P(e,li,!1);else if(n===66&&!s&&(Ve?o:i))t.preventDefault(),P(e,_n,"bold");else if(n===85&&!s&&(Ve?o:i))t.preventDefault(),P(e,_n,"underline");else if(n===73&&!s&&(Ve?o:i))t.preventDefault(),P(e,_n,"italic");else if(n!==9||s||i||o)if(n===90&&!r&&(Ve?o:i))t.preventDefault(),P(e,zl,void 0);else{var l=Ve?n===90&&o&&r:n===89&&i||n===90&&i&&r;l?(t.preventDefault(),P(e,Ul,void 0)):Ti(e._editorState._selection)&&(l=r?!1:n===67?Ve?o:i:!1,l?(t.preventDefault(),P(e,jl,t)):(l=r?!1:n===88?Ve?o:i:!1,l?(t.preventDefault(),P(e,Hl,t)):n===65&&(Ve?o:i)&&(t.preventDefault(),e.update(()=>{let a=Kt();a.select(0,a.getChildrenSize())}))))}else P(e,nd,t);else Yr=!1,P(e,io,t);else P(e,qc,t);else P(e,Jc,t);else P(e,Xc,t);else P(e,Vc,t);else P(e,Yc,t);else P(e,Gc,t);(i||r||s||o)&&P(e,ud,t)}}}function Fd(t){let e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}let Er=new Map;function Bd(t){t=t.target;let e=Wt(t==null?null:t.nodeType===9?t.defaultView:t.ownerDocument.defaultView);if(e!==null){var n=Xl(e.anchorNode);if(n!==null){ll&&(ll=!1,ht(n,()=>{var s=Si(),l=e.anchorNode;l!==null&&(l=l.nodeType,l===1||l===3)&&(s=Hd(s,e,n),Cn(s))})),t=Jl(n),t=t[t.length-1];var r=t._key,i=Er.get(r),o=i||t;o!==n&&au(e,o,!1),au(e,n,!0),n!==t?Er.set(r,n):i&&Er.delete(r)}}}function Pp(t,e){Gr===0&&t.ownerDocument.addEventListener("selectionchange",Bd),Gr++,t.__lexicalEditor=e;let n=Fd(t);for(let r=0;r<ol.length;r++){let[i,o]=ol[r],s=typeof o=="function"?l=>{l._lexicalHandled!==!0&&(l._lexicalHandled=!0,e.isEditable()&&o(l,e))}:l=>{if(l._lexicalHandled!==!0&&(l._lexicalHandled=!0,e.isEditable()))switch(i){case"cut":return P(e,Hl,l);case"copy":return P(e,jl,l);case"paste":return P(e,Bl,l);case"dragstart":return P(e,id,l);case"dragover":return P(e,od,l);case"dragend":return P(e,sd,l);case"focus":return P(e,ld,l);case"blur":return P(e,ad,l);case"drop":return P(e,rd,l)}};t.addEventListener(i,s),n.push(()=>{t.removeEventListener(i,s)})}}function ul(t,e,n){Qe();var r=t.__key;let i=t.getParent();if(i!==null){var o=Ap(t),s=!1;if(V(o)&&e){let l=o.anchor,a=o.focus;l.key===r&&(po(l,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0),a.key===r&&(po(a,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0)}V(o)&&e&&!s?(r=t.getIndexWithinParent(),jn(t),ho(o,i,r,-1)):jn(t),n||Dt(i)||i.canBeEmpty()||!i.isEmpty()||ul(i,e),e&&at(i)&&i.isEmpty()&&i.selectEnd()}}class vi{static getType(){L(64)}static clone(){L(65)}constructor(e){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,pd(this,e)}getType(){return this.__type}isAttached(){for(var e=this.__key;e!==null;){if(e==="root")return!0;if(e=ke(e),e===null)break;e=e.__parent}return!1}isSelected(e){if(e=e||ue(),e==null)return!1;let n=e.getNodes().some(r=>r.__key===this.__key);return F(this)?n:V(e)&&e.anchor.type==="element"&&e.focus.type==="element"&&e.anchor.key===e.focus.key&&e.anchor.offset===e.focus.offset?!1:n}getKey(){return this.__key}getIndexWithinParent(){var e=this.getParent();if(e===null)return-1;e=e.getFirstChild();let n=0;for(;e!==null;){if(this.is(e))return n;n++,e=e.getNextSibling()}return-1}getParent(){let e=this.getLatest().__parent;return e===null?null:ke(e)}getParentOrThrow(){let e=this.getParent();return e===null&&L(66),e}getTopLevelElement(){let e=this;for(;e!==null;){let n=e.getParent();if(Dt(n))return e;e=n}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return e===null&&L(67),e}getParents(){let e=[],n=this.getParent();for(;n!==null;)e.push(n),n=n.getParent();return e}getParentKeys(){let e=[],n=this.getParent();for(;n!==null;)e.push(n.__key),n=n.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return e===null?null:ke(e)}getPreviousSiblings(){let e=[];var n=this.getParent();if(n===null)return e;for(n=n.getFirstChild();n!==null&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return e===null?null:ke(e)}getNextSiblings(){let e=[],n=this.getNextSibling();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getCommonAncestor(e){let n=this.getParents();var r=e.getParents();O(this)&&n.unshift(this),O(e)&&r.unshift(e),e=n.length;var i=r.length;if(e===0||i===0||n[e-1]!==r[i-1])return null;for(r=new Set(r),i=0;i<e;i++){let o=n[i];if(r.has(o))return o}return null}is(e){return e==null?!1:this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var n=this.getCommonAncestor(e);let r=this;for(;;){var i=r.getParentOrThrow();if(i===n){i=r.getIndexWithinParent();break}r=i}for(r=e;;){if(e=r.getParentOrThrow(),e===n){n=r.getIndexWithinParent();break}r=e}return i<n}isParentOf(e){let n=this.__key;if(n===e.__key)return!1;for(;e!==null;){if(e.__key===n)return!0;e=e.getParent()}return!1}getNodesBetween(e){let n=this.isBefore(e),r=[],i=new Set;for(var o=this;;){var s=o.__key;if(i.has(s)||(i.add(s),r.push(o)),o===e)break;if(s=O(o)?n?o.getFirstChild():o.getLastChild():null,s!==null)o=s;else if(s=n?o.getNextSibling():o.getPreviousSibling(),s!==null)o=s;else{if(o=o.getParentOrThrow(),i.has(o.__key)||r.push(o),o===e)break;s=o;do s===null&&L(68),o=n?s.getNextSibling():s.getPreviousSibling(),s=s.getParent(),s!==null&&(o!==null||i.has(s.__key)||r.push(s));while(o===null)}}return n||r.reverse(),r}isDirty(){let e=pe()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){let e=ke(this.__key);return e===null&&L(113),e}getWritable(){Qe();var e=Gt(),n=pe();e=e._nodeMap;let r=this.__key,i=this.getLatest(),o=i.__parent;n=n._cloneNotNeeded;var s=ue();return s!==null&&(s._cachedNodes=null),n.has(r)?(lo(i),i):(s=i.constructor.clone(i),s.__parent=o,s.__next=i.__next,s.__prev=i.__prev,O(i)&&O(s)?(s.__first=i.__first,s.__last=i.__last,s.__size=i.__size,s.__indent=i.__indent,s.__format=i.__format,s.__dir=i.__dir):F(i)&&F(s)&&(s.__format=i.__format,s.__style=i.__style,s.__mode=i.__mode,s.__detail=i.__detail),n.add(r),s.__key=r,lo(s),e.set(r,s),s)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){L(70)}updateDOM(){L(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){L(72)}static importJSON(){L(18)}static transform(){return null}remove(e){ul(this,!0,e)}replace(e,n){Qe();var r=ue();r!==null&&(r=r.clone()),gs(this,e);let i=this.getLatest(),o=this.__key,s=e.__key,l=e.getWritable();e=this.getParentOrThrow().getWritable();let a=e.__size;jn(l);let c=i.getPreviousSibling(),g=i.getNextSibling(),d=i.__prev,u=i.__next,f=i.__parent;return ul(i,!1,!0),c===null?e.__first=s:c.getWritable().__next=s,l.__prev=d,g===null?e.__last=s:g.getWritable().__prev=s,l.__next=u,l.__parent=f,e.__size=a,n&&this.getChildren().forEach(h=>{l.append(h)}),V(r)&&(Cn(r),n=r.anchor,r=r.focus,n.key===o&&uu(n,l),r.key===o&&uu(r,l)),yn()===o&&Be(s),l}insertAfter(e,n=!0){Qe(),gs(this,e);var r=this.getWritable();let i=e.getWritable();var o=i.getParent();let s=ue();var l=!1,a=!1;if(o!==null){var c=e.getIndexWithinParent();jn(i),V(s)&&(a=o.__key,l=s.anchor,o=s.focus,l=l.type==="element"&&l.key===a&&l.offset===c+1,a=o.type==="element"&&o.key===a&&o.offset===c+1)}o=this.getNextSibling(),c=this.getParentOrThrow().getWritable();let g=i.__key,d=r.__next;return o===null?c.__last=g:o.getWritable().__prev=g,c.__size++,r.__next=g,i.__next=d,i.__prev=r.__key,i.__parent=r.__parent,n&&V(s)&&(n=this.getIndexWithinParent(),ho(s,c,n+1),r=c.__key,l&&s.anchor.set(r,n+2,"element"),a&&s.focus.set(r,n+2,"element")),e}insertBefore(e,n=!0){Qe(),gs(this,e);var r=this.getWritable();let i=e.getWritable(),o=i.__key;jn(i);let s=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),a=r.__prev,c=this.getIndexWithinParent();return s===null?l.__first=o:s.getWritable().__next=o,l.__size++,r.__prev=o,i.__prev=a,i.__next=r.__key,i.__parent=r.__parent,r=ue(),n&&V(r)&&(n=this.getParentOrThrow(),ho(r,n,c)),e}isParentRequired(){return!1}createParentElementNode(){return Yn()}selectPrevious(e,n){Qe();let r=this.getPreviousSibling(),i=this.getParentOrThrow();return r===null?i.select(0,0):O(r)?r.select():F(r)?r.select(e,n):(e=r.getIndexWithinParent()+1,i.select(e,e))}selectNext(e,n){Qe();let r=this.getNextSibling(),i=this.getParentOrThrow();return r===null?i.select():O(r)?r.select(0,0):F(r)?r.select(e,n):(e=r.getIndexWithinParent(),i.select(e,e))}markDirty(){this.getWritable()}}class Ht{constructor(e,n,r){this._selection=null,this.key=e,this.offset=n,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let n=this.getNode(),r=e.getNode(),i=this.offset;if(e=e.offset,O(n)){var o=n.getDescendantByIndex(i);n=o??n}return O(r)&&(o=r.getDescendantByIndex(e),r=o??r),n===r?i<e:n.isBefore(r)}getNode(){let e=ke(this.key);return e===null&&L(20),e}set(e,n,r){let i=this._selection,o=this.key;this.key=e,this.offset=n,this.type=r,$r()||(yn()===o&&Be(e),i!==null&&(i._cachedNodes=null,i.dirty=!0))}}function ps(t,e){let n=e.__key,r=t.offset,i="element";if(F(e))i="text",e=e.getTextContentSize(),r>e&&(r=e);else if(!O(e)){var o=e.getNextSibling();F(o)?(n=o.__key,r=0,i="text"):(o=e.getParent())&&(n=o.__key,r=e.getIndexWithinParent()+1)}t.set(n,r,i)}function uu(t,e){if(O(e)){let n=e.getLastDescendant();O(n)||F(n)?ps(t,n):ps(t,e)}else ps(t,e)}function cu(t,e,n,r){let i=t.getNode(),o=i.getChildAtIndex(t.offset),s=Fe(),l=at(i)?Yn().append(s):s;s.setFormat(n),s.setStyle(r),o===null?i.append(l):o.insertBefore(l),t.is(e)&&e.set(s.__key,0,"text"),t.set(s.__key,0,"text")}function fn(t,e,n,r){t.key=e,t.offset=n,t.type=r}class Go{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}is(e){if(!Ti(e))return!1;let n=this._nodes,r=e._nodes;return n.size===r.size&&Array.from(n).every(i=>r.has(i))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Go(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,n){let r=this.getNodes(),i=r.length;var o=r[i-1];if(F(o))o=o.select();else{let s=o.getIndexWithinParent()+1;o=o.getParentOrThrow().select(s,s)}for(o.insertNodes(e,n),e=0;e<i;e++)r[e].remove();return!0}getNodes(){var e=this._cachedNodes;if(e!==null)return e;var n=this._nodes;e=[];for(let r of n)n=ke(r),n!==null&&e.push(n);return $r()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}}function V(t){return t instanceof Qn}class Yo{constructor(e,n,r){this.gridKey=e,this.anchor=n,this.focus=r,this.dirty=!1,this._cachedNodes=null,n._selection=this,r._selection=this}is(e){return ta(e)?this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus):!1}set(e,n,r){this.dirty=!0,this.gridKey=e,this.anchor.key=n,this.focus.key=r,this._cachedNodes=null}clone(){return new Yo(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return Yi(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,n){let r=this.focus.getNode();return Ad(r.select(0,r.getChildrenSize())).insertNodes(e,n)}getShape(){var e=ke(this.anchor.key);e===null&&L(21);var n=e.getIndexWithinParent();e=e.getParentOrThrow().getIndexWithinParent();var r=ke(this.focus.key);r===null&&L(22);var i=r.getIndexWithinParent();let o=r.getParentOrThrow().getIndexWithinParent();return r=Math.min(n,i),n=Math.max(n,i),i=Math.min(e,o),e=Math.max(e,o),{fromX:Math.min(r,n),fromY:Math.min(i,e),toX:Math.max(r,n),toY:Math.max(i,e)}}getNodes(){function e(E){let{cell:x,startColumn:m,startRow:_}=E;a=Math.min(a,m),c=Math.min(c,_),g=Math.max(g,m+x.__colSpan-1),d=Math.max(d,_+x.__rowSpan-1)}var n=this._cachedNodes;if(n!==null)return n;var r=this.anchor.getNode();n=this.focus.getNode(),r=go(r,Ut);var i=go(n,Ut);Ut(r)||L(103),Ut(i)||L(104),n=r.getParent(),fi(n)||L(105),n=n.getParent(),oa(n)||L(106);let[o,s,l]=Kd(n,r,i),a=Math.min(s.startColumn,l.startColumn),c=Math.min(s.startRow,l.startRow),g=Math.max(s.startColumn+s.cell.__colSpan-1,l.startColumn+l.cell.__colSpan-1),d=Math.max(s.startRow+s.cell.__rowSpan-1,l.startRow+l.cell.__rowSpan-1);r=a,i=c;for(var u=a,f=c;a<r||c<i||g>u||d>f;){if(a<r){var h=f-i;--r;for(var p=0;p<=h;p++)e(o[i+p][r])}if(c<i)for(h=u-r,--i,p=0;p<=h;p++)e(o[i][r+p]);if(g>u)for(h=f-i,u+=1,p=0;p<=h;p++)e(o[i+p][u]);if(d>f)for(h=u-r,f+=1,p=0;p<=h;p++)e(o[f][r+p])}for(n=[n],r=null,i=c;i<=d;i++)for(u=a;u<=g;u++)({cell:f}=o[i][u]),h=f.getParent(),fi(h)||L(107),h!==r&&n.push(h),n.push(f,...Rp(f)),r=h;return $r()||(this._cachedNodes=n),n}getTextContent(){let e=this.getNodes(),n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}}function ta(t){return t instanceof Yo}class Qn{constructor(e,n,r,i){this.anchor=e,this.focus=n,this.dirty=!1,this.format=r,this.style=i,this._cachedNodes=null,e._selection=this,n._selection=this}is(e){return V(e)?this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style:!1}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var e=this._cachedNodes;if(e!==null)return e;e=this.anchor;var n=this.focus,r=e.isBefore(n),i=r?e:n;r=r?n:e,e=i.getNode(),n=r.getNode();let o=i.offset;return i=r.offset,O(e)&&(r=e.getDescendantByIndex(o),e=r??e),O(n)&&(r=n.getDescendantByIndex(i),r!==null&&r!==e&&n.getChildAtIndex(i)===r&&(r=r.getPreviousSibling()),n=r??n),e=e.is(n)?O(e)&&0<e.getChildrenSize()?[]:[e]:e.getNodesBetween(n),$r()||(this._cachedNodes=e),e}setTextNodeRange(e,n,r,i){fn(this.anchor,e.__key,n,"text"),fn(this.focus,r.__key,i,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let e=this.getNodes();if(e.length===0)return"";let n=e[0],r=e[e.length-1],i=this.anchor,o=this.focus,s=i.isBefore(o),[l,a]=Yi(this),c="",g=!0;for(let d=0;d<e.length;d++){let u=e[d];if(O(u)&&!u.isInline())g||(c+=`
`),g=!u.isEmpty();else if(g=!1,F(u)){let f=u.getTextContent();u===n?u===r?(i.type!=="element"||o.type!=="element"||o.offset===i.offset)&&(f=l<a?f.slice(l,a):f.slice(a,l)):f=s?f.slice(l):f.slice(a):u===r&&(f=s?f.slice(0,a):f.slice(0,l)),c+=f}else!ae(u)&&!gi(u)||u===r&&this.isCollapsed()||(c+=u.getTextContent())}return c}applyDOMRange(e){let n=pe(),r=n.getEditorState()._selection;if(e=Ud(e.startContainer,e.startOffset,e.endContainer,e.endOffset,n,r),e!==null){var[i,o]=e;fn(this.anchor,i.key,i.offset,i.type),fn(this.focus,o.key,o.offset,o.type),this._cachedNodes=null}}clone(){let e=this.anchor,n=this.focus;return new Qn(new Ht(e.key,e.offset,e.type),new Ht(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(e){this.format=fd(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){return(this.format&Un[e])!==0}insertRawText(e){let n=e.split(/\r?\n/);if(n.length===1)this.insertText(e);else{e=[];let r=n.length;for(let i=0;i<r;i++){let o=n[i];o!==""&&e.push(Fe(o)),i!==r-1&&e.push(Sr())}this.insertNodes(e)}}insertText(e){var n=this.anchor,r=this.focus,i=this.isCollapsed()||n.isBefore(r),o=this.format,s=this.style;i&&n.type==="element"?cu(n,r,o,s):i||r.type!=="element"||cu(r,n,o,s);var l=this.getNodes(),a=l.length,c=i?r:n;r=(i?n:r).offset;var g=c.offset;n=l[0],F(n)||L(26),i=n.getTextContent().length;var d=n.getParentOrThrow(),u=l[a-1];if(this.isCollapsed()&&r===i&&(n.isSegmented()||n.isToken()||!n.canInsertTextAfter()||!d.canInsertTextAfter()&&n.getNextSibling()===null)){var f=n.getNextSibling();if((!F(f)||Js(f))&&(f=Fe(),f.setFormat(o),d.canInsertTextAfter()?n.insertAfter(f):d.insertAfter(f)),f.select(0,0),n=f,e!==""){this.insertText(e);return}}else if(this.isCollapsed()&&r===0&&(n.isSegmented()||n.isToken()||!n.canInsertTextBefore()||!d.canInsertTextBefore()&&n.getPreviousSibling()===null)){if(f=n.getPreviousSibling(),(!F(f)||Js(f))&&(f=Fe(),f.setFormat(o),d.canInsertTextBefore()?n.insertBefore(f):d.insertBefore(f)),f.select(),n=f,e!==""){this.insertText(e);return}}else if(n.isSegmented()&&r!==i)d=Fe(n.getTextContent()),d.setFormat(o),n.replace(d),n=d;else if(!(this.isCollapsed()||e===""||(f=u.getParent(),d.canInsertTextBefore()&&d.canInsertTextAfter()&&(!O(f)||f.canInsertTextBefore()&&f.canInsertTextAfter())))){this.insertText(""),zd(this.anchor,this.focus,null),this.insertText(e);return}if(a===1)if(n.isToken())e=Fe(e),e.select(),n.replace(e);else{if(l=n.getFormat(),a=n.getStyle(),r===g&&(l!==o||a!==s))if(n.getTextContent()==="")n.setFormat(o),n.setStyle(s);else{l=Fe(e),l.setFormat(o),l.setStyle(s),l.select(),r===0?n.insertBefore(l,!1):([a]=n.splitText(r),a.insertAfter(l,!1)),l.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);return}n=n.spliceText(r,g-r,e,!0),n.getTextContent()===""?n.remove():this.anchor.type==="text"&&(n.isComposing()?this.anchor.offset-=e.length:(this.format=l,this.style=a))}else{if(o=new Set([...n.getParentKeys(),...u.getParentKeys()]),f=O(n)?n:n.getParentOrThrow(),s=O(u)?u:u.getParentOrThrow(),d=u,!f.is(s)&&s.isInline())do d=s,s=s.getParentOrThrow();while(s.isInline());c.type==="text"&&(g!==0||u.getTextContent()==="")||c.type==="element"&&u.getIndexWithinParent()<g?F(u)&&!u.isToken()&&g!==u.getTextContentSize()?(u.isSegmented()&&(c=Fe(u.getTextContent()),u.replace(c),u=c),u=u.spliceText(0,g,""),o.add(u.__key)):(c=u.getParentOrThrow(),c.canBeEmpty()||c.getChildrenSize()!==1?u.remove():c.remove()):o.add(u.__key),c=s.getChildren(),g=new Set(l),u=f.is(s),f=f.isInline()&&n.getNextSibling()===null?f:n;for(let h=c.length-1;0<=h;h--){let p=c[h];if(p.is(n)||O(p)&&p.isParentOf(n))break;p.isAttached()&&(!g.has(p)||p.is(d)?u||f.insertAfter(p,!1):p.remove())}if(!u)for(c=s,g=null;c!==null;)s=c.getChildren(),u=s.length,(u===0||s[u-1].is(g))&&(o.delete(c.__key),g=c),c=c.getParent();for(n.isToken()?r===i?n.select():(e=Fe(e),e.select(),n.replace(e)):(n=n.spliceText(r,i-r,e,!0),n.getTextContent()===""?n.remove():n.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length)),e=1;e<a;e++)n=l[e],o.has(n.__key)||n.remove()}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())this.toggleFormat(e),Be(null);else{var n=this.getNodes(),r=[];for(var i of n)F(i)&&r.push(i);var o=r.length;if(o===0)this.toggleFormat(e),Be(null);else{i=this.anchor;var s=this.focus,l=this.isBackward();n=l?s:i,i=l?i:s;var a=0,c=r[0];if(s=n.type==="element"?0:n.offset,n.type==="text"&&s===c.getTextContentSize()&&(a=1,c=r[1],s=0),c!=null){l=c.getFormatFlags(e,null);var g=o-1,d=r[g];if(o=i.type==="text"?i.offset:d.getTextContentSize(),c.is(d))s!==o&&(s===0&&o===c.getTextContentSize()?c.setFormat(l):(e=c.splitText(s,o),e=s===0?e[0]:e[1],e.setFormat(l),n.type==="text"&&n.set(e.__key,0,"text"),i.type==="text"&&i.set(e.__key,o-s,"text")),this.format=l);else{s!==0&&([,c]=c.splitText(s),s=0),c.setFormat(l);var u=d.getFormatFlags(e,l);for(0<o&&(o!==d.getTextContentSize()&&([d]=d.splitText(o)),d.setFormat(u)),a+=1;a<g;a++){let f=r[a];if(!f.isToken()){let h=f.getFormatFlags(e,u);f.setFormat(h)}}n.type==="text"&&n.set(c.__key,s,"text"),i.type==="text"&&i.set(d.__key,o,"text"),this.format=l|u}}}}}insertNodes(e,n){if(!this.isCollapsed()){var r=this.isBackward()?this.anchor:this.focus,i=r.getNode().getNextSibling();if(i=i?i.getKey():null,r=(r=r.getNode().getPreviousSibling())?r.getKey():null,this.removeText(),this.isCollapsed()&&this.focus.type==="element"){if(this.focus.key===i&&this.focus.offset===0){var o=Fe();this.focus.getNode().insertBefore(o)}else this.focus.key===r&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(o=Fe(),this.focus.getNode().insertAfter(o));o&&(this.focus.set(o.__key,0,"text"),this.anchor.set(o.__key,0,"text"))}}o=this.anchor,r=o.offset;var s=o.getNode();i=s,o.type==="element"&&(o=o.getNode(),i=o.getChildAtIndex(r-1),i=i===null?o:i),o=[];var l=s.getNextSiblings(),a=Dt(s)?null:s.getTopLevelElementOrThrow();if(F(s))if(i=s.getTextContent().length,r===0&&i!==0)i=s.getPreviousSibling(),i=i!==null?i:s.getParentOrThrow(),o.push(s);else if(r===i)i=s;else{if(s.isToken())return!1;[i,s]=s.splitText(r),o.push(s)}s=i,o.push(...l),l=e[0];var c=!1,g=null;for(let h=0;h<e.length;h++){var d=e[h];if(Dt(i)||ae(i)||!O(d)||d.isInline())c&&!O(d)&&!ae(d)&&Dt(i.getParent())&&L(28);else{if(d.is(l)){if(O(i)&&i.isEmpty()&&i.canReplaceWith(d)){i.replace(d),i=d,c=!0;continue}if(c=d.getFirstDescendant(),hd(c)){for(var u=c.getParentOrThrow();u.isInline();)u=u.getParentOrThrow();if(g=u.getChildren(),c=g.length,O(i)){var f=i.getFirstChild();for(let p=0;p<c;p++){let E=g[p];f===null?i.append(E):f.insertAfter(E),f=E}}else{for(f=c-1;0<=f;f--)i.insertAfter(g[f]);i=i.getParentOrThrow()}if(g=g[c-1],u.remove(),c=!0,u.is(d))continue}}F(i)&&(a===null&&L(27),i=a)}c=!1,O(i)&&!i.isInline()?(g=d,ae(d)&&!d.isInline()?i=i.insertAfter(d,!1):O(d)?(d.canBeEmpty()||!d.isEmpty())&&(at(i)?(u=i.getChildAtIndex(r),u!==null?u.insertBefore(d):i.append(d),i=d):d.isInline()?(i.append(d),i=d):i=i.insertAfter(d,!1)):(u=i.getFirstChild(),u!==null?u.insertBefore(d):i.append(d),i=d)):!O(d)||O(d)&&d.isInline()||ae(i)&&!i.isInline()?(g=d,V(this)&&ae(d)&&(O(i)||F(i))&&!d.isInline()?(F(i)?(u=i.getParentOrThrow(),[i]=i.splitText(r),i=i.getIndexWithinParent()+1):(u=i,i=r),[,i]=vd(u,i),i=i.insertBefore(d)):i=i.insertAfter(d,!1)):(d=i.getParentOrThrow(),gi(i)&&i.remove(),i=d,h--)}if(n&&(F(s)?s.select():(e=i.getPreviousSibling(),F(e)?e.select():(e=i.getIndexWithinParent(),i.getParentOrThrow().select(e,e)))),O(i)){if(e=F(g)?g:O(g)&&g.isInline()?g.getLastDescendant():i.getLastDescendant(),n||(e===null?i.select():F(e)?e.getTextContent()===""?e.selectPrevious():e.select():e.selectNext()),o.length!==0)for(n=i,e=o.length-1;0<=e;e--)r=o[e],a=r.getParentOrThrow(),!O(i)||pu(r)||ae(r)&&(!r.isInline()||r.isIsolated())?O(i)||pu(r)?O(r)&&!r.canInsertAfter(i)?(s=a.constructor.clone(a),O(s)||L(29),s.append(r),i.insertAfter(s)):i.insertAfter(r):(i.insertBefore(r),i=r):(n===i?i.append(r):i.insertBefore(r),i=r),a.isEmpty()&&!a.canBeEmpty()&&a.remove()}else n||(F(i)?i.select():(n=i.getParentOrThrow(),e=i.getIndexWithinParent()+1,n.select(e,e)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var e=this.anchor,n=e.offset,r=[];if(e.type==="text"){var i=e.getNode(),o=i.getNextSiblings().reverse(),s=i.getParentOrThrow(),l=s.isInline(),a=l?s.getTextContentSize():i.getTextContentSize();n===0?o.push(i):(l&&(r=s.getNextSiblings()),n===a||l&&n===i.getTextContentSize()||([,i]=i.splitText(n),o.push(i)))}else{if(s=e.getNode(),Dt(s)){o=Yn(),r=s.getChildAtIndex(n),o.select(),r!==null?r.insertBefore(o,!1):s.append(o);return}o=s.getChildren().slice(n).reverse()}if(i=o.length,n===0&&0<i&&s.isInline()){if(r=s.getParentOrThrow(),o=r.insertNewAfter(this,!1),O(o))for(r=r.getChildren(),s=0;s<r.length;s++)o.append(r[s])}else if(l=s.insertNewAfter(this,!1),l===null)this.insertLineBreak();else if(O(l))if(a=s.getFirstChild(),n===0&&(s.is(e.getNode())||a&&a.is(e.getNode()))&&0<i)s.insertBefore(l);else{if(s=null,n=r.length,e=l.getParentOrThrow(),0<n)for(a=0;a<n;a++)e.append(r[a]);if(i!==0)for(r=0;r<i;r++)n=o[r],s===null?l.append(n):s.insertBefore(n),s=n;l.canBeEmpty()||l.getChildrenSize()!==0?l.selectStart():(l.selectPrevious(),l.remove())}}insertLineBreak(e){let n=Sr();var r=this.anchor;r.type==="element"&&(r=r.getNode(),at(r)&&this.insertParagraph()),e?this.insertNodes([n],!0):this.insertNodes([n])&&n.selectNext(0,0)}getCharacterOffsets(){return Yi(this)}extract(){var e=this.getNodes(),n=e.length,r=n-1,i=this.anchor;let o=this.focus;var s=e[0];let l=e[r],[a,c]=Yi(this);return n===0?[]:n===1?F(s)&&!this.isCollapsed()?(e=a>c?c:a,r=s.splitText(e,a>c?a:c),e=e===0?r[0]:r[1],e!=null?[e]:[]):[s]:(n=i.isBefore(o),F(s)&&(i=n?a:c,i===s.getTextContentSize()?e.shift():i!==0&&([,s]=s.splitText(i),e[0]=s)),F(l)&&(s=l.getTextContent().length,n=n?c:a,n===0?e.pop():n!==s&&([l]=l.splitText(n),e[r]=l)),e)}modify(e,n,r){var i=this.focus,o=this.anchor,s=e==="move",l=qs(i,n);if(ae(l)&&!l.isIsolated())s&&l.isKeyboardSelectable()?(n=cl(),n.add(l.__key),Cn(n)):(e=n?l.getPreviousSibling():l.getNextSibling(),F(e)?(l=e.__key,n=n?e.getTextContent().length:0,i.set(l,n,"text"),s&&o.set(l,n,"text")):(r=l.getParentOrThrow(),O(e)?(r=e.__key,l=n?e.getChildrenSize():0):(l=l.getIndexWithinParent(),r=r.__key,n||l++),i.set(r,l,"element"),s&&o.set(r,l,"element")));else if(o=pe(),i=Wt(o._window)){var a=o._blockCursorElement,c=o._rootElement;if(c===null||a===null||!O(l)||l.isInline()||l.canBeEmpty()||Zs(a,o,c),i.modify(e,n?"backward":"forward",r),0<i.rangeCount&&(l=i.getRangeAt(0),o=this.anchor.getNode(),o=at(o)?o:xd(o),this.applyDOMRange(l),this.dirty=!0,!s)){for(s=this.getNodes(),e=[],r=!1,a=0;a<s.length;a++)c=s[a],co(c,o)?e.push(c):r=!0;r&&0<e.length&&(n?(n=e[0],O(n)?n.selectStart():n.getParentOrThrow().selectStart()):(n=e[e.length-1],O(n)?n.selectEnd():n.getParentOrThrow().selectEnd())),(i.anchorNode!==l.startContainer||i.anchorOffset!==l.startOffset)&&(n=this.focus,s=this.anchor,i=s.key,l=s.offset,o=s.type,fn(s,n.key,n.offset,n.type),fn(n,i,l,o),this._cachedNodes=null)}}}deleteCharacter(e){if(this.isCollapsed()){var n=this.anchor,r=this.focus,i=n.getNode();if(!e&&(n.type==="element"&&O(i)&&n.offset===i.getChildrenSize()||n.type==="text"&&n.offset===i.getTextContentSize())){var o=i.getParent();if(o=i.getNextSibling()||(o===null?null:o.getNextSibling()),O(o)&&o.isShadowRoot())return}if(o=qs(r,e),ae(o)&&!o.isIsolated()){o.isKeyboardSelectable()&&O(i)&&i.getChildrenSize()===0?(i.remove(),e=cl(),e.add(o.__key),Cn(e)):o.remove();return}if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&n.offset===0&&(n.type==="element"?n.getNode():n.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(o=r.type==="text"?r.getNode():null,i=n.type==="text"?n.getNode():null,o!==null&&o.isSegmented()){if(n=r.offset,r=o.getTextContentSize(),o.is(i)||e&&n!==r||!e&&n!==0){gu(o,e,n);return}}else if(i!==null&&i.isSegmented()&&(n=n.offset,r=i.getTextContentSize(),i.is(o)||e&&n!==0||!e&&n!==r)){gu(i,e,n);return}if(i=this.anchor,o=this.focus,n=i.getNode(),r=o.getNode(),n===r&&i.type==="text"&&o.type==="text"){var s=i.offset,l=o.offset;let a=s<l;r=a?s:l,l=a?l:s,s=l-1,r!==s&&(n=n.getTextContent().slice(r,l),yd(n)||(e?o.offset=s:i.offset=s))}}}i=this.isCollapsed(),this.removeText(),e&&!i&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0&&(e=this.anchor.getNode(),e.isEmpty()&&at(e.getParent())&&e.getIndexWithinParent()===0&&e.collapseAtStart(this))}deleteLine(e){this.isCollapsed()&&(this.anchor.type==="text"&&this.modify("extend",e,"lineboundary"),(e?this.focus:this.anchor).offset===0&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function Ti(t){return t instanceof Go}function du(t){let e=t.offset;return t.type==="text"?e:(t=t.getNode(),e===t.getChildrenSize()?t.getTextContent().length:0)}function Yi(t){let e=t.anchor;return t=t.focus,e.type==="element"&&t.type==="element"&&e.key===t.key&&e.offset===t.offset?[0,0]:[du(e),du(t)]}function gu(t,e,n){let r=t.getTextContent().split(/(?=\s)/g),i=r.length,o=0,s=0;for(let l=0;l<i;l++){let a=r[l],c=l===i-1;if(s=o,o+=a.length,e&&o===n||o>n||c){r.splice(l,1),c&&(s=void 0);break}}e=r.join("").trim(),e===""?t.remove():(t.setTextContent(e),t.select(s,s))}function fu(t,e,n,r){var i=e;if(t.nodeType===1){let l=!1;var o=t.childNodes,s=o.length;i===s&&(l=!0,i=s-1);let a=o[i];if(s=!1,a===r._blockCursorElement?(a=o[i+1],s=!0):r._blockCursorElement!==null&&i--,r=gr(a),F(r))i=l?r.getTextContentSize():0;else{if(o=gr(t),o===null)return null;if(O(o)?(t=o.getChildAtIndex(i),(e=O(t))&&(e=t.getParent(),e=n===null||e===null||!e.canBeEmpty()||e!==n.getNode()),e&&(n=l?t.getLastDescendant():t.getFirstDescendant(),n===null?(o=t,i=0):(t=n,o=O(t)?t:t.getParentOrThrow())),F(t)?(r=t,o=null,i=l?t.getTextContentSize():0):t!==o&&l&&!s&&i++):(i=o.getIndexWithinParent(),i=e===0&&ae(o)&&gr(t)===o?i:i+1,o=o.getParentOrThrow()),O(o))return new Ht(o.__key,i,"element")}}else r=gr(t);return F(r)?new Ht(r.__key,i,"text"):null}function hu(t,e,n){var r=t.offset,i=t.getNode();r===0?(r=i.getPreviousSibling(),i=i.getParent(),e?(n||!e)&&r===null&&O(i)&&i.isInline()&&(e=i.getPreviousSibling(),F(e)&&(t.key=e.__key,t.offset=e.getTextContent().length)):O(r)&&!n&&r.isInline()?(t.key=r.__key,t.offset=r.getChildrenSize(),t.type="element"):F(r)&&(t.key=r.__key,t.offset=r.getTextContent().length)):r===i.getTextContent().length&&(r=i.getNextSibling(),i=i.getParent(),e&&O(r)&&r.isInline()?(t.key=r.__key,t.offset=0,t.type="element"):(n||e)&&r===null&&O(i)&&i.isInline()&&!i.canInsertTextAfter()&&(e=i.getNextSibling(),F(e)&&(t.key=e.__key,t.offset=0)))}function zd(t,e,n){if(t.type==="text"&&e.type==="text"){var r=t.isBefore(e);let i=t.is(e);hu(t,r,i),hu(e,!r,i),i&&(e.key=t.key,e.offset=t.offset,e.type=t.type),r=pe(),r.isComposing()&&r._compositionKey!==t.key&&V(n)&&(r=n.anchor,n=n.focus,fn(t,r.key,r.offset,r.type),fn(e,n.key,n.offset,n.type))}}function Ud(t,e,n,r,i,o){return t===null||n===null||!xi(i,t,n)||(e=fu(t,e,V(o)?o.anchor:null,i),e===null)||(r=fu(n,r,V(o)?o.focus:null,i),r===null||e.type==="element"&&r.type==="element"&&(t=gr(t),n=gr(n),ae(t)&&ae(n)))?null:(zd(e,r,o),[e,r])}function pu(t){return O(t)&&!t.isInline()}function jd(t,e,n,r,i,o){let s=Gt();return t=new Qn(new Ht(t,e,i),new Ht(n,r,o),0,""),t.dirty=!0,s._selection=t}function cl(){return new Go(new Set)}function Fp(t){let e=t.getEditorState()._selection,n=Wt(t._window);return Ti(e)||ta(e)?e.clone():Hd(e,n,t)}function Hd(t,e,n){var r=n._window;if(r===null)return null;var i=r.event,o=i?i.type:void 0;r=o==="selectionchange",i=!Xs&&(r||o==="beforeinput"||o==="compositionstart"||o==="compositionend"||o==="click"&&i&&i.detail===3||o==="drop"||o===void 0);let s;if(!V(t)||i){if(e===null)return null;if(i=e.anchorNode,o=e.focusNode,s=e.anchorOffset,e=e.focusOffset,r&&V(t)&&!xi(n,i,o))return t.clone()}else return t.clone();if(n=Ud(i,s,o,e,n,t),n===null)return null;let[l,a]=n;return new Qn(l,a,V(t)?t.format:0,V(t)?t.style:"")}function ue(){return Gt()._selection}function Si(){return pe()._editorState._selection}function ho(t,e,n,r=1){var i=t.anchor,o=t.focus,s=i.getNode(),l=o.getNode();if(e.is(s)||e.is(l)){if(s=e.__key,t.isCollapsed())e=i.offset,(n<=e&&0<r||n<e&&0>r)&&(n=Math.max(0,e+r),i.set(s,n,"element"),o.set(s,n,"element"),mu(t));else{let c=t.isBackward();l=c?o:i;var a=l.getNode();i=c?i:o,o=i.getNode(),e.is(a)&&(a=l.offset,(n<=a&&0<r||n<a&&0>r)&&l.set(s,Math.max(0,a+r),"element")),e.is(o)&&(e=i.offset,(n<=e&&0<r||n<e&&0>r)&&i.set(s,Math.max(0,e+r),"element"))}mu(t)}}function mu(t){var e=t.anchor,n=e.offset;let r=t.focus;var i=r.offset,o=e.getNode(),s=r.getNode();if(t.isCollapsed())O(o)&&(s=o.getChildrenSize(),s=(i=n>=s)?o.getChildAtIndex(s-1):o.getChildAtIndex(n),F(s)&&(n=0,i&&(n=s.getTextContentSize()),e.set(s.__key,n,"text"),r.set(s.__key,n,"text")));else{if(O(o)){let l=o.getChildrenSize();n=(t=n>=l)?o.getChildAtIndex(l-1):o.getChildAtIndex(n),F(n)&&(o=0,t&&(o=n.getTextContentSize()),e.set(n.__key,o,"text"))}O(s)&&(n=s.getChildrenSize(),i=(e=i>=n)?s.getChildAtIndex(n-1):s.getChildAtIndex(i),F(i)&&(s=0,e&&(s=i.getTextContentSize()),r.set(i.__key,s,"text")))}}function Bp(t,e){if(e=e.getEditorState()._selection,t=t._selection,V(t)){var n=t.anchor;let r=t.focus,i;n.type==="text"&&(i=n.getNode(),i.selectionTransform(e,t)),r.type==="text"&&(n=r.getNode(),i!==n&&n.selectionTransform(e,t))}}function po(t,e,n,r,i){let o=null,s=0,l=null;r!==null?(o=r.__key,F(r)?(s=r.getTextContentSize(),l="text"):O(r)&&(s=r.getChildrenSize(),l="element")):i!==null&&(o=i.__key,F(i)?l="text":O(i)&&(l="element")),o!==null&&l!==null?t.set(o,s,l):(s=e.getIndexWithinParent(),s===-1&&(s=n.getChildrenSize()),t.set(n.__key,s,"element"))}function _u(t,e,n,r,i){t.type==="text"?(t.key=n,e||(t.offset+=i)):t.offset>r.getIndexWithinParent()&&--t.offset}function Kd(t,e,n){let r=[],i=null,o=null;t=t.getChildren();for(let g=0;g<t.length;g++){var s=t[g];fi(s)||L(108);var l=s.getChildren();s=0;for(let d of l){for(Ut(d)||L(109);r[g]!==void 0&&r[g][s]!==void 0;)s++;l=g;var a=s,c=d;let u={cell:c,startColumn:a,startRow:l},f=c.__rowSpan,h=c.__colSpan;for(let p=0;p<f;p++){r[l+p]===void 0&&(r[l+p]=[]);for(let E=0;E<h;E++)r[l+p][a+E]=u}e.is(c)&&(i=u),n.is(c)&&(o=u),s+=d.__colSpan}}return i===null&&L(110),o===null&&L(111),[r,i,o]}let Le=null,Me=null,ut=!1,ms=!1,di=0,yu={characterData:!0,childList:!0,subtree:!0};function $r(){return ut||Le!==null&&Le._readOnly}function Qe(){ut&&L(13)}function Gt(){return Le===null&&L(15),Le}function pe(){return Me===null&&L(16),Me}function Eu(t,e,n){var r=e.__type;let i=t._nodes.get(r);for(i===void 0&&L(30),t=n.get(r),t===void 0&&(t=Array.from(i.transforms),n.set(r,t)),n=t.length,r=0;r<n&&(t[r](e),e.isAttached());r++);}function zp(t,e){e=e._dirtyLeaves,t=t._nodeMap;for(let n of e)e=t.get(n),F(e)&&e.isAttached()&&e.isSimpleText()&&!e.isUnmergeable()&&Sd(e)}function Up(t,e){let n=e._dirtyLeaves,r=e._dirtyElements;t=t._nodeMap;let i=yn(),o=new Map;var s=n;let l=s.size;for(var a=r,c=a.size;0<l||0<c;){if(0<l){e._dirtyLeaves=new Set;for(let g of s)s=t.get(g),F(s)&&s.isAttached()&&s.isSimpleText()&&!s.isUnmergeable()&&Sd(s),s!==void 0&&s!==void 0&&s.__key!==i&&s.isAttached()&&Eu(e,s,o),n.add(g);if(s=e._dirtyLeaves,l=s.size,0<l){di++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map;for(let g of a)a=g[0],c=g[1],(a==="root"||c)&&(s=t.get(a),s!==void 0&&s!==void 0&&s.__key!==i&&s.isAttached()&&Eu(e,s,o),r.set(a,c));s=e._dirtyLeaves,l=s.size,a=e._dirtyElements,c=a.size,di++}e._dirtyLeaves=n,e._dirtyElements=r}function na(t,e){var n=e.get(t.type);if(n===void 0&&L(17),n=n.klass,t.type!==n.getType()&&L(18),n=n.importJSON(t),t=t.children,O(n)&&Array.isArray(t))for(let r=0;r<t.length;r++){let i=na(t[r],e);n.append(i)}return n}function Nu(t,e){let n=Le,r=ut,i=Me;Le=t,ut=!0,Me=null;try{return e()}finally{Le=n,ut=r,Me=i}}function Hn(t){let e=t._pendingEditorState,n=t._rootElement,r=t._headless||n===null;if(e!==null){var i=t._editorState,o=i._selection,s=e._selection,l=t._dirtyType!==0,a=Le,c=ut,g=Me,d=t._updating,u=t._observer,f=null;if(t._pendingEditorState=null,t._editorState=e,!r&&l&&u!==null){Me=t,Le=e,ut=!1,t._updating=!0;try{let le=t._dirtyType,Re=t._dirtyElements,be=t._dirtyLeaves;u.disconnect();var h=le,p=Re,E=be;Ze=tn=ve="",Rd=h===2,Ki=null,We=t,vn=t._config,ai=t._nodes,Wo=We._listeners.mutation,Qs=p,el=E,Gn=i._nodeMap,Tn=e._nodeMap,ea=e._readOnly,tl=new Map(t._keyToDOMMap);let lt=new Map;ui=lt,zr("root",null),ui=tl=vn=Tn=Gn=el=Qs=ai=We=void 0,f=lt}catch(le){if(le instanceof Error&&t._onError(le),ms)throw le;Vd(t,null,n,e),gd(t),t._dirtyType=2,ms=!0,Hn(t),ms=!1;return}finally{u.observe(n,yu),t._updating=d,Le=a,ut=c,Me=g}}e._readOnly||(e._readOnly=!0);var x=t._dirtyLeaves,m=t._dirtyElements,_=t._normalizedNodes,S=t._updateTags,R=t._deferred;l&&(t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set);var A=t._decorators,k=t._pendingDecorators||A,H=e._nodeMap,M;for(M in k)H.has(M)||(k===A&&(k=_d(t)),delete k[M]);var X=r?null:Wt(t._window);if(t._editable&&X!==null&&(l||s===null||s.dirty)){Me=t,Le=e;try{if(u!==null&&u.disconnect(),l||s===null||s.dirty){let le=t._blockCursorElement;le!==null&&Zs(le,t,n);e:{let Re=X.anchorNode,be=X.focusNode,lt=X.anchorOffset,wt=X.focusOffset,xe=document.activeElement;if(!(S.has("collaboration")&&xe!==n||xe!==null&&Vl(xe)))if(V(s)){var te=s.anchor,se=s.focus,it=te.key,ct=se.key,dt=uo(t,it),Ke=uo(t,ct),_e=te.offset,b=se.offset,q=s.format,Y=s.style,Se=s.isCollapsed(),K=dt,ye=Ke,Ae=!1;if(te.type==="text"){K=so(dt);let Ce=te.getNode();Ae=Ce.getFormat()!==q||Ce.getStyle()!==Y}else V(o)&&o.anchor.type==="text"&&(Ae=!0);if(se.type==="text"&&(ye=so(Ke)),K!==null&&ye!==null){if(Se&&(o===null||Ae||V(o)&&(o.format!==q||o.style!==Y))){var Ge=performance.now();Id=[q,Y,_e,it,Ge]}if(lt===_e&&wt===b&&Re===K&&be===ye&&(X.type!=="Range"||!Se)&&(xe!==null&&n.contains(xe)||n.focus({preventScroll:!0}),te.type!=="element"))break e;try{X.setBaseAndExtent(K,_e,ye,b)}catch{}if(!S.has("skip-scroll-into-view")&&s.isCollapsed()&&n!==null&&n===document.activeElement){let Ce=s instanceof Qn&&s.anchor.type==="element"?K.childNodes[_e]||null:0<X.rangeCount?X.getRangeAt(0):null;if(Ce!==null){let Ye;if(Ce instanceof Text){let Pe=document.createRange();Pe.selectNode(Ce),Ye=Pe.getBoundingClientRect()}else Ye=Ce.getBoundingClientRect();let Ot=n.ownerDocument,Mt=Ot.defaultView;if(Mt!==null)for(var{top:ot,bottom:At}=Ye,Rt,st,Ee=n;Ee!==null;){let Pe=Ee===Ot.body;if(Pe)Rt=0,st=Ho(t).innerHeight;else{let Xt=Ee.getBoundingClientRect();Rt=Xt.top,st=Xt.bottom}let It=0;if(ot<Rt?It=-(Rt-ot):At>st&&(It=At-st),It!==0)if(Pe)Mt.scrollBy(0,It);else{let Xt=Ee.scrollTop;Ee.scrollTop+=It;let wn=Ee.scrollTop-Xt;ot-=wn,At-=wn}if(Pe)break;Ee=jo(Ee)}}}sl=!0}}else o!==null&&xi(t,Re,be)&&X.removeAllRanges()}}e:{let le=t._blockCursorElement;if(V(s)&&s.isCollapsed()&&s.anchor.type==="element"&&n.contains(document.activeElement)){let Re=s.anchor,be=Re.getNode(),lt=Re.offset,wt=be.getChildrenSize(),xe=!1,Ce=null;if(lt===wt){let Ye=be.getChildAtIndex(lt-1);fs(Ye)&&(xe=!0)}else{let Ye=be.getChildAtIndex(lt);if(fs(Ye)){let Ot=Ye.getPreviousSibling();(Ot===null||fs(Ot))&&(xe=!0,Ce=t.getElementByKey(Ye.__key))}}if(xe){let Ye=t.getElementByKey(be.__key);if(le===null){let Ot=t._config.theme,Mt=document.createElement("div");Mt.contentEditable="false",Mt.setAttribute("data-lexical-cursor","true");let Pe=Ot.blockCursor;if(Pe!==void 0){if(typeof Pe=="string"){let It=Pe.split(" ");Pe=Ot.blockCursor=It}Pe!==void 0&&Mt.classList.add(...Pe)}t._blockCursorElement=le=Mt}n.style.caretColor="transparent",Ce===null?Ye.appendChild(le):Ye.insertBefore(le,Ce);break e}}le!==null&&Zs(le,t,n)}u!==null&&u.observe(n,yu)}finally{Me=g,Le=a}}if(f!==null){var Lt=f;let le=Array.from(t._listeners.mutation),Re=le.length;for(let be=0;be<Re;be++){let[lt,wt]=le[be],xe=Lt.get(wt);xe!==void 0&&lt(xe,{dirtyLeaves:x,updateTags:S})}}V(s)||s===null||o!==null&&o.is(s)||t.dispatchCommand(Fl,void 0);var Vt=t._pendingDecorators;Vt!==null&&(t._decorators=Vt,t._pendingDecorators=null,Vr("decorator",t,!0,Vt));var mt=tu(i),An=tu(e);if(mt!==An&&Vr("textcontent",t,!0,An),Vr("update",t,!0,{dirtyElements:m,dirtyLeaves:x,editorState:e,normalizedNodes:_,prevEditorState:i,tags:S}),t._deferred=[],R.length!==0){let le=t._updating;t._updating=!0;try{for(let Re=0;Re<R.length;Re++)R[Re]()}finally{t._updating=le}}var Rn=t._updates;if(Rn.length!==0){let le=Rn.shift();if(le){let[Re,be]=le;Wd(t,Re,be)}}}}function Vr(t,e,n,...r){let i=e._updating;e._updating=n;try{let o=Array.from(e._listeners[t]);for(t=0;t<o.length;t++)o[t].apply(null,r)}finally{e._updating=i}}function P(t,e,n){if(t._updating===!1||Me!==t){let o=!1;return t.update(()=>{o=P(t,e,n)}),o}let r=Jl(t);for(let o=4;0<=o;o--)for(let s=0;s<r.length;s++){var i=r[s]._commands.get(e);if(i!==void 0&&(i=i[o],i!==void 0)){i=Array.from(i);let l=i.length;for(let a=0;a<l;a++)if(i[a](n,t)===!0)return!0}}return!1}function xu(t,e){let n=t._updates;for(e=e||!1;n.length!==0;){var r=n.shift();if(r){let[i,o]=r,s;o!==void 0&&(r=o.onUpdate,s=o.tag,o.skipTransforms&&(e=!0),r&&t._deferred.push(r),s&&t._updateTags.add(s)),i()}}return e}function Wd(t,e,n){let r=t._updateTags;var i,o=i=!1;if(n!==void 0){var s=n.onUpdate;i=n.tag,i!=null&&r.add(i),i=n.skipTransforms||!1,o=n.discrete||!1}s&&t._deferred.push(s),n=t._editorState,s=t._pendingEditorState;let l=!1;(s===null||s._readOnly)&&(s=t._pendingEditorState=new Vo(new Map((s||n)._nodeMap)),l=!0),s._flushSync=o,o=Le;let a=ut,c=Me,g=t._updating;Le=s,ut=!1,t._updating=!0,Me=t;try{l&&(t._headless?n._selection!=null&&(s._selection=n._selection.clone()):s._selection=Fp(t));let d=t._compositionKey;e(),i=xu(t,i),Bp(s,t),t._dirtyType!==0&&(i?zp(s,t):Up(s,t),xu(t),wp(n,s,t._dirtyLeaves,t._dirtyElements)),d!==t._compositionKey&&(s._flushSync=!0);let u=s._selection;if(V(u)){let f=s._nodeMap,h=u.focus.key;f.get(u.anchor.key)!==void 0&&f.get(h)!==void 0||L(19)}else Ti(u)&&u._nodes.size===0&&(s._selection=null)}catch(d){d instanceof Error&&t._onError(d),t._pendingEditorState=n,t._dirtyType=2,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),Hn(t);return}finally{Le=o,ut=a,Me=c,t._updating=g,di=0}t._dirtyType!==0||jp(s,t)?s._flushSync?(s._flushSync=!1,Hn(t)):l&&vp(()=>{Hn(t)}):(s._flushSync=!1,l&&(r.clear(),t._deferred=[],t._pendingEditorState=null))}function ht(t,e,n){t._updating?t._updates.push([e,n]):Wd(t,e,n)}class Gd extends vi{constructor(e){super(e)}decorate(){L(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function ae(t){return t instanceof Gd}class er extends vi{constructor(e){super(e),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return _p[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],n=this.getFirstChild();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getChildrenKeys(){let e=[],n=this.getFirstChild();for(;n!==null;)e.push(n.__key),n=n.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){let e=pe()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(e)}getAllTextNodes(){let e=[],n=this.getFirstChild();for(;n!==null;){if(F(n)&&e.push(n),O(n)){let r=n.getAllTextNodes();e.push(...r)}n=n.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;e!==null;){if(O(e)){let n=e.getFirstChild();if(n!==null){e=n;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;e!==null;){if(O(e)){let n=e.getLastChild();if(n!==null){e=n;continue}}break}return e}getDescendantByIndex(e){let n=this.getChildren(),r=n.length;return e>=r?(e=n[r-1],O(e)&&e.getLastDescendant()||e||null):(e=n[e],O(e)&&e.getFirstDescendant()||e||null)}getFirstChild(){let e=this.getLatest().__first;return e===null?null:ke(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return e===null&&L(45),e}getLastChild(){let e=this.getLatest().__last;return e===null?null:ke(e)}getLastChildOrThrow(){let e=this.getLastChild();return e===null&&L(96),e}getChildAtIndex(e){var n=this.getChildrenSize();let r;if(e<n/2){for(r=this.getFirstChild(),n=0;r!==null&&n<=e;){if(n===e)return r;r=r.getNextSibling(),n++}return null}for(r=this.getLastChild(),--n;r!==null&&n>=e;){if(n===e)return r;r=r.getPreviousSibling(),n--}return null}getTextContent(){let e="",n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){let o=n[i];e+=o.getTextContent(),O(o)&&i!==r-1&&!o.isInline()&&(e+=`

`)}return e}getTextContentSize(){let e=0,n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){let o=n[i];e+=o.getTextContentSize(),O(o)&&i!==r-1&&!o.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){return e!==""?(e=eu[e],(this.getFormat()&e)!==0):!1}select(e,n){Qe();let r=ue(),i=e,o=n;var s=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&n===0){if(e=this.getFirstChild(),F(e)||O(e))return e.select(0,0)}else if(!(e!==void 0&&e!==s||n!==void 0&&n!==s)&&(e=this.getLastChild(),F(e)||O(e)))return e.select()}if(i===void 0&&(i=s),o===void 0&&(o=s),s=this.__key,V(r))r.anchor.set(s,i,"element"),r.focus.set(s,o,"element"),r.dirty=!0;else return jd(s,i,s,o,"element","element");return r}selectStart(){let e=this.getFirstDescendant();return O(e)||F(e)?e.select(0,0):e!==null?e.selectPrevious():this.select(0,0)}selectEnd(){let e=this.getLastDescendant();return O(e)||F(e)?e.select():e!==null?e.selectNext():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(n=>n.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let n=this.getWritable();return n.__dir=e,n}setFormat(e){return this.getWritable().__format=e!==""?eu[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,n,r){let i=r.length,o=this.getChildrenSize(),s=this.getWritable(),l=s.__key;var a=[],c=[];let g=this.getChildAtIndex(e+n),d=null,u=o-n+i;if(e!==0)if(e===o)d=this.getLastChild();else{var f=this.getChildAtIndex(e);f!==null&&(d=f.getPreviousSibling())}if(0<n){var h=d===null?this.getFirstChild():d.getNextSibling();for(f=0;f<n;f++){h===null&&L(100);var p=h.getNextSibling(),E=h.__key;h=h.getWritable(),jn(h),c.push(E),h=p}}for(f=d,p=0;p<i;p++){E=r[p],f!==null&&E.is(f)&&(d=f=f.getPreviousSibling()),h=E.getWritable(),h.__parent===l&&u--,jn(h);let x=E.__key;f===null?(s.__first=x,h.__prev=null):(f=f.getWritable(),f.__next=x,h.__prev=f.__key),E.__key===l&&L(76),h.__parent=l,a.push(x),f=E}if(e+n===o?f!==null&&(f.getWritable().__next=null,s.__last=f.__key):g!==null&&(e=g.getWritable(),f!==null?(n=f.getWritable(),e.__prev=f.__key,n.__next=g.__key):e.__prev=null),s.__size=u,c.length&&(e=ue(),V(e))){c=new Set(c),a=new Set(a);let{anchor:x,focus:m}=e;Cu(x,c,a)&&po(x,x.getNode(),this,d,g),Cu(m,c,a)&&po(m,m.getNode(),this,d,g),u!==0||this.canBeEmpty()||Dt(this)||this.remove()}return s}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canInsertTab(){return!1}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function O(t){return t instanceof er}function Cu(t,e,n){for(t=t.getNode();t;){let r=t.__key;if(e.has(r)&&!n.has(r))return!0;t=t.getParent()}return!1}class Dr extends er{static getType(){return"root"}static clone(){return new Dr}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){L(51)}getTextContent(){let e=this.__cachedText;return!$r()&&pe()._dirtyType!==0||e===null?super.getTextContent():e}remove(){L(52)}replace(){L(53)}insertBefore(){L(54)}insertAfter(){L(55)}updateDOM(){return!1}append(...e){for(let n=0;n<e.length;n++){let r=e[n];O(r)||ae(r)||L(56)}return super.append(...e)}static importJSON(e){let n=Kt();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function at(t){return t instanceof Dr}function jp(t,e){if(e=e.getEditorState()._selection,t=t._selection,t!==null){if(t.dirty||!t.is(e))return!0}else if(e!==null)return!0;return!1}function ra(){return new Vo(new Map([["root",new Dr]]))}function Yd(t){let e=t.exportJSON();e.type!==t.constructor.getType()&&L(58);let n=e.children;if(O(t)){Array.isArray(n)||L(59),t=t.getChildren();for(let r=0;r<t.length;r++){let i=Yd(t[r]);n.push(i)}}return e}class Vo{constructor(e,n){this._nodeMap=e,this._selection=n||null,this._readOnly=this._flushSync=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e){return Nu(this,e)}clone(e){return e=new Vo(this._nodeMap,e===void 0?this._selection:e),e._readOnly=!0,e}toJSON(){return Nu(this,()=>({root:Yd(Kt())}))}}class kr extends vi{static getType(){return"linebreak"}static clone(e){return new kr(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{let n=e.parentElement;return n!=null&&n.firstChild===e&&n.lastChild===e?null:{conversion:Hp,priority:0}}}}static importJSON(){return Sr()}exportJSON(){return{type:"linebreak",version:1}}}function Hp(){return{node:Sr()}}function Sr(){return Ko(new kr)}function gi(t){return t instanceof kr}function _s(t,e){return e&16?"code":e&128?"mark":e&32?"sub":e&64?"sup":null}function ys(t,e){return e&1?"strong":e&2?"em":"span"}function Es(t,e,n,r,i){t=r.classList,r=Wr(i,"base"),r!==void 0&&t.add(...r),r=Wr(i,"underlineStrikethrough");let o=!1,s=e&8&&e&4;var l=n&8&&n&4;r!==void 0&&(l?(o=!0,s||t.add(...r)):s&&t.remove(...r));for(let a in Un)l=Un[a],r=Wr(i,a),r!==void 0&&(n&l?!o||a!=="underline"&&a!=="strikethrough"?(!(e&l)||s&&a==="underline"||a==="strikethrough")&&t.add(...r):e&l&&t.remove(...r):e&l&&t.remove(...r))}function Ns(t,e,n){let r=e.firstChild;if(n=n.isComposing(),t+=n?Uo:"",r==null)e.textContent=t;else if(e=r.nodeValue,e!==t)if(n||Wn){n=e.length;let i=t.length,o=0,s=0;for(;o<n&&o<i&&e[o]===t[o];)o++;for(;s+o<n&&s+o<i&&e[n-s-1]===t[i-s-1];)s++;t=[o,n-o-s,t.slice(o,i-s)];let[l,a,c]=t;a!==0&&r.deleteData(l,a),r.insertData(l,c)}else r.nodeValue=t}function $i(t,e){return e=document.createElement(e),e.appendChild(t),e}class Lr extends vi{static getType(){return"text"}static clone(e){return new Lr(e.__text,e.__key)}constructor(e,n){super(n),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return Ep[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===yn()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return(this.getLatest().__detail&1)!==0}isUnmergeable(){return(this.getLatest().__detail&2)!==0}hasFormat(e){return e=Un[e],(this.getFormat()&e)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,n){let r=this.getLatest().__format;return fd(r,e,n)}createDOM(e){var n=this.__format,r=_s(this,n);let i=ys(this,n),o=document.createElement(r===null?i:r),s=o;return r!==null&&(s=document.createElement(i),o.appendChild(s)),r=s,Ns(this.__text,r,this),e=e.theme.text,e!==void 0&&Es(i,0,n,r,e),n=this.__style,n!==""&&(o.style.cssText=n),o}updateDOM(e,n,r){let i=this.__text;var o=e.__format,s=this.__format,l=_s(this,o);let a=_s(this,s);var c=ys(this,o);let g=ys(this,s);return(l===null?c:l)!==(a===null?g:a)?!0:l===a&&c!==g?(o=n.firstChild,o==null&&L(48),e=l=document.createElement(g),Ns(i,e,this),r=r.theme.text,r!==void 0&&Es(g,0,s,e,r),n.replaceChild(l,o),!1):(c=n,a!==null&&l!==null&&(c=n.firstChild,c==null&&L(49)),Ns(i,c,this),r=r.theme.text,r!==void 0&&o!==s&&Es(g,o,s,c,r),s=this.__style,e.__style!==s&&(n.style.cssText=s),!1)}static importDOM(){return{"#text":()=>({conversion:Yp,priority:0}),b:()=>({conversion:Gp,priority:0}),br:()=>({conversion:Wp,priority:0}),code:()=>({conversion:cn,priority:0}),em:()=>({conversion:cn,priority:0}),i:()=>({conversion:cn,priority:0}),s:()=>({conversion:cn,priority:0}),span:()=>({conversion:Kp,priority:0}),strong:()=>({conversion:cn,priority:0}),sub:()=>({conversion:cn,priority:0}),sup:()=>({conversion:cn,priority:0}),u:()=>({conversion:cn,priority:0})}}static importJSON(e){let n=Fe(e.text);return n.setFormat(e.format),n.setDetail(e.detail),n.setMode(e.mode),n.setStyle(e.style),n}exportDOM(e){return{element:e}=super.exportDOM(e),e!==null&&(this.hasFormat("bold")&&(e=$i(e,"b")),this.hasFormat("italic")&&(e=$i(e,"i")),this.hasFormat("strikethrough")&&(e=$i(e,"s")),this.hasFormat("underline")&&(e=$i(e,"u"))),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(e){let n=this.getWritable();return n.__format=typeof e=="string"?Un[e]:e,n}setDetail(e){let n=this.getWritable();return n.__detail=typeof e=="string"?mp[e]:e,n}setStyle(e){let n=this.getWritable();return n.__style=e,n}toggleFormat(e){return e=Un[e],this.setFormat(this.getFormat()^e)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){if(e=yp[e],this.__mode===e)return this;let n=this.getWritable();return n.__mode=e,n}setTextContent(e){if(this.__text===e)return this;let n=this.getWritable();return n.__text=e,n}select(e,n){Qe();let r=ue();var i=this.getTextContent();let o=this.__key;if(typeof i=="string"?(i=i.length,e===void 0&&(e=i),n===void 0&&(n=i)):n=e=0,V(r))i=yn(),i!==r.anchor.key&&i!==r.focus.key||Be(o),r.setTextNodeRange(this,e,this,n);else return jd(o,e,o,n,"text","text");return r}spliceText(e,n,r,i){let o=this.getWritable(),s=o.__text,l=r.length,a=e;0>a&&(a=l+a,0>a&&(a=0));let c=ue();return i&&V(c)&&(e+=l,c.setTextNodeRange(o,e,o,e)),n=s.slice(0,a)+r+s.slice(a+n),o.__text=n,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}canContainTabs(){return!1}splitText(...e){Qe();var n=this.getLatest(),r=n.getTextContent(),i=n.__key,o=yn(),s=new Set(e);e=[];for(var l=r.length,a="",c=0;c<l;c++)a!==""&&s.has(c)&&(e.push(a),a=""),a+=r[c];if(a!==""&&e.push(a),s=e.length,s===0)return[];if(e[0]===r)return[n];var g=e[0];r=n.getParentOrThrow(),c=n.getFormat();let d=n.getStyle(),u=n.__detail;l=!1,n.isSegmented()?(a=Fe(g),a.__format=c,a.__style=d,a.__detail=u,l=!0):(a=n.getWritable(),a.__text=g),n=ue(),a=[a],g=g.length;for(let p=1;p<s;p++){var f=e[p],h=f.length;f=Fe(f).getWritable(),f.__format=c,f.__style=d,f.__detail=u;let E=f.__key;if(h=g+h,V(n)){let x=n.anchor,m=n.focus;x.key===i&&x.type==="text"&&x.offset>g&&x.offset<=h&&(x.key=E,x.offset-=g,n.dirty=!0),m.key===i&&m.type==="text"&&m.offset>g&&m.offset<=h&&(m.key=E,m.offset-=g,n.dirty=!0)}o===i&&Be(E),g=h,a.push(f)}return i=this.getPreviousSibling(),o=this.getNextSibling(),i!==null&&lo(i),o!==null&&lo(o),i=r.getWritable(),o=this.getIndexWithinParent(),l?(i.splice(o,0,a),this.remove()):i.splice(o,1,a),V(n)&&ho(n,r,o,s-1),a}mergeWithSibling(e){var n=e===this.getPreviousSibling();n||e===this.getNextSibling()||L(50);var r=this.__key;let i=e.__key,o=this.__text,s=o.length;yn()===i&&Be(r);let l=ue();if(V(l)){let a=l.anchor,c=l.focus;a!==null&&a.key===i&&(_u(a,n,r,e,s),l.dirty=!0),c!==null&&c.key===i&&(_u(c,n,r,e,s),l.dirty=!0)}return r=e.__text,this.setTextContent(n?r+o:o+r),n=this.getWritable(),e.remove(),n}isTextEntity(){return!1}}function Kp(t){let e=t.style.fontWeight==="700",n=t.style.textDecoration==="line-through",r=t.style.fontStyle==="italic",i=t.style.textDecoration==="underline",o=t.style.verticalAlign;return{forChild:s=>(F(s)&&(e&&s.toggleFormat("bold"),n&&s.toggleFormat("strikethrough"),r&&s.toggleFormat("italic"),i&&s.toggleFormat("underline"),o==="sub"&&s.toggleFormat("subscript"),o==="super"&&s.toggleFormat("superscript")),s),node:null}}function Wp(){return{node:Sr()}}function Gp(t){let e=t.style.fontWeight==="normal";return{forChild:n=>(F(n)&&!e&&n.toggleFormat("bold"),n),node:null}}function Yp(t,e,n){return t=t.textContent||"",!n&&/\n/.test(t)&&(t=t.replace(/\r?\n/gm," "),t.trim().length===0)?{node:null}:{node:Fe(t)}}let Vp={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function cn(t){let e=Vp[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:n=>(F(n)&&!n.hasFormat(e)&&n.toggleFormat(e),n),node:null}}function Fe(t=""){return Ko(new Lr(t))}function F(t){return t instanceof Lr}class Mr extends er{static getType(){return"paragraph"}static clone(e){return new Mr(e.__key)}createDOM(e){let n=document.createElement("p");return e=Wr(e.theme,"paragraph"),e!==void 0&&n.classList.add(...e),n}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:Xp,priority:0})}}exportDOM(e){if({element:e}=super.exportDOM(e),e&&this.isEmpty()&&e.append(document.createElement("br")),e){var n=this.getFormatType();e.style.textAlign=n,(n=this.getDirection())&&(e.dir=n),n=this.getIndent(),0<n&&(e.style.textIndent=`${20*n}px`)}return{element:e}}static importJSON(e){let n=Yn();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,n){e=Yn();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,n),e}collapseAtStart(){let e=this.getChildren();if(e.length===0||F(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function Xp(t){let e=Yn();return t.style&&(e.setFormat(t.style.textAlign),t=parseInt(t.style.textIndent,10)/20,0<t&&e.setIndent(t)),{node:e}}function Yn(){return Ko(new Mr)}function Vd(t,e,n,r){let i=t._keyToDOMMap;i.clear(),t._editorState=ra(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null,r=t._observer,r!==null&&(r.disconnect(),t._observer=null),e!==null&&(e.textContent=""),n!==null&&(n.textContent="",i.set("root",n))}function Jp(t){let e=new Map,n=new Set;return t.forEach(r=>{if(r=r.klass.importDOM!=null?r.klass.importDOM.bind(r.klass):null,r!=null&&!n.has(r)){n.add(r);var i=r();i!==null&&Object.keys(i).forEach(o=>{let s=e.get(o);s===void 0&&(s=[],e.set(o,s)),s.push(i[o])})}}),e}class qp{constructor(e,n,r,i,o,s,l){this._parentEditor=n,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Ed(),this._onError=o,this._htmlConversions=s,this._editable=l,this._headless=n!==null&&n._headless,this._blockCursorElement=this._window=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){let n=this._listeners.update;return n.add(e),()=>{n.delete(e)}}registerEditableListener(e){let n=this._listeners.editable;return n.add(e),()=>{n.delete(e)}}registerDecoratorListener(e){let n=this._listeners.decorator;return n.add(e),()=>{n.delete(e)}}registerTextContentListener(e){let n=this._listeners.textcontent;return n.add(e),()=>{n.delete(e)}}registerRootListener(e){let n=this._listeners.root;return e(this._rootElement,null),n.add(e),()=>{e(null,this._rootElement),n.delete(e)}}registerCommand(e,n,r){r===void 0&&L(35);let i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);let o=i.get(e);o===void 0&&L(36);let s=o[r];return s.add(n),()=>{s.delete(n),o.every(l=>l.size===0)&&i.delete(e)}}registerMutationListener(e,n){this._nodes.get(e.getType())===void 0&&L(37);let r=this._listeners.mutation;return r.set(n,e),()=>{r.delete(n)}}registerNodeTransformToKlass(e,n){return e=e.getType(),e=this._nodes.get(e),e===void 0&&L(37),e.transforms.add(n),e}registerNodeTransform(e,n){var r=this.registerNodeTransformToKlass(e,n);let i=[r];return r=r.replaceWithKlass,r!=null&&(r=this.registerNodeTransformToKlass(r,n),i.push(r)),Tp(this,e.getType()),()=>{i.forEach(o=>o.transforms.delete(n))}}hasNodes(e){for(let n=0;n<e.length;n++){let r=e[n].getType();if(!this._nodes.has(r))return!1}return!0}dispatchCommand(e,n){return P(this,e,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let n=this._rootElement;if(e!==n){let o=Wr(this._config.theme,"root");var r=this._pendingEditorState||this._editorState;if(this._rootElement=e,Vd(this,n,e,r),n!==null){if(!this._config.disableEvents){if(Gr!==0&&(Gr--,Gr===0&&n.ownerDocument.removeEventListener("selectionchange",Bd)),r=n.__lexicalEditor,r!=null){if(r._parentEditor!==null){var i=Jl(r);i=i[i.length-1]._key,Er.get(i)===r&&Er.delete(i)}else Er.delete(r._key);n.__lexicalEditor=null}for(r=Fd(n),i=0;i<r.length;i++)r[i]();n.__lexicalEventHandles=[]}o!=null&&n.classList.remove(...o)}e!==null?(r=(r=e.ownerDocument)&&r.defaultView||null,i=e.style,i.userSelect="text",i.whiteSpace="pre-wrap",i.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=r,this._dirtyType=2,gd(this),this._updateTags.add("history-merge"),Hn(this),this._config.disableEvents||Pp(e,this),o!=null&&e.classList.add(...o)):this._window=null,Vr("root",this,!1,e,n)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,n){e.isEmpty()&&L(38),dd(this);let r=this._pendingEditorState,i=this._updateTags;n=n!==void 0?n.tag:null,r===null||r.isEmpty()||(n!=null&&i.add(n),Hn(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,n!=null&&i.add(n),Hn(this)}parseEditorState(e,n){e=typeof e=="string"?JSON.parse(e):e;let r=ra(),i=Le,o=ut,s=Me,l=this._dirtyElements,a=this._dirtyLeaves,c=this._cloneNotNeeded,g=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,Le=r,ut=!1,Me=this;try{na(e.root,this._nodes),n&&n(),r._readOnly=!0}catch(d){d instanceof Error&&this._onError(d)}finally{this._dirtyElements=l,this._dirtyLeaves=a,this._cloneNotNeeded=c,this._dirtyType=g,Le=i,ut=o,Me=s}return r}update(e,n){ht(this,e,n)}focus(e,n={}){let r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),ht(this,()=>{let i=ue(),o=Kt();i!==null?i.dirty=!0:o.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?o.selectStart():o.selectEnd())},{onUpdate:()=>{r.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){var e=this._rootElement;e!==null&&e.blur(),e=Wt(this._window),e!==null&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Vr("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class ia extends er{constructor(e,n){super(n),this.__colSpan=e,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}}function Ut(t){return t instanceof ia}class Xd extends er{}function oa(t){return t instanceof Xd}class Jd extends er{}function fi(t){return t instanceof Jd}w.$addUpdateTag=function(t){Qe(),pe()._updateTags.add(t)};w.$applyNodeReplacement=Ko;w.$copyNode=Cd;w.$createLineBreakNode=Sr;w.$createNodeSelection=cl;w.$createParagraphNode=Yn;w.$createRangeSelection=function(){let t=new Ht("root",0,"element"),e=new Ht("root",0,"element");return new Qn(t,e,0,"")};w.$createTextNode=Fe;w.$getAdjacentNode=qs;w.$getNearestNodeFromDOMNode=Ci;w.$getNearestRootOrShadowRoot=xd;w.$getNodeByKey=ke;w.$getPreviousSelection=Si;w.$getRoot=Kt;w.$getSelection=ue;w.$getTextContent=function(){let t=ue();return t===null?"":t.getTextContent()};w.$hasAncestor=co;w.$hasUpdateTag=function(t){return pe()._updateTags.has(t)};w.$insertNodes=function(t,e){let n=ue();return n===null&&(n=Kt().selectEnd()),n.insertNodes(t,e)};w.$isDecoratorNode=ae;w.$isElementNode=O;w.$isInlineElementOrDecoratorNode=function(t){return O(t)&&t.isInline()||ae(t)&&t.isInline()};w.$isLeafNode=hd;w.$isLineBreakNode=gi;w.$isNodeSelection=Ti;w.$isParagraphNode=function(t){return t instanceof Mr};w.$isRangeSelection=V;w.$isRootNode=at;w.$isRootOrShadowRoot=Dt;w.$isTextNode=F;w.$nodesOfType=function(t){var e=Gt();let n=e._readOnly,r=t.getType();e=e._nodeMap;let i=[];for(let[,o]of e)o instanceof t&&o.__type===r&&(n||o.isAttached())&&i.push(o);return i};w.$normalizeSelection__EXPERIMENTAL=Ad;w.$parseSerializedNode=function(t){return na(t,pe()._nodes)};w.$setCompositionKey=Be;w.$setSelection=Cn;w.$splitNode=vd;w.BLUR_COMMAND=ad;w.CAN_REDO_COMMAND={};w.CAN_UNDO_COMMAND={};w.CLEAR_EDITOR_COMMAND={};w.CLEAR_HISTORY_COMMAND={};w.CLICK_COMMAND=Kc;w.COMMAND_PRIORITY_CRITICAL=4;w.COMMAND_PRIORITY_EDITOR=0;w.COMMAND_PRIORITY_HIGH=3;w.COMMAND_PRIORITY_LOW=1;w.COMMAND_PRIORITY_NORMAL=2;w.CONTROLLED_TEXT_INSERTION_COMMAND=yr;w.COPY_COMMAND=jl;w.CUT_COMMAND=Hl;w.DELETE_CHARACTER_COMMAND=oi;w.DELETE_LINE_COMMAND=li;w.DELETE_WORD_COMMAND=si;w.DEPRECATED_$computeGridMap=Kd;w.DEPRECATED_$createGridSelection=function(){let t=new Ht("root",0,"element"),e=new Ht("root",0,"element");return new Yo("root",t,e)};w.DEPRECATED_$getNodeTriplet=function(t){t instanceof ia||(t instanceof vi?(t=go(t,Ut),Ut(t)||L(114)):(t=go(t.getNode(),Ut),Ut(t)||L(114)));let e=t.getParent();fi(e)||L(115);let n=e.getParent();return oa(n)||L(116),[t,e,n]};w.DEPRECATED_$isGridCellNode=Ut;w.DEPRECATED_$isGridNode=oa;w.DEPRECATED_$isGridRowNode=fi;w.DEPRECATED_$isGridSelection=ta;w.DEPRECATED_GridCellNode=ia;w.DEPRECATED_GridNode=Xd;w.DEPRECATED_GridRowNode=Jd;w.DRAGEND_COMMAND=sd;w.DRAGOVER_COMMAND=od;w.DRAGSTART_COMMAND=id;w.DROP_COMMAND=rd;w.DecoratorNode=Gd;w.ElementNode=er;w.FOCUS_COMMAND=ld;w.FORMAT_ELEMENT_COMMAND={};w.FORMAT_TEXT_COMMAND=_n;w.INDENT_CONTENT_COMMAND={};w.INSERT_LINE_BREAK_COMMAND=Kr;w.INSERT_PARAGRAPH_COMMAND=Ys;w.KEY_ARROW_DOWN_COMMAND=qc;w.KEY_ARROW_LEFT_COMMAND=Vc;w.KEY_ARROW_RIGHT_COMMAND=Gc;w.KEY_ARROW_UP_COMMAND=Jc;w.KEY_BACKSPACE_COMMAND=Qc;w.KEY_DELETE_COMMAND=td;w.KEY_DOWN_COMMAND=Wc;w.KEY_ENTER_COMMAND=io;w.KEY_ESCAPE_COMMAND=ed;w.KEY_MODIFIER_COMMAND=ud;w.KEY_SPACE_COMMAND=Zc;w.KEY_TAB_COMMAND=nd;w.LineBreakNode=kr;w.MOVE_TO_END=Yc;w.MOVE_TO_START=Xc;w.OUTDENT_CONTENT_COMMAND={};w.PASTE_COMMAND=Bl;w.ParagraphNode=Mr;w.REDO_COMMAND=Ul;w.REMOVE_TEXT_COMMAND=Vs;w.RootNode=Dr;w.SELECTION_CHANGE_COMMAND=Fl;w.TextNode=Lr;w.UNDO_COMMAND=zl;w.createCommand=function(){return{}};w.createEditor=function(t){var e=t||{},n=Me,r=e.theme||{};let i=t===void 0?n:e.parentEditor||null,o=e.disableEvents||!1,s=ra(),l=e.namespace||(i!==null?i._config.namespace:Ed()),a=e.editorState,c=[Dr,Lr,kr,Mr,...e.nodes||[]],g=e.onError;if(e=e.editable!==void 0?e.editable:!0,t===void 0&&n!==null)t=n._nodes;else for(t=new Map,n=0;n<c.length;n++){let u=c[n],f=null;var d=null;typeof u!="function"&&(d=u,u=d.replace,f=d.with,d=d.withKlass?d.withKlass:null);let h=u.getType(),p=u.transform(),E=new Set;p!==null&&E.add(p),t.set(h,{klass:u,replace:f,replaceWithKlass:d,transforms:E})}return r=new qp(s,i,t,{disableEvents:o,namespace:l,theme:r},g||console.error,Jp(t),e),a!==void 0&&(r._pendingEditorState=a,r._dirtyType=2),r};w.getNearestEditorFromDOMNode=Xl;w.isSelectionCapturedInDecoratorInput=Vl;w.isSelectionWithinEditor=xi;const Zp=w;var G=Zp,vu=pt,jr=G,mo=v;let qd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";var Qp=qd?mo.useLayoutEffect:mo.useEffect;let Di={tag:"history-merge"};function em(t,e){if(e!==null){if(e===void 0)t.update(()=>{var n=jr.$getRoot();if(n.isEmpty()){let r=jr.$createParagraphNode();n.append(r),n=qd?document.activeElement:null,(jr.$getSelection()!==null||n!==null&&n===t.getRootElement())&&r.select()}},Di);else if(e!==null)switch(typeof e){case"string":let n=t.parseEditorState(e);t.setEditorState(n,Di);break;case"object":t.setEditorState(e,Di);break;case"function":t.update(()=>{jr.$getRoot().isEmpty()&&e(t)},Di)}}}Uc.LexicalComposer=function({initialConfig:t,children:e}){let n=mo.useMemo(()=>{const{theme:r,namespace:i,editor__DEPRECATED:o,nodes:s,onError:l,editorState:a}=t,c=vu.createLexicalComposerContext(null,r);let g=o||null;if(g===null){const d=jr.createEditor({editable:t.editable,namespace:i,nodes:s,onError:u=>l(u,d),theme:r});em(d,a),g=d}return[g,c]},[]);return Qp(()=>{let r=t.editable,[i]=n;i.setEditable(r!==void 0?r:!0)},[]),mo.createElement(vu.LexicalComposerContext.Provider,{value:n},e)};const tm=Uc;var nm=tm,Zd={},rm=pt,Xr=v,im=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Xr.useLayoutEffect:Xr.useEffect;function om(t){let[e]=rm.useLexicalComposerContext(),n=Xr.useMemo(()=>t(e),[e,t]),r=Xr.useRef(n.initialValueFn()),[i,o]=Xr.useState(r.current);return im(()=>{let{initialValueFn:s,subscribe:l}=n,a=s();return r.current!==a&&(r.current=a,o(a)),l(c=>{r.current=c,o(c)})},[n,t]),i}function sm(t){return{initialValueFn:()=>t.isEditable(),subscribe:e=>t.registerEditableListener(e)}}var lm=function(){return om(sm)};const am=lm;var um=am,Sn={},qe=G;function sa(t,e=!0){return t?!1:(t=Qd(),e&&(t=t.trim()),t==="")}function Qd(){return qe.$getRoot().getTextContent()}function eg(t){if(!sa(t,!1))return!1;t=qe.$getRoot().getChildren();let e=t.length;if(1<e)return!1;for(let r=0;r<e;r++){var n=t[r];if(qe.$isDecoratorNode(n))return!1;if(qe.$isElementNode(n)){if(!qe.$isParagraphNode(n)||n.__indent!==0)return!1;n=n.getChildren();let i=n.length;for(let o=0;o<i;o++)if(!qe.$isTextNode(n[r]))return!1}}return!0}Sn.$canShowPlaceholder=eg;Sn.$canShowPlaceholderCurry=function(t){return()=>eg(t)};Sn.$findTextIntersectionFromCharacters=function(t,e){var n=t.getFirstChild();t=0;e:for(;n!==null;){if(qe.$isElementNode(n)){var r=n.getFirstChild();if(r!==null){n=r;continue}}else if(qe.$isTextNode(n)){if(r=n.getTextContentSize(),t+r>e)return{node:n,offset:e-t};t+=r}if(r=n.getNextSibling(),r!==null)n=r;else{for(n=n.getParent();n!==null;){if(r=n.getNextSibling(),r!==null){n=r;continue e}n=n.getParent()}break}}return null};Sn.$isRootTextContentEmpty=sa;Sn.$isRootTextContentEmptyCurry=function(t,e){return()=>sa(t,e)};Sn.$rootTextContent=Qd;Sn.registerLexicalTextEntity=function(t,e,n,r){let i=s=>{const l=qe.$createTextNode(s.getTextContent());l.setFormat(s.getFormat()),s.replace(l)},o=t.registerNodeTransform(qe.TextNode,s=>{if(s.isSimpleText()){var l=s.getPreviousSibling(),a=s.getTextContent(),c=s;if(qe.$isTextNode(l)){var g=l.getTextContent(),d=e(g+a);if(l instanceof n){if(d===null||l.getLatest().__mode!==0){i(l);return}if(d=d.end-g.length,0<d){c=a.slice(0,d),c=g+c,l.select(),l.setTextContent(c),d===a.length?s.remove():(l=a.slice(d),s.setTextContent(l));return}}else if(d===null||d.start<g.length)return}for(;;){if(s=e(a),a=d=s===null?"":a.slice(s.end),d===""){if(g=c.getNextSibling(),qe.$isTextNode(g)){if(d=c.getTextContent()+g.getTextContent(),d=e(d),d===null){g instanceof n?i(g):g.markDirty();break}else if(d.start!==0)break}}else if(g=e(d),g!==null&&g.start===0)break;if(s===null)break;if(s.start===0&&qe.$isTextNode(l)&&l.isTextEntity())continue;let u;if(s.start===0?[u,c]=c.splitText(s.end):[,u,c]=c.splitText(s.start,s.end),s=r(u),u.replace(s),c==null)break}}});return t=t.registerNodeTransform(n,s=>{var l=s.getTextContent();const a=e(l);a===null||a.start!==0?i(s):l.length>a.end?s.splitText(a.end):(l=s.getPreviousSibling(),qe.$isTextNode(l)&&l.isTextEntity()&&(i(l),i(s)),l=s.getNextSibling(),qe.$isTextNode(l)&&l.isTextEntity()&&(i(l),s instanceof n&&i(s)))}),[o,t]};const cm=Sn;var dm=cm,He={},Ie={},j=G;let _o=new Map;function Tu(t){for(;t!=null;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild}return null}function Su(t){let e=t.parentNode;if(e==null)throw Error("Should never happen");return[e,Array.from(e.childNodes).indexOf(t)]}function tg(t){let e={};t=t.split(";");for(let n of t)if(n!==""){let[r,i]=n.split(/:([^]+)/);e[r.trim()]=i.trim()}return e}function yo(t){let e=_o.get(t);return e===void 0&&(e=tg(t),_o.set(t,e)),e}function gm(t){let e="";for(let n in t)n&&(e+=`${n}: ${t[n]};`);return e}function rr(t,e){var n=yo("getStyle"in t?t.getStyle():t.style);e=Object.entries(e).reduce((r,[i,o])=>(o===null?delete r[i]:r[i]=o,r),{...n}),n=gm(e),t.setStyle(n),_o.set(n,e)}function fm(t){for(;t!==null&&!j.$isRootOrShadowRoot(t);){let e=t.getLatest(),n=t.getParent();e.getChildrenSize()===0&&t.remove(!0),t=n}}function xs(t,e,n,r,i=null){if(e.length!==0){var o=e[0],s=new Map,l=[];o=j.$isElementNode(o)?o:o.getParentOrThrow(),o.isInline()&&(o=o.getParentOrThrow());for(var a=!1;o!==null;){var c=o.getPreviousSibling();if(c!==null){o=c,a=!0;break}if(o=o.getParentOrThrow(),j.$isRootOrShadowRoot(o))break}c=new Set;for(var g=0;g<n;g++){var d=e[g];j.$isElementNode(d)&&d.getChildrenSize()===0&&c.add(d.getKey())}var u=new Set;for(g=0;g<n;g++){d=e[g];var f=d.getParent();if(f!==null&&f.isInline()&&(f=f.getParent()),f!==null&&j.$isLeafNode(d)&&!u.has(d.getKey())){if(d=f.getKey(),s.get(d)===void 0){let h=r();h.setFormat(f.getFormatType()),h.setIndent(f.getIndent()),l.push(h),s.set(d,h),f.getChildren().forEach(p=>{h.append(p),u.add(p.getKey()),j.$isElementNode(p)&&p.getChildrenKeys().forEach(E=>u.add(E))}),fm(f)}}else c.has(d.getKey())&&(f=r(),f.setFormat(d.getFormatType()),f.setIndent(d.getIndent()),l.push(f),d.remove(!0))}if(i!==null)for(e=0;e<l.length;e++)i.append(l[e]);if(e=null,j.$isRootOrShadowRoot(o))if(a)if(i!==null)o.insertAfter(i);else for(i=l.length-1;0<=i;i--)o.insertAfter(l[i]);else if(a=o.getFirstChild(),j.$isElementNode(a)&&(o=a),a===null)if(i)o.append(i);else for(i=0;i<l.length;i++)a=l[i],o.append(a),e=a;else if(i!==null)a.insertBefore(i);else for(o=0;o<l.length;o++)i=l[o],a.insertBefore(i),e=i;else if(i)o.insertAfter(i);else for(i=l.length-1;0<=i;i--)a=l[i],o.insertAfter(a),e=a;l=j.$getPreviousSelection(),j.$isRangeSelection(l)&&l.anchor.getNode().isAttached()&&l.focus.getNode().isAttached()?j.$setSelection(l.clone()):e!==null?e.selectEnd():t.dirty=!0}}function ng(t,e,n,r){t.modify(e?"extend":"move",n,r)}function rg(t){return t=t.anchor.getNode(),(j.$isRootNode(t)?t:t.getParentOrThrow()).getDirection()==="rtl"}Ie.$addNodeStyle=function(t){t=t.getStyle();let e=tg(t);_o.set(t,e)};Ie.$cloneWithProperties=function(t){t=t.getLatest();let e=t.constructor.clone(t);return e.__parent=t.__parent,e.__next=t.__next,e.__prev=t.__prev,j.$isElementNode(t)&&j.$isElementNode(e)?(e.__first=t.__first,e.__last=t.__last,e.__size=t.__size,e.__format=t.__format,e.__indent=t.__indent,e.__dir=t.__dir,e):(j.$isTextNode(t)&&j.$isTextNode(e)&&(e.__format=t.__format,e.__style=t.__style,e.__mode=t.__mode,e.__detail=t.__detail),e)};Ie.$getSelectionStyleValueForProperty=function(t,e,n=""){let r=null,i=t.getNodes();var o=t.anchor,s=t.focus,l=t.isBackward();let a=l?s.offset:o.offset;if(o=l?s.getNode():o.getNode(),t.style!==""&&(t=yo(t.style),t!==null&&e in t))return t[e];for(t=0;t<i.length;t++){var c=i[t];if((t===0||a!==0||!c.is(o))&&j.$isTextNode(c)){if(s=e,l=n,c=c.getStyle(),c=yo(c),s=c!==null&&c[s]||l,r===null)r=s;else if(r!==s){r="";break}}}return r===null?n:r};Ie.$isAtNodeEnd=function(t){return t.type==="text"?t.offset===t.getNode().getTextContentSize():t.offset===t.getNode().getChildrenSize()};Ie.$isParentElementRTL=rg;Ie.$moveCaretSelection=ng;Ie.$moveCharacter=function(t,e,n){let r=rg(t);ng(t,e,n?!r:r,"character")};Ie.$patchStyleText=function(t,e){var n=t.getNodes();let r=n.length-1,i=n[0],o=n[r];if(t.isCollapsed())rr(t,e);else{var s=t.anchor,l=t.focus,a=i.getTextContent().length,c=l.offset,g=s.offset,d=s.isBefore(l),u=d?g:c;t=d?c:g;var f=d?s.type:l.type,h=d?l.type:s.type;if(s=d?l.key:s.key,j.$isTextNode(i)&&u===a&&(l=i.getNextSibling(),j.$isTextNode(l)&&(u=g=0,i=l)),n.length===1)j.$isTextNode(i)&&(u=f==="element"?0:g>c?c:g,t=h==="element"?a:g>c?g:c,u!==t&&(u===0&&t===a?(rr(i,e),i.select(u,t)):(n=i.splitText(u,t),n=u===0?n[0]:n[1],rr(n,e),n.select(0,t-u))));else for(j.$isTextNode(i)&&u<i.getTextContentSize()&&(u!==0&&(i=i.splitText(u)[1]),rr(i,e)),j.$isTextNode(o)&&(u=o.getTextContent().length,o.__key!==s&&t!==0&&(t=u),t!==u&&([o]=o.splitText(t)),t!==0&&rr(o,e)),t=1;t<r;t++)u=n[t],a=u.getKey(),j.$isTextNode(u)&&a!==i.getKey()&&a!==o.getKey()&&!u.isToken()&&rr(u,e)}};Ie.$selectAll=function(t){let e=t.anchor;t=t.focus;var n=e.getNode().getTopLevelElementOrThrow().getParentOrThrow();let r=n.getFirstDescendant();n=n.getLastDescendant();let i="element",o="element",s=0;j.$isTextNode(r)?i="text":j.$isElementNode(r)||r===null||(r=r.getParentOrThrow()),j.$isTextNode(n)?(o="text",s=n.getTextContentSize()):j.$isElementNode(n)||n===null||(n=n.getParentOrThrow()),r&&n&&(e.set(r.getKey(),0,i),t.set(n.getKey(),s,o))};Ie.$setBlocksType=function(t,e){if(t.anchor.key==="root"){e=e();var n=j.$getRoot();(t=n.getFirstChild())?t.replace(e,!0):n.append(e)}else for(n=t.getNodes(),t=t.anchor.getNode().getParentOrThrow(),n.indexOf(t)===-1&&n.push(t),t.isInline()&&(t=t.getParentOrThrow(),n.indexOf(t)===-1&&n.push(t)),t=0;t<n.length;t++){let o=n[t];var r=o;if(!j.$isElementNode(r)||j.$isRootOrShadowRoot(r))r=!1;else{var i=r.getFirstChild();i=i===null||j.$isTextNode(i)||i.isInline(),r=!r.isInline()&&r.canBeEmpty()!==!1&&i}r&&(r=e(),r.setFormat(o.getFormatType()),r.setIndent(o.getIndent()),o.replace(r,!0))}};Ie.$shouldOverrideDefaultCharacterSelection=function(t,e){return t=j.$getAdjacentNode(t.focus,e),j.$isDecoratorNode(t)&&!t.isIsolated()||j.$isElementNode(t)&&!t.isInline()&&!t.canBeEmpty()};Ie.$sliceSelectedTextNodeContent=function(t,e){if(e.isSelected()&&!e.isSegmented()&&!e.isToken()&&(j.$isRangeSelection(t)||j.DEPRECATED_$isGridSelection(t))){var n=t.anchor.getNode(),r=t.focus.getNode(),i=e.is(n),o=e.is(r);if(i||o){i=t.isBackward();let[s,l]=t.getCharacterOffsets();t=n.is(r),o=e.is(i?r:n),r=e.is(i?n:r),n=0;let a;t?(n=s>l?l:s,a=s>l?s:l):o?(n=i?l:s,a=void 0):r&&(i=i?s:l,n=0,a=i),e.__text=e.__text.slice(n,a)}}return e};Ie.$wrapNodes=function(t,e,n=null){var r=t.getNodes();let i=r.length;var o=t.anchor;if(i===0||i===1&&o.type==="element"&&o.getNode().getChildrenSize()===0){t=o.type==="text"?o.getNode().getParentOrThrow():o.getNode(),r=t.getChildren();let l=e();l.setFormat(t.getFormatType()),l.setIndent(t.getIndent()),r.forEach(a=>l.append(a)),n&&(l=n.append(l)),t.replace(l)}else{o=null;var s=[];for(let l=0;l<i;l++){let a=r[l];j.$isRootOrShadowRoot(a)?(xs(t,s,s.length,e,n),s=[],o=a):o===null||o!==null&&j.$hasAncestor(a,o)?s.push(a):(xs(t,s,s.length,e,n),s=[a])}xs(t,s,s.length,e,n)}};Ie.createDOMRange=function(t,e,n,r,i){let o=e.getKey(),s=r.getKey(),l=document.createRange(),a=t.getElementByKey(o);if(t=t.getElementByKey(s),j.$isTextNode(e)&&(a=Tu(a)),j.$isTextNode(r)&&(t=Tu(t)),e===void 0||r===void 0||a===null||t===null)return null;a.nodeName==="BR"&&([a,n]=Su(a)),t.nodeName==="BR"&&([t,i]=Su(t)),e=a.firstChild,a===t&&e!=null&&e.nodeName==="BR"&&n===0&&i===0&&(i=1);try{l.setStart(a,n),l.setEnd(t,i)}catch{return null}return!l.collapsed||n===i&&o===s||(l.setStart(t,i),l.setEnd(a,n)),l};Ie.createRectsFromDOMRange=function(t,e){var n=t.getRootElement();if(n===null)return[];t=n.getBoundingClientRect(),n=getComputedStyle(n),n=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e=Array.from(e.getClientRects());let r=e.length,i;for(let o=0;o<r;o++){let s=e[o],l=s.width+n===t.width;i&&i.top===s.top&&i.left===s.left&&i.width===s.width&&i.height===s.height||l?(e.splice(o--,1),r--):i=s}return e};Ie.getStyleObjectFromCSS=yo;Ie.trimTextContentFromAnchor=function(t,e,n){let r=e.getNode();if(j.$isElementNode(r)){var i=r.getDescendantByIndex(e.offset);i!==null&&(r=i)}for(;0<n&&r!==null;){var o=r.getPreviousSibling(),s=0;if(o===null){i=r.getParentOrThrow();for(var l=i.getPreviousSibling();l===null;){if(i=i.getParent(),i===null){o=null;break}l=i.getPreviousSibling()}i!==null&&(s=i.isInline()?0:2,o=j.$isElementNode(l)?l.getLastDescendant():l)}if(l=r.getTextContent(),l===""&&j.$isElementNode(r)&&!r.isInline()&&(l=`

`),i=r.getTextContentSize(),!j.$isTextNode(r)||n>=i)l=r.getParent(),r.remove(),l==null||l.getChildrenSize()!==0||j.$isRootNode(l)||l.remove(),n-=i+s,r=o;else{let a=r.getKey();s=t.getEditorState().read(()=>{const g=j.$getNodeByKey(a);return j.$isTextNode(g)&&g.isSimpleText()?g.getTextContent():null}),o=i-n;let c=l.slice(0,o);s!==null&&s!==l?(n=j.$getPreviousSelection(),i=r,r.isSimpleText()?r.setTextContent(s):(i=j.$createTextNode(s),r.replace(i)),j.$isRangeSelection(n)&&n.isCollapsed()&&(n=n.anchor.offset,i.select(n,n))):r.isSimpleText()?(s=e.key===a,l=e.offset,l<n&&(l=i),n=s?l-n:0,i=s?l:o,s&&n===0?([n]=r.splitText(n,i),n.remove()):([,n]=r.splitText(n,i),n.remove())):(n=j.$createTextNode(c),r.replace(n)),n=0}}};const hm=Ie;var xt=hm,pm=xt,De=G;function ig(t,e){for(let n of e)if(t.type.startsWith(n))return!0;return!1}function og(t,e){for(;t!==De.$getRoot()&&t!=null;){if(e(t))return t;t=t.getParent()}return null}function sg(t){return t.nodeType===1}He.$splitNode=De.$splitNode;He.$dfs=function(t,e){let n=[];t=(t||De.$getRoot()).getLatest(),e=e||(De.$isElementNode(t)?t.getLastDescendant():t);for(var r=t,i=0;(r=r.getParent())!==null;)i++;for(r=i;t!==null&&!t.is(e);)if(n.push({depth:r,node:t}),De.$isElementNode(t)&&0<t.getChildrenSize())t=t.getFirstChild(),r++;else for(i=null;i===null&&t!==null;)i=t.getNextSibling(),i===null?(t=t.getParent(),r--):t=i;return t!==null&&t.is(e)&&n.push({depth:r,node:t}),n};He.$findMatchingParent=og;He.$getNearestBlockElementAncestorOrThrow=function(t){if(t=og(t,e=>De.$isElementNode(e)&&!e.isInline()),!De.$isElementNode(t))throw Error("Minified Lexical error #4; visit https://lexical.dev/docs/error?code=4 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return t};He.$getNearestNodeOfType=function(t,e){for(;t!=null;){if(t instanceof e)return t;t=t.getParent()}return null};He.$insertNodeToNearestRoot=function(t){var e=De.$getSelection();if(De.$isRangeSelection(e)){var{focus:n}=e;if(e=n.getNode(),n=n.offset,De.$isRootOrShadowRoot(e))n=e.getChildAtIndex(n),n==null?e.append(t):n.insertBefore(t),t.selectNext();else{let r,i;De.$isTextNode(e)?(r=e.getParentOrThrow(),i=e.getIndexWithinParent(),0<n&&(i+=1,e.splitText(n))):(r=e,i=n),[,e]=De.$splitNode(r,i),e.insertBefore(t),e.selectStart()}}else De.$isNodeSelection(e)||De.DEPRECATED_$isGridSelection(e)?(e=e.getNodes(),e[e.length-1].getTopLevelElementOrThrow().insertAfter(t)):De.$getRoot().append(t),e=De.$createParagraphNode(),t.insertAfter(e),e.select();return t.getLatest()};He.$restoreEditorState=function(t,e){let n=new Map,r=t._pendingEditorState;for(let[i,o]of e._nodeMap){let s=pm.$cloneWithProperties(o);De.$isTextNode(s)&&(s.__text=o.__text),n.set(i,s)}r&&(r._nodeMap=n),t._dirtyType=2,t=e._selection,De.$setSelection(t===null?null:t.clone())};He.$wrapNodeInElement=function(t,e){return e=e(),t.replace(e),e.append(t),e};He.addClassNamesToElement=function(t,...e){e.forEach(n=>{typeof n=="string"&&(n=n.split(" ").filter(r=>r!==""),t.classList.add(...n))})};He.isHTMLAnchorElement=function(t){return sg(t)&&t.tagName==="A"};He.isHTMLElement=sg;He.isMimeType=ig;He.mediaFileReader=function(t,e){let n=t[Symbol.iterator]();return new Promise((r,i)=>{let o=[],s=()=>{const{done:l,value:a}=n.next();if(l)return r(o);const c=new FileReader;c.addEventListener("error",i),c.addEventListener("load",()=>{const g=c.result;typeof g=="string"&&o.push({file:a,result:g}),s()}),ig(a,e)?c.readAsDataURL(a):s()};s()})};He.mergeRegister=function(...t){return()=>{t.forEach(e=>e())}};He.registerNestedElementResolver=function(t,e,n,r){return t.registerNodeTransform(e,i=>{e:{for(var o=i.getChildren(),s=0;s<o.length;s++)if(o[s]instanceof e){o=null;break e}for(o=i;o!==null;)if(s=o,o=o.getParent(),o instanceof e){o={child:s,parent:o};break e}o=null}if(o!==null){const{child:l,parent:a}=o;if(l.is(i)){if(r(a,i),i=l.getNextSiblings(),o=i.length,a.insertAfter(l),o!==0){s=n(a),l.insertAfter(s);for(let c=0;c<o;c++)s.append(i[c])}a.canBeEmpty()||a.getChildrenSize()!==0||a.remove()}}})};He.removeClassNamesFromElement=function(t,...e){e.forEach(n=>{typeof n=="string"&&t.classList.remove(...n.split(" "))})};const mm=He;var tt=mm,lg={},ki=G;lg.registerDragonSupport=function(t){let e=window.location.origin,n=r=>{if(r.origin===e){var i=t.getRootElement();if(document.activeElement===i&&(i=r.data,typeof i=="string")){try{var o=JSON.parse(i)}catch{return}if(o&&o.protocol==="nuanria_messaging"&&o.type==="request"&&(o=o.payload)&&o.functionId==="makeChanges"&&(o=o.args)){const[s,l,a,c,g]=o;t.update(()=>{const d=ki.$getSelection();if(ki.$isRangeSelection(d)){var u=d.anchor;let f=u.getNode(),h=0,p=0;ki.$isTextNode(f)&&0<=s&&0<=l&&(h=s,p=s+l,d.setTextNodeRange(f,h,f,p)),(h!==p||a!=="")&&(d.insertRawText(a),f=u.getNode()),ki.$isTextNode(f)&&(h=c,p=c+g,u=f.getTextContentSize(),h=h>u?u:h,p=p>u?u:p,d.setTextNodeRange(f,h,f,p)),r.stopImmediatePropagation()}})}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}};const _m=lg;var ym=_m,Yt={},an={},la={},Au=xt,fr=G;function ag(t,e,n,r=null){let i=r!=null?e.isSelected():!0,o=fr.$isElementNode(e)&&e.excludeFromCopy("html");var s=e;r!==null&&(s=Au.$cloneWithProperties(e),s=fr.$isTextNode(s)&&r!=null?Au.$sliceSelectedTextNodeContent(r,s):s);let l=fr.$isElementNode(s)?s.getChildren():[],{element:a,after:c}=s.exportDOM(t);if(!a)return!1;let g=document.createDocumentFragment();for(let d=0;d<l.length;d++){let u=l[d],f=ag(t,u,g,r);!i&&fr.$isElementNode(e)&&f&&e.extractWithChild(u,r,"html")&&(i=!0)}return i&&!o?(a.append(g),n.append(a),c&&(t=c.call(s,a))&&a.replaceWith(t)):n.append(g),i}let ug=new Set(["STYLE","SCRIPT"]);function cg(t,e,n=new Map,r,i=!1){let o=[];if(ug.has(t.nodeName))return o;let s=null;var{nodeName:l}=t,a=e._htmlConversions.get(l.toLowerCase());if(l=null,a!==void 0)for(c of a)a=c(t),a!==null&&(l===null||l.priority<a.priority)&&(l=a);var c=(c=l!==null?l.conversion:null)?c(t,void 0,i):null;if(l=null,c!==null){if(l=c.after,s=c.node,s!==null){for(var[,g]of n)if(s=g(s,r),!s)break;s&&o.push(s)}c.forChild!=null&&n.set(t.nodeName,c.forChild)}for(t=t.childNodes,r=[],g=0;g<t.length;g++)r.push(...cg(t[g],e,new Map(n),s,i||(c&&c.preformatted)===!0));return l!=null&&(r=l(r)),s==null?o=o.concat(r):fr.$isElementNode(s)&&s.append(...r),o}la.$generateHtmlFromNodes=function(t,e){if(typeof document>"u"||typeof window>"u")throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let n=document.createElement("div"),r=fr.$getRoot().getChildren();for(let i=0;i<r.length;i++)ag(t,r[i],n,e);return n.innerHTML};la.$generateNodesFromDOM=function(t,e){let n=[];e=e.body?e.body.childNodes:[];for(let i=0;i<e.length;i++){var r=e[i];ug.has(r.nodeName)||(r=cg(r,t),r!==null&&(n=n.concat(r)))}return n};const Em=la;var dg=Em,gg=dg,dl=xt,Jr=tt,W=G;function nn(t){throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?code=${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function fg(t){let e=W.$getSelection();if(e==null)throw Error("Expected valid LexicalSelection");return W.$isRangeSelection(e)&&e.isCollapsed()||e.getNodes().length===0?"":gg.$generateHtmlFromNodes(t,e)}function hg(t){let e=W.$getSelection();if(e==null)throw Error("Expected valid LexicalSelection");return W.$isRangeSelection(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(mg(t,e))}function gl(t,e,n){(W.DEPRECATED_$isGridSelection(n)||Jr.$findMatchingParent(n.anchor.getNode(),r=>W.DEPRECATED_$isGridCellNode(r))!==null&&Jr.$findMatchingParent(n.focus.getNode(),r=>W.DEPRECATED_$isGridCellNode(r))!==null)&&e.length===1&&W.DEPRECATED_$isGridNode(e[0])?xm(e,n,!1,t):Nm(e,n)}function Nm(t,e){let n=[],r=null;for(let i=0;i<t.length;i++){let o=t[i],s=W.$isLineBreakNode(o);if(s||W.$isDecoratorNode(o)&&o.isInline()||W.$isElementNode(o)&&o.isInline()||W.$isTextNode(o)||o.isParentRequired()){if(r===null&&(r=o.createParentElementNode(),n.push(r),s))continue;r!==null&&r.append(o)}else n.push(o),r=null}W.$isRangeSelection(e)?e.insertNodes(n):W.DEPRECATED_$isGridSelection(e)&&(t=e.anchor.getNode(),W.DEPRECATED_$isGridCellNode(t)||nn(41),t.append(...n))}function xm(t,e,n,r){t.length===1&&W.DEPRECATED_$isGridNode(t[0])||nn(42);var i=t[0];t=i.getChildren(),n=i.getFirstChildOrThrow().getChildrenSize();var o=i.getChildrenSize(),s=Jr.$findMatchingParent(e.anchor.getNode(),f=>W.DEPRECATED_$isGridCellNode(f));e=(i=s&&Jr.$findMatchingParent(s,f=>W.DEPRECATED_$isGridRowNode(f)))&&Jr.$findMatchingParent(i,f=>W.DEPRECATED_$isGridNode(f)),W.DEPRECATED_$isGridCellNode(s)&&W.DEPRECATED_$isGridRowNode(i)&&W.DEPRECATED_$isGridNode(e)||nn(43);var l=i.getIndexWithinParent(),a=Math.min(e.getChildrenSize()-1,l+o-1);o=s.getIndexWithinParent(),s=Math.min(i.getChildrenSize()-1,o+n-1),n=Math.min(o,s),i=Math.min(l,a),o=Math.max(o,s),l=Math.max(l,a),a=e.getChildren(),s=0;let c,g;for(let f=i;f<=l;f++){var d=a[f];W.DEPRECATED_$isGridRowNode(d)||nn(24);var u=t[s];W.DEPRECATED_$isGridRowNode(u)||nn(24),d=d.getChildren(),u=u.getChildren();let h=0;for(let p=n;p<=o;p++){let E=d[p];W.DEPRECATED_$isGridCellNode(E)||nn(25);let x=u[h];W.DEPRECATED_$isGridCellNode(x)||nn(25),f===i&&p===n?c=E.getKey():f===l&&p===o&&(g=E.getKey());let m=E.getChildren();x.getChildren().forEach(_=>{W.$isTextNode(_)&&W.$createParagraphNode().append(_),E.append(_)}),m.forEach(_=>_.remove()),h++}s++}c&&g&&(t=W.DEPRECATED_$createGridSelection(),t.set(e.getKey(),c,g),W.$setSelection(t),r.dispatchCommand(W.SELECTION_CHANGE_COMMAND,void 0))}function pg(t,e,n,r=[]){let i=e!=null?n.isSelected(e):!0,o=W.$isElementNode(n)&&n.excludeFromCopy("html");var s=n;if(e!==null){var l=dl.$cloneWithProperties(n);s=l=W.$isTextNode(l)&&e!=null?dl.$sliceSelectedTextNodeContent(e,l):l}let a=W.$isElementNode(s)?s.getChildren():[];var c=s;l=c.exportJSON(),l.type!==c.constructor.getType()&&nn(58);var g=l.children;for(W.$isElementNode(c)&&(Array.isArray(g)||nn(59)),W.$isTextNode(s)&&(s=s.__text,0<s.length?l.text=s:i=!1),s=0;s<a.length;s++)c=a[s],g=pg(t,e,c,l.children),!i&&W.$isElementNode(n)&&g&&n.extractWithChild(c,e,"clone")&&(i=!0);if(i&&!o)r.push(l);else if(Array.isArray(l.children))for(t=0;t<l.children.length;t++)r.push(l.children[t]);return i}function mg(t,e){let n=[],r=W.$getRoot().getChildren();for(let i=0;i<r.length;i++)pg(t,e,r[i],n);return{namespace:t._config.namespace,nodes:n}}function _g(t){let e=[];for(let n=0;n<t.length;n++){let r=W.$parseSerializedNode(t[n]);W.$isTextNode(r)&&dl.$addNodeStyle(r),e.push(r)}return e}let ir=null;function Ru(t,e){var n=window.getSelection();if(!n)return!1;var r=n.anchorNode;if(n=n.focusNode,r!==null&&n!==null&&!W.isSelectionWithinEditor(t,r,n)||(e.preventDefault(),e=e.clipboardData,r=W.$getSelection(),e===null||r===null))return!1;n=fg(t),t=hg(t);let i="";return r!==null&&(i=r.getTextContent()),n!==null&&e.setData("text/html",n),t!==null&&e.setData("application/x-lexical-editor",t),e.setData("text/plain",i),!0}an.$generateJSONFromSelectedNodes=mg;an.$generateNodesFromSerializedNodes=_g;an.$getHtmlContent=fg;an.$getLexicalContent=hg;an.$insertDataTransferForPlainText=function(t,e){t=t.getData("text/plain"),t!=null&&e.insertRawText(t)};an.$insertDataTransferForRichText=function(t,e,n){var r=t.getData("application/x-lexical-editor");if(r)try{let o=JSON.parse(r);if(o.namespace===n._config.namespace&&Array.isArray(o.nodes)){let s=_g(o.nodes);return gl(n,s,e)}}catch{}if(r=t.getData("text/html"))try{var i=new DOMParser().parseFromString(r,"text/html");let o=gg.$generateNodesFromDOM(n,i);return gl(n,o,e)}catch{}if(t=t.getData("text/plain"),t!=null)if(W.$isRangeSelection(e))for(t=t.split(/\r?\n/),n=t.length,i=0;i<n;i++)e.insertText(t[i]),i<n-1&&e.insertParagraph();else e.insertRawText(t)};an.$insertGeneratedNodes=gl;an.copyToClipboard=async function(t,e){if(ir!==null)return!1;if(e!==null)return new Promise(o=>{t.update(()=>{o(Ru(t,e))})});var n=t.getRootElement();let r=document.getSelection();if(n===null||r===null)return!1;let i=document.createElement("span");return i.style.cssText="position: fixed; top: -1000px;",i.append(document.createTextNode("#")),n.append(i),n=new Range,n.setStart(i,0),n.setEnd(i,1),r.removeAllRanges(),r.addRange(n),new Promise(o=>{let s=t.registerCommand(W.COPY_COMMAND,l=>(l instanceof ClipboardEvent&&(s(),ir!==null&&(window.clearTimeout(ir),ir=null),o(Ru(t,l))),!0),W.COMMAND_PRIORITY_CRITICAL);ir=window.setTimeout(()=>{s(),ir=null,o(!1)},50),document.execCommand("copy"),i.remove()})};const Cm=an;var vm=Cm,Eo=vm,Li=xt,Nr=tt,T=G;function wu(t,e){return typeof document.caretRangeFromPoint<"u"?(t=document.caretRangeFromPoint(t,e),t===null?null:{node:t.startContainer,offset:t.startOffset}):document.caretPositionFromPoint!=="undefined"?(t=document.caretPositionFromPoint(t,e),t===null?null:{node:t.offsetNode,offset:t.offset}):null}let Ir=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tm=Ir&&"documentMode"in document?document.documentMode:null,Sm=Ir&&"InputEvent"in window&&!Tm?"getTargetRanges"in new window.InputEvent("input"):!1,Am=Ir&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Rm=Ir&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,wm=Ir&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Om=Ir&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!wm,fl=T.createCommand("DRAG_DROP_PASTE_FILE"),aa=class yg extends T.ElementNode{static getType(){return"quote"}static clone(e){return new yg(e.__key)}constructor(e){super(e)}createDOM(e){let n=document.createElement("blockquote");return Nr.addClassNamesToElement(n,e.theme.quote),n}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:$m,priority:0})}}static importJSON(e){let n=ua();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(e,n){e=T.$createParagraphNode();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,n),e}collapseAtStart(){let e=T.$createParagraphNode();return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}};function ua(){return T.$applyNodeReplacement(new aa)}let ca=class Eg extends T.ElementNode{static getType(){return"heading"}static clone(e){return new Eg(e.__tag,e.__key)}constructor(e,n){super(n),this.__tag=e}getTag(){return this.__tag}createDOM(e){let n=this.__tag,r=document.createElement(n);return e=e.theme.heading,e!==void 0&&Nr.addClassNamesToElement(r,e[n]),r}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:or,priority:0}),h2:()=>({conversion:or,priority:0}),h3:()=>({conversion:or,priority:0}),h4:()=>({conversion:or,priority:0}),h5:()=>({conversion:or,priority:0}),h6:()=>({conversion:or,priority:0}),p:e=>(e=e.firstChild,e!==null&&Ou(e)?{conversion:()=>({node:null}),priority:3}:null),span:e=>Ou(e)?{conversion:()=>({node:hr("h1")}),priority:3}:null}}static importJSON(e){let n=hr(e.tag);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(e,n=!0){e=e?e.anchor.offset:0,e=0<e&&e<this.getTextContentSize()?hr(this.getTag()):T.$createParagraphNode();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,n),e}collapseAtStart(){let e=this.isEmpty()?T.$createParagraphNode():hr(this.getTag());return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}extractWithChild(){return!0}};function Ou(t){return t.nodeName.toLowerCase()==="span"?t.style.fontSize==="26pt":!1}function or(t){t=t.nodeName.toLowerCase();let e=null;return(t==="h1"||t==="h2"||t==="h3"||t==="h4"||t==="h5"||t==="h6")&&(e=hr(t)),{node:e}}function $m(){return{node:ua()}}function hr(t){return T.$applyNodeReplacement(new ca(t))}function Dm(t,e){t.preventDefault(),e.update(()=>{let n=T.$getSelection(),r=t instanceof InputEvent||t instanceof KeyboardEvent?null:t.clipboardData;r!=null&&(T.$isRangeSelection(n)||T.DEPRECATED_$isGridSelection(n))&&Eo.$insertDataTransferForRichText(r,n,e)},{tag:"paste"})}async function km(t,e){await Eo.copyToClipboard(e,t instanceof ClipboardEvent?t:null),e.update(()=>{let n=T.$getSelection();T.$isRangeSelection(n)?n.removeText():T.$isNodeSelection(n)&&n.getNodes().forEach(r=>r.remove())})}function Hr(t){let e=null;if(t instanceof DragEvent?e=t.dataTransfer:t instanceof ClipboardEvent&&(e=t.clipboardData),e===null)return[!1,[],!1];var n=e.types;return t=n.includes("Files"),n=n.includes("text/html")||n.includes("text/plain"),[t,Array.from(e.files),n]}function $u(t,e){var n=T.$getSelection();if(T.$isRangeSelection(n)){var r=new Set;n=n.getNodes();for(let i=0;i<n.length;i++){let o=n[i],s=o.getKey();if(r.has(s))continue;let l=Nr.$getNearestBlockElementAncestorOrThrow(o),a=l.getKey();l.canInsertTab()?(t(o),r.add(s)):l.canIndent()&&!r.has(a)&&(r.add(a),e(l))}}}function Mi(t){return t=T.$getNearestNodeFromDOMNode(t),T.$isDecoratorNode(t)}Yt.$createHeadingNode=hr;Yt.$createQuoteNode=ua;Yt.$isHeadingNode=function(t){return t instanceof ca};Yt.$isQuoteNode=function(t){return t instanceof aa};Yt.DRAG_DROP_PASTE=fl;Yt.HeadingNode=ca;Yt.QuoteNode=aa;Yt.eventFiles=Hr;Yt.registerRichText=function(t){return Nr.mergeRegister(t.registerCommand(T.CLICK_COMMAND,()=>{const e=T.$getSelection();return T.$isNodeSelection(e)?(e.clear(),!0):!1},0),t.registerCommand(T.DELETE_CHARACTER_COMMAND,e=>{const n=T.$getSelection();return T.$isRangeSelection(n)?(n.deleteCharacter(e),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.DELETE_WORD_COMMAND,e=>{const n=T.$getSelection();return T.$isRangeSelection(n)?(n.deleteWord(e),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.DELETE_LINE_COMMAND,e=>{const n=T.$getSelection();return T.$isRangeSelection(n)?(n.deleteLine(e),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.CONTROLLED_TEXT_INSERTION_COMMAND,e=>{const n=T.$getSelection();if(typeof e=="string")T.$isRangeSelection(n)?n.insertText(e):T.DEPRECATED_$isGridSelection(n);else{if(!T.$isRangeSelection(n)&&!T.DEPRECATED_$isGridSelection(n))return!1;const r=e.dataTransfer;r!=null?Eo.$insertDataTransferForRichText(r,n,t):T.$isRangeSelection(n)&&(e=e.data)&&n.insertText(e)}return!0},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.REMOVE_TEXT_COMMAND,()=>{const e=T.$getSelection();return T.$isRangeSelection(e)?(e.removeText(),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.FORMAT_TEXT_COMMAND,e=>{const n=T.$getSelection();return T.$isRangeSelection(n)?(n.formatText(e),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.FORMAT_ELEMENT_COMMAND,e=>{var n=T.$getSelection();if(!T.$isRangeSelection(n)&&!T.$isNodeSelection(n))return!1;n=n.getNodes();for(const r of n)Nr.$getNearestBlockElementAncestorOrThrow(r).setFormat(e);return!0},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.INSERT_LINE_BREAK_COMMAND,e=>{const n=T.$getSelection();return T.$isRangeSelection(n)?(n.insertLineBreak(e),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.INSERT_PARAGRAPH_COMMAND,()=>{const e=T.$getSelection();return T.$isRangeSelection(e)?(e.insertParagraph(),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.INDENT_CONTENT_COMMAND,()=>($u(()=>{t.dispatchCommand(T.CONTROLLED_TEXT_INSERTION_COMMAND,"	")},e=>{const n=e.getIndent();n!==10&&e.setIndent(n+1)}),!0),T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.OUTDENT_CONTENT_COMMAND,()=>($u(e=>{T.$isTextNode(e)&&(e=e.getTextContent(),e[e.length-1]==="	"&&t.dispatchCommand(T.DELETE_CHARACTER_COMMAND,!0))},e=>{const n=e.getIndent();n!==0&&e.setIndent(n-1)}),!0),T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_ARROW_UP_COMMAND,e=>{var n=T.$getSelection();if(T.$isNodeSelection(n)&&!Mi(e.target)){if(e=n.getNodes(),0<e.length)return e[0].selectPrevious(),!0}else if(T.$isRangeSelection(n)){if(n=T.$getAdjacentNode(n.focus,!0),T.$isDecoratorNode(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0;if(T.$isElementNode(n)&&!n.isInline()&&!n.canBeEmpty())return n.select(),e.preventDefault(),!0}return!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_ARROW_DOWN_COMMAND,e=>{var n=T.$getSelection();if(T.$isNodeSelection(n)){if(e=n.getNodes(),0<e.length)return e[0].selectNext(0,0),!0}else if(T.$isRangeSelection(n)){let r=n.focus;if(r.key==="root"&&r.offset===T.$getRoot().getChildrenSize())return e.preventDefault(),!0;if(n=T.$getAdjacentNode(n.focus,!1),T.$isDecoratorNode(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_ARROW_LEFT_COMMAND,e=>{const n=T.$getSelection();if(T.$isNodeSelection(n)){var r=n.getNodes();if(0<r.length)return e.preventDefault(),r[0].selectPrevious(),!0}return T.$isRangeSelection(n)&&Li.$shouldOverrideDefaultCharacterSelection(n,!0)?(r=e.shiftKey,e.preventDefault(),Li.$moveCharacter(n,r,!0),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_ARROW_RIGHT_COMMAND,e=>{const n=T.$getSelection();if(T.$isNodeSelection(n)&&!Mi(e.target)){var r=n.getNodes();if(0<r.length)return e.preventDefault(),r[0].selectNext(0,0),!0}return T.$isRangeSelection(n)?(r=e.shiftKey,Li.$shouldOverrideDefaultCharacterSelection(n,!1)?(e.preventDefault(),Li.$moveCharacter(n,r,!1),!0):!1):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_BACKSPACE_COMMAND,e=>{if(Mi(e.target))return!1;const n=T.$getSelection();if(!T.$isRangeSelection(n))return!1;e.preventDefault(),{anchor:e}=n;const r=e.getNode();return n.isCollapsed()&&e.offset===0&&!T.$isRootNode(r)&&0<Nr.$getNearestBlockElementAncestorOrThrow(r).getIndent()?t.dispatchCommand(T.OUTDENT_CONTENT_COMMAND,void 0):t.dispatchCommand(T.DELETE_CHARACTER_COMMAND,!0)},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_DELETE_COMMAND,e=>{if(Mi(e.target))return!1;const n=T.$getSelection();return T.$isRangeSelection(n)?(e.preventDefault(),t.dispatchCommand(T.DELETE_CHARACTER_COMMAND,!1)):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_ENTER_COMMAND,e=>{const n=T.$getSelection();if(!T.$isRangeSelection(n))return!1;if(e!==null){if((Rm||Am||Om)&&Sm)return!1;if(e.preventDefault(),e.shiftKey)return t.dispatchCommand(T.INSERT_LINE_BREAK_COMMAND,!1)}return t.dispatchCommand(T.INSERT_PARAGRAPH_COMMAND,void 0)},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_ESCAPE_COMMAND,()=>{const e=T.$getSelection();return T.$isRangeSelection(e)?(t.blur(),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.DROP_COMMAND,e=>{const[,n]=Hr(e);if(0<n.length){var r=wu(e.clientX,e.clientY);if(r!==null){const{offset:o,node:s}=r;var i=T.$getNearestNodeFromDOMNode(s);if(i!==null){if(r=T.$createRangeSelection(),T.$isTextNode(i))r.anchor.set(i.getKey(),o,"text"),r.focus.set(i.getKey(),o,"text");else{const l=i.getParentOrThrow().getKey();i=i.getIndexWithinParent()+1,r.anchor.set(l,i,"element"),r.focus.set(l,i,"element")}r=T.$normalizeSelection__EXPERIMENTAL(r),T.$setSelection(r)}t.dispatchCommand(fl,n)}return e.preventDefault(),!0}return e=T.$getSelection(),!!T.$isRangeSelection(e)},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.DRAGSTART_COMMAND,e=>{[e]=Hr(e);const n=T.$getSelection();return!(e&&!T.$isRangeSelection(n))},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.DRAGOVER_COMMAND,e=>{var[n]=Hr(e);const r=T.$getSelection();return n&&!T.$isRangeSelection(r)?!1:(n=wu(e.clientX,e.clientY),n!==null&&(n=T.$getNearestNodeFromDOMNode(n.node),T.$isDecoratorNode(n)&&e.preventDefault()),!0)},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.COPY_COMMAND,e=>(Eo.copyToClipboard(t,e instanceof ClipboardEvent?e:null),!0),T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.CUT_COMMAND,e=>(km(e,t),!0),T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.PASTE_COMMAND,e=>{const[,n,r]=Hr(e);if(0<n.length&&!r)return t.dispatchCommand(fl,n),!0;if(T.isSelectionCapturedInDecoratorInput(e.target))return!1;const i=T.$getSelection();return T.$isRangeSelection(i)||T.DEPRECATED_$isGridSelection(i)?(Dm(e,t),!0):!1},T.COMMAND_PRIORITY_EDITOR))};const Lm=Yt;var Nn=Lm,Ng=pt,Mm=um,Nt=v,Im=dm,xg=tt,Du=Us,bm=ym,Pm=Nn,da=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Nt.useLayoutEffect:Nt.useEffect;function ku(t){return t.getEditorState().read(Im.$canShowPlaceholderCurry(t.isComposing()))}function Fm(t){let[e,n]=Nt.useState(()=>ku(t));return da(()=>{function r(){let i=ku(t);n(i)}return r(),xg.mergeRegister(t.registerUpdateListener(()=>{r()}),t.registerEditableListener(()=>{r()}))},[t]),e}function Bm(t,e){let[n,r]=Nt.useState(()=>t.getDecorators());return da(()=>t.registerDecoratorListener(i=>{Du.flushSync(()=>{r(i)})}),[t]),Nt.useEffect(()=>{r(t.getDecorators())},[t]),Nt.useMemo(()=>{let i=[],o=Object.keys(n);for(let l=0;l<o.length;l++){var s=o[l];let a=Nt.createElement(e,{onError:c=>t._onError(c)},Nt.createElement(Nt.Suspense,{fallback:null},n[s]));s=t.getElementByKey(s),s!==null&&i.push(Du.createPortal(a,s))}return i},[e,n,t])}function zm(t){da(()=>xg.mergeRegister(Pm.registerRichText(t),bm.registerDragonSupport(t)),[t])}function Um({content:t}){var[e]=Ng.useLexicalComposerContext();e=Fm(e);let n=Mm();return e?typeof t=="function"?t(n):t:null}Zd.RichTextPlugin=function({contentEditable:t,placeholder:e,ErrorBoundary:n}){let[r]=Ng.useLexicalComposerContext();return n=Bm(r,n),zm(r),Nt.createElement(Nt.Fragment,null,t,Nt.createElement(Um,{content:e}),n)};const jm=Zd;var Hm=jm,Cg={},Km=pt,qr=v,Wm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?qr.useLayoutEffect:qr.useEffect;Cg.ContentEditable=function({ariaActiveDescendant:t,ariaAutoComplete:e,ariaControls:n,ariaDescribedBy:r,ariaExpanded:i,ariaLabel:o,ariaLabelledBy:s,ariaMultiline:l,ariaOwns:a,ariaRequired:c,autoCapitalize:g,className:d,id:u,role:f="textbox",spellCheck:h=!0,style:p,tabIndex:E,"data-testid":x}){let[m]=Km.useLexicalComposerContext(),[_,S]=qr.useState(!1),R=qr.useCallback(A=>{m.setRootElement(A)},[m]);return Wm(()=>(S(m.isEditable()),m.registerEditableListener(A=>{S(A)})),[m]),qr.createElement("div",{"aria-activedescendant":_?t:void 0,"aria-autocomplete":_?e:"none","aria-controls":_?n:void 0,"aria-describedby":r,"aria-expanded":_&&f==="combobox"?!!i:void 0,"aria-label":o,"aria-labelledby":s,"aria-multiline":l,"aria-owns":_?a:void 0,"aria-required":c,autoCapitalize:g,className:d,contentEditable:_,"data-testid":x,id:u,ref:R,role:_?f:void 0,spellCheck:h,style:p,tabIndex:E})};const Gm=Cg;var Ym=Gm,ga={},fa={},Vm=tt,oe=G;function Xm(t,e,n,r,i){if(t===null||n.size===0&&r.size===0&&!i)return 0;var o=e._selection,s=t._selection;if(i)return 1;if(!(oe.$isRangeSelection(o)&&oe.$isRangeSelection(s)&&s.isCollapsed()&&o.isCollapsed()))return 0;i=e._nodeMap;let l=[];for(let a of n)n=i.get(a),n!==void 0&&l.push(n);for(let[a,c]of r)c&&(r=i.get(a),r===void 0||oe.$isRootNode(r)||l.push(r));return l.length===0?0:1<l.length?(r=e._nodeMap,e=r.get(o.anchor.key),s=r.get(s.anchor.key),e&&s&&!t._nodeMap.has(e.__key)&&oe.$isTextNode(e)&&e.__text.length===1&&o.anchor.offset===1?2:0):(e=l[0],t=t._nodeMap.get(e.__key),!oe.$isTextNode(t)||!oe.$isTextNode(e)||t.__mode!==e.__mode||(t=t.__text,e=e.__text,t===e)||(o=o.anchor,s=s.anchor,o.key!==s.key||o.type!=="text")?0:(o=o.offset,s=s.offset,t=e.length-t.length,t===1&&s===o-1?2:t===-1&&s===o+1?3:t===-1&&s===o?4:0))}function Jm(t,e){let n=Date.now(),r=0;return(i,o,s,l,a,c)=>{let g=Date.now();if(c.has("historic"))return r=0,n=g,2;let d=Xm(i,o,l,a,t.isComposing()),u=(()=>{var f=s===null||s.editor===t,h=c.has("history-push");if(!h&&f&&c.has("history-merge"))return 0;if(i===null)return 1;var p=o._selection;if(!(0<l.size||0<a.size))return p!==null?0:2;if(h===!1&&d!==0&&d===r&&g<n+e&&f)return 0;if(l.size===1){{h=Array.from(l)[0],f=i._nodeMap.get(h),h=o._nodeMap.get(h),p=i._selection;let E=o._selection,x=!1;oe.$isRangeSelection(p)&&oe.$isRangeSelection(E)&&(x=p.anchor.type==="element"&&p.focus.type==="element"&&E.anchor.type==="text"&&E.focus.type==="text"),f=!x&&oe.$isTextNode(f)&&oe.$isTextNode(h)?f.__type===h.__type&&f.__text===h.__text&&f.__mode===h.__mode&&f.__detail===h.__detail&&f.__style===h.__style&&f.__format===h.__format&&f.__parent===h.__parent:!1}if(f)return 0}return 1})();return n=g,r=d,u}}fa.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}};fa.registerHistory=function(t,e,n){let r=Jm(t,n);n=({editorState:s,prevEditorState:l,dirtyLeaves:a,dirtyElements:c,tags:g})=>{const d=e.current,u=e.redoStack,f=e.undoStack,h=d===null?null:d.editorState;if(d===null||s!==h){if(a=r(l,s,d,a,c,g),a===1)u.length!==0&&(e.redoStack=[],t.dispatchCommand(oe.CAN_REDO_COMMAND,!1)),d!==null&&(f.push({...d,undoSelection:l.read(oe.$getSelection)}),t.dispatchCommand(oe.CAN_UNDO_COMMAND,!0));else if(a===2)return;e.current={editor:t,editorState:s}}};let i=Vm.mergeRegister(t.registerCommand(oe.UNDO_COMMAND,()=>{let s=e.redoStack,l=e.undoStack;if(l.length!==0){let a=e.current,c=l.pop();a!==null&&(s.push(a),t.dispatchCommand(oe.CAN_REDO_COMMAND,!0)),l.length===0&&t.dispatchCommand(oe.CAN_UNDO_COMMAND,!1),e.current=c||null,c&&c.editor.setEditorState(c.editorState.clone(c.undoSelection),{tag:"historic"})}return!0},oe.COMMAND_PRIORITY_EDITOR),t.registerCommand(oe.REDO_COMMAND,()=>{let s=e.redoStack;var l=e.undoStack;if(s.length!==0){let a=e.current;a!==null&&(l.push(a),t.dispatchCommand(oe.CAN_UNDO_COMMAND,!0)),l=s.pop(),s.length===0&&t.dispatchCommand(oe.CAN_REDO_COMMAND,!1),e.current=l||null,l&&l.editor.setEditorState(l.editorState,{tag:"historic"})}return!0},oe.COMMAND_PRIORITY_EDITOR),t.registerCommand(oe.CLEAR_EDITOR_COMMAND,()=>(e.undoStack=[],e.redoStack=[],e.current=null,!1),oe.COMMAND_PRIORITY_EDITOR),t.registerCommand(oe.CLEAR_HISTORY_COMMAND,()=>(e.undoStack=[],e.redoStack=[],e.current=null,t.dispatchCommand(oe.CAN_REDO_COMMAND,!1),t.dispatchCommand(oe.CAN_UNDO_COMMAND,!1),!0),oe.COMMAND_PRIORITY_EDITOR),t.registerUpdateListener(n)),o=t.registerUpdateListener(n);return()=>{i(),o()}};const qm=fa;var Zm=qm,Qm=pt,hl=Zm,Lu=v;function e_(t,e,n=1e3){let r=Lu.useMemo(()=>e||hl.createEmptyHistoryState(),[e]);Lu.useEffect(()=>hl.registerHistory(t,r,n),[n,t,r])}ga.createEmptyHistoryState=hl.createEmptyHistoryState;ga.HistoryPlugin=function({externalHistoryState:t}){let[e]=Qm.useLexicalComposerContext();return e_(e,t),null};const t_=ga;var n_=t_,vg={},r_=pt,Mu=v,i_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Mu.useLayoutEffect:Mu.useEffect;vg.OnChangePlugin=function({ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:e=!1,onChange:n}){let[r]=r_.useLexicalComposerContext();return i_(()=>{if(n)return r.registerUpdateListener(({editorState:i,dirtyElements:o,dirtyLeaves:s,prevEditorState:l,tags:a})=>{e&&o.size===0&&s.size===0||t&&a.has("history-merge")||l.isEmpty()||n(i,r,a)})},[r,t,e,n]),null};const o_=vg;var s_=o_,Zr=v;function pl(t,e){return pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},pl(t,e)}function l_(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pl(t,e)}function a_(t,e){return t===void 0&&(t=[]),e===void 0&&(e=[]),t.length!==e.length||t.some(function(n,r){return!Object.is(n,e[r])})}var Iu={error:null},u_=function(t){function e(){for(var r,i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.state=Iu,r.resetErrorBoundary=function(){for(var l,a=arguments.length,c=Array(a),g=0;g<a;g++)c[g]=arguments[g];r.props.onReset==null||(l=r.props).onReset.apply(l,c),r.reset()},r}l_(e,t),e.getDerivedStateFromError=function(r){return{error:r}};var n=e.prototype;return n.reset=function(){this.setState(Iu)},n.componentDidCatch=function(r,i){var o,s;(o=(s=this.props).onError)==null||o.call(s,r,i)},n.componentDidUpdate=function(r,i){var o=this.props.resetKeys;if(this.state.error!==null&&i.error!==null&&a_(r.resetKeys,o)){var s,l;(s=(l=this.props).onResetKeysChange)==null||s.call(l,r.resetKeys,o),this.reset()}},n.render=function(){var r=this.state.error,i=this.props,o=i.fallbackRender,s=i.FallbackComponent;if(i=i.fallback,r!==null){if(r={error:r,resetErrorBoundary:this.resetErrorBoundary},Zr.isValidElement(i))return i;if(typeof o=="function")return o(r);if(s)return Zr.createElement(s,r);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},e}(Zr.Component),c_=function({children:t,onError:e}){return Zr.createElement(u_,{fallback:Zr.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:e},t)};const d_=c_;var g_=d_,Tg={},un={},Sg=tt,jt=G;let f_=new Set(["http:","https:","mailto:","sms:","tel:"]),Xo=class Ag extends jt.ElementNode{static getType(){return"link"}static clone(e){return new Ag(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e,n={},r){super(r);let{target:i=null,rel:o=null,title:s=null}=n;this.__url=e,this.__target=i,this.__rel=o,this.__title=s}createDOM(e){let n=document.createElement("a");return n.href=this.sanitizeUrl(this.__url),this.__target!==null&&(n.target=this.__target),this.__rel!==null&&(n.rel=this.__rel),this.__title!==null&&(n.title=this.__title),Sg.addClassNamesToElement(n,e.theme.link),n}updateDOM(e,n){let r=this.__url,i=this.__target,o=this.__rel,s=this.__title;return r!==e.__url&&(n.href=r),i!==e.__target&&(i?n.target=i:n.removeAttribute("target")),o!==e.__rel&&(o?n.rel=o:n.removeAttribute("rel")),s!==e.__title&&(s?n.title=s:n.removeAttribute("title")),!1}static importDOM(){return{a:()=>({conversion:h_,priority:1})}}static importJSON(e){let n=hi(e.url,{rel:e.rel,target:e.target,title:e.title});return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}sanitizeUrl(e){try{let n=new URL(e);if(!f_.has(n.protocol))return"about:blank"}catch{return"https://"}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(e){this.getWritable().__url=e}getTarget(){return this.getLatest().__target}setTarget(e){this.getWritable().__target=e}getRel(){return this.getLatest().__rel}setRel(e){this.getWritable().__rel=e}getTitle(){return this.getLatest().__title}setTitle(e){this.getWritable().__title=e}insertNewAfter(e,n=!0){return e=this.getParentOrThrow().insertNewAfter(e,n),jt.$isElementNode(e)?(n=hi(this.__url,{rel:this.__rel,target:this.__target,title:this.__title}),e.append(n),n):null}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,n){if(!jt.$isRangeSelection(n))return!1;e=n.anchor.getNode();let r=n.focus.getNode();return this.isParentOf(e)&&this.isParentOf(r)&&0<n.getTextContent().length}};function h_(t){let e=null;if(Sg.isHTMLAnchorElement(t)){let n=t.textContent;n!==null&&n!==""&&(e=hi(t.getAttribute("href")||"",{rel:t.getAttribute("rel"),target:t.getAttribute("target"),title:t.getAttribute("title")}))}return{node:e}}function hi(t,e){return jt.$applyNodeReplacement(new Xo(t,e))}function Mn(t){return t instanceof Xo}let ha=class Rg extends Xo{static getType(){return"autolink"}static clone(e){return new Rg(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}static importJSON(e){let n=ml(e.url,{rel:e.rel,target:e.target,title:e.title});return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),type:"autolink",version:1}}insertNewAfter(e,n=!0){return e=this.getParentOrThrow().insertNewAfter(e,n),jt.$isElementNode(e)?(n=ml(this.__url,{rel:this._rel,target:this.__target,title:this.__title}),e.append(n),n):null}};function ml(t,e){return jt.$applyNodeReplacement(new ha(t,e))}let p_=jt.createCommand("TOGGLE_LINK_COMMAND");function m_(t,e){for(;t!==null&&(t=t.getParent())!==null&&!e(t););return t}un.$createAutoLinkNode=ml;un.$createLinkNode=hi;un.$isAutoLinkNode=function(t){return t instanceof ha};un.$isLinkNode=Mn;un.AutoLinkNode=ha;un.LinkNode=Xo;un.TOGGLE_LINK_COMMAND=p_;un.toggleLink=function(t,e={}){let{target:n,title:r}=e,i=e.rel===void 0?"noopener":e.rel;if(e=jt.$getSelection(),jt.$isRangeSelection(e))if(e=e.extract(),t===null)e.forEach(s=>{if(s=s.getParent(),Mn(s)){let l=s.getChildren();for(let a=0;a<l.length;a++)s.insertBefore(l[a]);s.remove()}});else{if(e.length===1){var o=e[0];if(o=Mn(o)?o:m_(o,Mn),o!==null){o.setURL(t),n!==void 0&&o.setTarget(n),i!==null&&o.setRel(i),r!==void 0&&o.setTitle(r);return}}let s=null,l=null;e.forEach(a=>{var c=a.getParent();if(c!==l&&c!==null&&(!jt.$isElementNode(a)||a.isInline()))if(Mn(c))l=c,c.setURL(t),n!==void 0&&c.setTarget(n),i!==null&&l.setRel(i),r!==void 0&&l.setTitle(r);else if(c.is(s)||(s=c,l=hi(t,{rel:i,target:n}),Mn(c)?a.getPreviousSibling()===null?c.insertBefore(l):c.insertAfter(l):a.insertBefore(l)),Mn(a)){if(!a.is(l)){if(l!==null){c=a.getChildren();for(let g=0;g<c.length;g++)l.append(c[g])}a.remove()}}else l!==null&&l.append(a)})}};const __=un;var Ct=__,sr=Ct,y_=pt,E_=tt,lr=G,N_=v;Tg.LinkPlugin=function({validateUrl:t}){let[e]=y_.useLexicalComposerContext();return N_.useEffect(()=>{if(!e.hasNodes([sr.LinkNode]))throw Error("LinkPlugin: LinkNode not registered on editor");return E_.mergeRegister(e.registerCommand(sr.TOGGLE_LINK_COMMAND,n=>{if(n===null)return sr.toggleLink(n),!0;if(typeof n=="string")return t===void 0||t(n)?(sr.toggleLink(n),!0):!1;let{url:r,target:i,rel:o,title:s}=n;return sr.toggleLink(r,{rel:o,target:i,title:s}),!0},lr.COMMAND_PRIORITY_LOW),t!==void 0?e.registerCommand(lr.PASTE_COMMAND,n=>{let r=lr.$getSelection();if(!lr.$isRangeSelection(r)||r.isCollapsed()||!(n instanceof ClipboardEvent)||n.clipboardData==null)return!1;let i=n.clipboardData.getData("text");return t(i)?r.getNodes().some(o=>lr.$isElementNode(o))?!1:(e.dispatchCommand(sr.TOGGLE_LINK_COMMAND,i),n.preventDefault(),!0):!1},lr.COMMAND_PRIORITY_LOW):()=>{})},[e,t]),null};const x_=Tg;var C_=x_,ne={},C=G,he=tt;let ce={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1},pa=class wg extends C.DEPRECATED_GridCellNode{static getType(){return"tablecell"}static clone(e){let n=new wg(e.__headerState,e.__colSpan,e.__width,e.__key);return n.__rowSpan=e.__rowSpan,n.__backgroundColor=e.__backgroundColor,n}static importDOM(){return{td:()=>({conversion:bu,priority:0}),th:()=>({conversion:bu,priority:0})}}static importJSON(e){let n=vt(e.headerState,e.colSpan,e.width||void 0);return n.__rowSpan=e.rowSpan,n.__backgroundColor=e.backgroundColor||null,n}constructor(e=ce.NO_STATUS,n=1,r,i){super(n,i),this.__headerState=e,this.__width=r,this.__backgroundColor=null}createDOM(e){let n=document.createElement(this.getTag());return this.__width&&(n.style.width=`${this.__width}px`),1<this.__colSpan&&(n.colSpan=this.__colSpan),1<this.__rowSpan&&(n.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(n.style.backgroundColor=this.__backgroundColor),he.addClassNamesToElement(n,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),n}exportDOM(e){if({element:e}=super.exportDOM(e),e){var n=this.getParentOrThrow().getChildrenSize();e.style.border="1px solid black",1<this.__colSpan&&(e.colSpan=this.__colSpan),1<this.__rowSpan&&(e.rowSpan=this.__rowSpan),e.style.width=`${this.getWidth()||Math.max(90,700/n)}px`,e.style.verticalAlign="top",e.style.textAlign="start",n=this.getBackgroundColor(),n!==null?e.style.backgroundColor=n:this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return{element:e}}exportJSON(){return{...super.exportJSON(),backgroundColor:this.getBackgroundColor(),headerState:this.__headerState,type:"tablecell",width:this.getWidth()}}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e){return this.getWritable().__headerState=e,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){return this.getWritable().__width=e,this.__width}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){this.getWritable().__backgroundColor=e}toggleHeaderStyle(e){let n=this.getWritable();return n.__headerState=(n.__headerState&e)===e?n.__headerState-e:n.__headerState+e,n}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==ce.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}};function bu(t){var e=t.nodeName.toLowerCase();return e=vt(e==="th"?ce.ROW:ce.NO_STATUS),e.__colSpan=t.colSpan,e.__rowSpan=t.rowSpan,t=t.style.backgroundColor,t!==""&&(e.__backgroundColor=t),{forChild:(n,r)=>Z(r)&&!C.$isElementNode(n)?(r=C.$createParagraphNode(),C.$isLineBreakNode(n)&&n.getTextContent()===`
`?null:(r.append(n),r)):n,node:e}}function vt(t,e=1,n){return C.$applyNodeReplacement(new pa(t,e,n))}function Z(t){return t instanceof pa}let ma=class Og extends C.DEPRECATED_GridRowNode{static getType(){return"tablerow"}static clone(e){return new Og(e.__height,e.__key)}static importDOM(){return{tr:()=>({conversion:v_,priority:0})}}static importJSON(e){return Vn(e.height)}constructor(e,n){super(n),this.__height=e}exportJSON(){return{...super.exportJSON(),type:"tablerow",version:1}}createDOM(e){let n=document.createElement("tr");return this.__height&&(n.style.height=`${this.__height}px`),he.addClassNamesToElement(n,e.theme.tableRow),n}isShadowRoot(){return!0}setHeight(e){return this.getWritable().__height=e,this.__height}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}};function v_(){return{node:Vn()}}function Vn(t){return C.$applyNodeReplacement(new ma(t))}function Xn(t){return t instanceof ma}function ze(t){throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?code=${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let T_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$g=class{constructor(e,n){this.isHighlightingCells=!1,this.focusY=this.focusX=this.anchorY=this.anchorX=-1,this.listenersToRemove=new Set,this.tableNodeKey=n,this.editor=e,this.grid={cells:[],columns:0,rows:0},this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.trackTableGrid()}getGrid(){return this.grid}removeListeners(){Array.from(this.listenersToRemove).forEach(e=>e())}trackTableGrid(){let e=new MutationObserver(n=>{this.editor.update(()=>{var r=!1;for(let i=0;i<n.length;i++){const o=n[i].target.nodeName;if(o==="TABLE"||o==="TR"){r=!0;break}}if(r){if(r=this.editor.getElementByKey(this.tableNodeKey),!r)throw Error("Expected to find TableElement in DOM");this.grid=Xi(r)}})});this.editor.update(()=>{let n=this.editor.getElementByKey(this.tableNodeKey);if(!n)throw Error("Expected to find TableElement in DOM");this.grid=Xi(n),e.observe(n,{childList:!0,subtree:!0})})}clearHighlight(){let e=this.editor;this.isHighlightingCells=!1,this.focusY=this.focusX=this.anchorY=this.anchorX=-1,this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.enableHighlightStyle(),e.update(()=>{var n=C.$getNodeByKey(this.tableNodeKey);if(!xr(n))throw Error("Expected TableNode.");if(n=e.getElementByKey(this.tableNodeKey),!n)throw Error("Expected to find TableElement in DOM");n=Xi(n),Ii(e,n,null),C.$setSelection(null),e.dispatchCommand(C.SELECTION_CHANGE_COMMAND,void 0)})}enableHighlightStyle(){let e=this.editor;e.update(()=>{let n=e.getElementByKey(this.tableNodeKey);if(!n)throw Error("Expected to find TableElement in DOM");n.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1})}disableHighlightStyle(){let e=this.editor;e.update(()=>{let n=e.getElementByKey(this.tableNodeKey);if(!n)throw Error("Expected to find TableElement in DOM");n.classList.add("disable-selection"),this.hasHijackedSelectionStyles=!0})}updateTableGridSelection(e){if(e!=null&&e.gridKey===this.tableNodeKey){let n=this.editor;this.gridSelection=e,this.isHighlightingCells=!0,this.disableHighlightStyle(),Ii(n,this.grid,this.gridSelection)}else e==null&&this.clearHighlight()}setFocusCellForSelection(e,n=!1){let r=this.editor;r.update(()=>{var i=C.$getNodeByKey(this.tableNodeKey);if(!xr(i))throw Error("Expected TableNode.");if(!r.getElementByKey(this.tableNodeKey))throw Error("Expected to find TableElement in DOM");i=e.x;let o=e.y;if(this.focusCell=e,this.anchorCell!==null){let s=T_?(r._window||window).getSelection():null;s&&s.setBaseAndExtent(this.anchorCell.elem,0,this.focusCell.elem,0)}if(!this.isHighlightingCells&&(this.anchorX!==i||this.anchorY!==o||n))this.isHighlightingCells=!0,this.disableHighlightStyle();else if(i===this.focusX&&o===this.focusY)return;this.focusX=i,this.focusY=o,this.isHighlightingCells&&(i=C.$getNearestNodeFromDOMNode(e.elem),this.gridSelection!=null&&this.anchorCellNodeKey!=null&&Z(i)&&(i=i.getKey(),this.gridSelection=this.gridSelection.clone()||C.DEPRECATED_$createGridSelection(),this.focusCellNodeKey=i,this.gridSelection.set(this.tableNodeKey,this.anchorCellNodeKey,this.focusCellNodeKey),C.$setSelection(this.gridSelection),r.dispatchCommand(C.SELECTION_CHANGE_COMMAND,void 0),Ii(r,this.grid,this.gridSelection)))})}setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y,this.editor.update(()=>{var n=C.$getNearestNodeFromDOMNode(e.elem);Z(n)&&(n=n.getKey(),this.gridSelection=C.DEPRECATED_$createGridSelection(),this.anchorCellNodeKey=n)})}formatCells(e){this.editor.update(()=>{let n=C.$getSelection();C.DEPRECATED_$isGridSelection(n)||ze(11);let r=C.$createRangeSelection(),i=r.anchor,o=r.focus;n.getNodes().forEach(s=>{Z(s)&&s.getTextContentSize()!==0&&(i.set(s.getKey(),0,"element"),o.set(s.getKey(),s.getChildrenSize(),"element"),r.formatText(e))}),C.$setSelection(n),this.editor.dispatchCommand(C.SELECTION_CHANGE_COMMAND,void 0)})}clearText(){let e=this.editor;e.update(()=>{let n=C.$getNodeByKey(this.tableNodeKey);if(!xr(n))throw Error("Expected TableNode.");var r=C.$getSelection();C.DEPRECATED_$isGridSelection(r)||ze(11),r=r.getNodes().filter(Z),r.length===this.grid.columns*this.grid.rows?(n.selectPrevious(),n.remove(),C.$getRoot().selectStart()):(r.forEach(i=>{if(C.$isElementNode(i)){let o=C.$createParagraphNode(),s=C.$createTextNode();o.append(s),i.append(o),i.getChildren().forEach(l=>{l!==o&&l.remove()})}}),Ii(e,this.grid,null),C.$setSelection(null),e.dispatchCommand(C.SELECTION_CHANGE_COMMAND,void 0))})}};function Vi(t){for(;t!=null;){let e=t.nodeName;if(e==="TD"||e==="TH"){if(t=t._cell,t===void 0)break;return t}t=t.parentNode}return null}function Xi(t){let e=[],n={cells:e,columns:0,rows:0};var r=t.firstChild;let i=t=0;for(e.length=0;r!=null;){var o=r.nodeName;if(o==="TD"||o==="TH")o=r,o={elem:o,hasBackgroundColor:o.style.backgroundColor!=="",highlighted:!1,x:t,y:i},r._cell=o,e[i]===void 0&&(e[i]=[]),e[i][t]=o;else if(o=r.firstChild,o!=null){r=o;continue}if(o=r.nextSibling,o!=null)t++,r=o;else if(o=r.parentNode,o!=null){if(r=o.nextSibling,r==null)break;i++,t=0}}return n.columns=t+1,n.rows=i+1,n}function Ii(t,e,n){let r=[],i=new Set(n?n.getNodes():[]);return _a(e,(o,s)=>{let l=o.elem;i.has(s)?(o.highlighted=!0,Dg(t,o),r.push(o)):(o.highlighted=!1,kg(t,o),l.getAttribute("style")||l.removeAttribute("style"))}),r}function _a(t,e){({cells:t}=t);for(let n=0;n<t.length;n++){let r=t[n];for(let i=0;i<r.length;i++){let o=r[i],s=C.$getNearestNodeFromDOMNode(o.elem);s!==null&&e(o,s,{x:i,y:n})}}}function Pu(t,e){e.disableHighlightStyle(),_a(e.grid,n=>{n.highlighted=!0,Dg(t,n)})}function S_(t,e){e.enableHighlightStyle(),_a(e.grid,n=>{let r=n.elem;n.highlighted=!1,kg(t,n),r.getAttribute("style")||r.removeAttribute("style")})}let Fr=(t,e,n,r,i)=>{const o=i==="forward";switch(i){case"backward":case"forward":return n!==(o?t.grid.columns-1:0)?bi(e.getCellNodeFromCordsOrThrow(n+(o?1:-1),r,t.grid)):r!==(o?t.grid.rows-1:0)?bi(e.getCellNodeFromCordsOrThrow(o?0:t.grid.columns-1,r+(o?1:-1),t.grid)):o?e.selectNext():e.selectPrevious(),!0;case"up":return r!==0?bi(e.getCellNodeFromCordsOrThrow(n,r-1,t.grid)):e.selectPrevious(),!0;case"down":return r!==t.grid.rows-1?bi(e.getCellNodeFromCordsOrThrow(n,r+1,t.grid)):e.selectNext(),!0;default:return!1}},dn=(t,e,n,r,i)=>{const o=i==="forward";switch(i){case"backward":case"forward":return n!==(o?t.grid.columns-1:0)&&t.setFocusCellForSelection(e.getCellFromCordsOrThrow(n+(o?1:-1),r,t.grid)),!0;case"up":return r!==0?(t.setFocusCellForSelection(e.getCellFromCordsOrThrow(n,r-1,t.grid)),!0):!1;case"down":return r!==t.grid.rows-1?(t.setFocusCellForSelection(e.getCellFromCordsOrThrow(n,r+1,t.grid)),!0):!1;default:return!1}};function Qt(t,e){if(C.$isRangeSelection(t)||C.DEPRECATED_$isGridSelection(t)){let n=e.isParentOf(t.anchor.getNode());return t=e.isParentOf(t.focus.getNode()),n&&t}return!1}function bi(t){let e=t.getChildren().find(n=>C.$isParagraphNode(n));C.$isParagraphNode(e)?e.selectEnd():t.selectEnd()}function Dg(t,e){if(t=e.elem,e=C.$getNearestNodeFromDOMNode(t),!Z(e))throw Error("Expected to find LexicalNode from Table Cell DOMNode");e.getBackgroundColor()===null?t.style.setProperty("background-color","rgb(172,206,247)"):t.style.setProperty("background-image","linear-gradient(to right, rgba(172,206,247,0.85), rgba(172,206,247,0.85))"),t.style.setProperty("caret-color","transparent")}function kg(t,e){if(t=e.elem,e=C.$getNearestNodeFromDOMNode(t),!Z(e))throw Error("Expected to find LexicalNode from Table Cell DOMNode");e.getBackgroundColor()===null&&t.style.removeProperty("background-color"),t.style.removeProperty("background-image"),t.style.removeProperty("caret-color")}let ya=class Lg extends C.DEPRECATED_GridNode{static getType(){return"table"}static clone(e){return new Lg(e.__key)}static importDOM(){return{table:()=>({conversion:A_,priority:1})}}static importJSON(){return Jo()}constructor(e){super(e)}exportJSON(){return{...super.exportJSON(),type:"table",version:1}}createDOM(e){let n=document.createElement("table");return he.addClassNamesToElement(n,e.theme.table),n}updateDOM(){return!1}exportDOM(e){return{...super.exportDOM(e),after:n=>{if(n){let r=n.cloneNode(),i=document.createElement("colgroup"),o=document.createElement("tbody");if(o.append(...n.children),n=this.getFirstChildOrThrow(),!Xn(n))throw Error("Expected to find row node.");n=n.getChildrenSize();for(let s=0;s<n;s++){let l=document.createElement("col");i.append(l)}return r.replaceChildren(i,o),r}}}}canExtractContents(){return!1}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,n){let{rows:r,cells:i}=n;for(n=0;n<r;n++){var o=i[n];if(o==null)throw Error(`Row not found at y:${n}`);if(o=o.findIndex(({elem:s})=>C.$getNearestNodeFromDOMNode(s)===e),o!==-1)return{x:o,y:n}}throw Error("Cell not found in table.")}getCellFromCords(e,n,r){return{cells:r}=r,n=r[n],n==null?null:(e=n[e],e??null)}getCellFromCordsOrThrow(e,n,r){if(e=this.getCellFromCords(e,n,r),!e)throw Error("Cell not found at cords.");return e}getCellNodeFromCords(e,n,r){return e=this.getCellFromCords(e,n,r),e==null?null:(e=C.$getNearestNodeFromDOMNode(e.elem),Z(e)?e:null)}getCellNodeFromCordsOrThrow(e,n,r){if(e=this.getCellNodeFromCords(e,n,r),!e)throw Error("Node at cords not TableCellNode.");return e}canSelectBefore(){return!0}canIndent(){return!1}};function A_(){return{node:Jo()}}function Jo(){return C.$applyNodeReplacement(new ya)}function xr(t){return t instanceof ya}function Ea(t){if(t=he.$findMatchingParent(t,e=>Xn(e)),Xn(t))return t;throw Error("Expected table cell to be inside of table row.")}function Na(t){if(t=he.$findMatchingParent(t,e=>xr(e)),xr(t))return t;throw Error("Expected table cell to be inside of table.")}function Mg(t,e){let n=Na(t),{x:r,y:i}=n.getCordsFromCellNode(t,e);return{above:n.getCellNodeFromCords(r,i-1,e),below:n.getCellNodeFromCords(r,i+1,e),left:n.getCellNodeFromCords(r-1,i,e),right:n.getCellNodeFromCords(r+1,i,e)}}function pi(t){t=t.getFirstDescendant(),t===null&&ze(124),t.getParentOrThrow().selectStart()}function xa(t,e){let n=t.getFirstChild();n!==null?n.insertBefore(e):t.append(e)}let R_=C.createCommand("INSERT_TABLE_COMMAND");ne.$createTableCellNode=vt;ne.$createTableNode=Jo;ne.$createTableNodeWithDimensions=function(t,e,n=!0){let r=Jo();for(let o=0;o<t;o++){let s=Vn();for(let l=0;l<e;l++){var i=ce.NO_STATUS;typeof n=="object"?(o===0&&n.rows&&(i|=ce.ROW),l===0&&n.columns&&(i|=ce.COLUMN)):n&&(o===0&&(i|=ce.ROW),l===0&&(i|=ce.COLUMN)),i=vt(i);let a=C.$createParagraphNode();a.append(C.$createTextNode()),i.append(a),s.append(i)}r.append(s)}return r};ne.$createTableRowNode=Vn;ne.$deleteTableColumn=function(t,e){let n=t.getChildren();for(let i=0;i<n.length;i++){var r=n[i];if(Xn(r)){if(r=r.getChildren(),e>=r.length||0>e)throw Error("Table column target index out of range");r[e].remove()}}return t};ne.$deleteTableColumn__EXPERIMENTAL=function(){var t=C.$getSelection();C.$isRangeSelection(t)||C.DEPRECATED_$isGridSelection(t)||ze(118);var e=t.anchor.getNode();t=t.focus.getNode();let[n,,r]=C.DEPRECATED_$getNodeTriplet(e);[e]=C.DEPRECATED_$getNodeTriplet(t);let[i,o,s]=C.DEPRECATED_$computeGridMap(r,n,e);var{startColumn:l}=o;let{startRow:a,startColumn:c}=s;t=Math.min(l,c),l=Math.max(l+n.__colSpan-1,c+e.__colSpan-1);let g=l-t+1;if(i[0].length===l-t+1)r.selectPrevious(),r.remove();else{var d=i.length;for(let u=0;u<d;u++)for(let f=t;f<=l;f++){let{cell:h,startColumn:p}=i[u][f];p<t?f===t&&h.setColSpan(h.__colSpan-Math.min(g,h.__colSpan-(t-p))):p+h.__colSpan-1>l?f===l&&h.setColSpan(h.__colSpan-(l-p+1)):h.remove()}t=i[a],e=t[c+e.__colSpan],e!==void 0?({cell:e}=e,pi(e)):({cell:e}=t[c-1],pi(e))}};ne.$deleteTableRow__EXPERIMENTAL=function(){var t=C.$getSelection();C.$isRangeSelection(t)||C.DEPRECATED_$isGridSelection(t)||ze(118);var e=t.anchor.getNode();t=t.focus.getNode();let[n,,r]=C.DEPRECATED_$getNodeTriplet(e);[t]=C.DEPRECATED_$getNodeTriplet(t);let[i,o,s]=C.DEPRECATED_$computeGridMap(r,n,t);({startRow:e}=o);var{startRow:l}=s;if(t=l+t.__rowSpan-1,i.length===t-e+1)r.remove();else{l=i[0].length;var a=i[t+1],c=r.getChildAtIndex(t+1);for(let d=t;d>=e;d--){for(var g=l-1;0<=g;g--){let{cell:u,startRow:f,startColumn:h}=i[d][g];if(h===g&&(d===e&&f<e&&u.setRowSpan(u.__rowSpan-(f-e)),f>=e&&f+u.__rowSpan-1>t))if(u.setRowSpan(u.__rowSpan-(t-f+1)),c===null&&ze(122),g===0)xa(c,u);else{let{cell:p}=a[g-1];p.insertAfter(u)}}g=r.getChildAtIndex(d),C.DEPRECATED_$isGridRowNode(g)||ze(123),g.remove()}a!==void 0?({cell:e}=a[0],pi(e)):({cell:e}=i[e-1][0],pi(e))}};ne.$getElementGridForTableNode=function(t,e){if(t=t.getElementByKey(e.getKey()),t==null)throw Error("Table Element Not Found");return Xi(t)};ne.$getTableCellNodeFromLexicalNode=function(t){return t=he.$findMatchingParent(t,e=>Z(e)),Z(t)?t:null};ne.$getTableColumnIndexFromTableCellNode=function(t){return Ea(t).getChildren().findIndex(e=>e.is(t))};ne.$getTableNodeFromLexicalNodeOrThrow=Na;ne.$getTableRowIndexFromTableCellNode=function(t){let e=Ea(t);return Na(e).getChildren().findIndex(n=>n.is(e))};ne.$getTableRowNodeFromTableCellNodeOrThrow=Ea;ne.$insertTableColumn=function(t,e,n=!0,r,i){let o=t.getChildren();for(let a=0;a<o.length;a++){let c=o[a];if(Xn(c))for(let g=0;g<r;g++){var s=c.getChildren();if(e>=s.length||0>e)throw Error("Table column target index out of range");s=s[e],Z(s)||ze(12);let{left:d,right:u}=Mg(s,i);var l=ce.NO_STATUS;(d&&d.hasHeaderState(ce.ROW)||u&&u.hasHeaderState(ce.ROW))&&(l|=ce.ROW),l=vt(l),l.append(C.$createParagraphNode()),n?s.insertAfter(l):s.insertBefore(l)}}return t};ne.$insertTableColumn__EXPERIMENTAL=function(t=!0){function e(){let g=vt(ce.NO_STATUS).append(C.$createParagraphNode());return a===null&&(a=g),g}var n=C.$getSelection();C.$isRangeSelection(n)||C.DEPRECATED_$isGridSelection(n)||ze(118),n=n.focus.getNode();let[r,,i]=C.DEPRECATED_$getNodeTriplet(n),[o,s]=C.DEPRECATED_$computeGridMap(i,r,r);n=o.length;var{startColumn:l}=s;t=t?l+r.__colSpan-1:l-1,l=i.getFirstChild(),C.DEPRECATED_$isGridRowNode(l)||ze(120);let a=null;var c=l;e:for(l=0;l<n;l++){l!==0&&(c=c.getNextSibling(),C.DEPRECATED_$isGridRowNode(c)||ze(121));let g=o[l];if(0>t){xa(c,e());continue}let{cell:d,startColumn:u,startRow:f}=g[t];if(u+d.__colSpan-1<=t){let h=d,p=f,E=t;for(;p!==l&&1<h.__rowSpan;)if(E-=d.__colSpan,0<=E){let{cell:x,startRow:m}=g[E];h=x,p=m}else{c.append(e());continue e}h.insertAfter(e())}else d.setColSpan(d.__colSpan+1)}a!==null&&pi(a)};ne.$insertTableRow=function(t,e,n=!0,r,i){var o=t.getChildren();if(e>=o.length||0>e)throw Error("Table row target index out of range");if(e=o[e],Xn(e))for(o=0;o<r;o++){let l=e.getChildren(),a=l.length,c=Vn();for(let g=0;g<a;g++){var s=l[g];Z(s)||ze(12);let{above:d,below:u}=Mg(s,i);s=ce.NO_STATUS;let f=d&&d.getWidth()||u&&u.getWidth()||void 0;(d&&d.hasHeaderState(ce.COLUMN)||u&&u.hasHeaderState(ce.COLUMN))&&(s|=ce.COLUMN),s=vt(s,1,f),s.append(C.$createParagraphNode()),c.append(s)}n?e.insertAfter(c):e.insertBefore(c)}else throw Error("Row before insertion index does not exist.");return t};ne.$insertTableRow__EXPERIMENTAL=function(t=!0){var e=C.$getSelection();C.$isRangeSelection(e)||C.DEPRECATED_$isGridSelection(e)||ze(118),e=e.focus.getNode();let[n,,r]=C.DEPRECATED_$getNodeTriplet(e),[i,o]=C.DEPRECATED_$computeGridMap(r,n,n);e=i[0].length;var{startRow:s}=o;if(t){t=s+n.__rowSpan-1;var l=i[t];s=Vn();for(var a=0;a<e;a++){let{cell:c,startRow:g}=l[a];g+c.__rowSpan-1<=t?s.append(vt(ce.NO_STATUS)):c.setRowSpan(c.__rowSpan+1)}e=r.getChildAtIndex(t),C.DEPRECATED_$isGridRowNode(e)||ze(119),e.insertAfter(s)}else{for(l=i[s],t=Vn(),a=0;a<e;a++){let{cell:c,startRow:g}=l[a];g===s?t.append(vt(ce.NO_STATUS)):c.setRowSpan(c.__rowSpan+1)}e=r.getChildAtIndex(s),C.DEPRECATED_$isGridRowNode(e)||ze(119),e.insertBefore(t)}};ne.$isTableCellNode=Z;ne.$isTableNode=xr;ne.$isTableRowNode=Xn;ne.$removeTableRowAtIndex=function(t,e){let n=t.getChildren();if(e>=n.length||0>e)throw Error("Expected table cell to be inside of table row.");return n[e].remove(),t};ne.$unmergeCell=function(){var t=C.$getSelection();C.$isRangeSelection(t)||C.DEPRECATED_$isGridSelection(t)||ze(118),t=t.anchor.getNode();let[e,n,r]=C.DEPRECATED_$getNodeTriplet(t);t=e.__colSpan;let i=e.__rowSpan;if(1<t){for(var o=1;o<t;o++)e.insertAfter(vt(ce.NO_STATUS));e.setColSpan(1)}if(1<i){let[a,c]=C.DEPRECATED_$computeGridMap(r,e,e),{startColumn:g,startRow:d}=c;for(o=1;o<i;o++){let u=d+o,f=a[u];var s=n.getNextSibling();C.DEPRECATED_$isGridRowNode(s)||ze(125);var l=null;for(let h=0;h<g;h++){let p=f[h],E=p.cell;p.startRow===u&&(l=E),1<E.__colSpan&&(h+=E.__colSpan-1)}if(l===null)for(l=0;l<t;l++)xa(s,vt(ce.NO_STATUS));else for(s=0;s<t;s++)l.insertAfter(vt(ce.NO_STATUS))}e.setRowSpan(1)}};ne.INSERT_TABLE_COMMAND=R_;ne.TableCellHeaderStates=ce;ne.TableCellNode=pa;ne.TableNode=ya;ne.TableRowNode=ma;ne.TableSelection=$g;ne.applyTableHandlers=function(t,e,n){let r=n.getRootElement();if(r===null)throw Error("No root element.");let i=new $g(n,t.getKey());e.__lexicalTableSelection=i;let o=!1,s=!1;e.addEventListener("dblclick",d=>{let u=Vi(d.target);u!==null&&(d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),i.setAnchorCellForSelection(u),i.setFocusCellForSelection(u,!0),o=!1)}),e.addEventListener("mousedown",d=>{setTimeout(()=>{if(d.button===0){var u=Vi(d.target);u!==null&&(d.preventDefault(),d.stopPropagation(),d.stopImmediatePropagation(),i.setAnchorCellForSelection(u))}},0)}),e.addEventListener("mousemove",d=>{if(s&&(d.preventDefault(),d.stopPropagation(),d.stopImmediatePropagation()),o){let u=Vi(d.target);if(u!==null){let f=u.x,h=u.y;o&&(i.anchorX!==f||i.anchorY!==h||i.isHighlightingCells)&&(d.preventDefault(),i.setFocusCellForSelection(u))}}}),e.addEventListener("mouseleave",()=>{});let l=d=>{d.button===0&&n.update(()=>{var u=C.$getSelection();const f=d.target;if(f instanceof Node){if(C.DEPRECATED_$isGridSelection(u)&&u.gridKey===i.tableNodeKey&&r.contains(f))return i.clearHighlight();u=C.$getNearestNodeFromDOMNode(f),u!==null&&he.$findMatchingParent(u,C.DEPRECATED_$isGridNode)&&(o=!0)}})};window.addEventListener("mousedown",l),i.listenersToRemove.add(()=>window.removeEventListener("mousedown",l));let a=d=>{var u;(u=o)&&(u=d.target,u=u!==null&&u.nodeName==="SPAN",u=!u),u&&(d.preventDefault(),d.stopPropagation()),o=!1};window.addEventListener("mouseup",a),i.listenersToRemove.add(()=>window.removeEventListener("mouseup",a)),e.addEventListener("mouseup",a),i.listenersToRemove.add(()=>e.removeEventListener("mouseup",a)),i.listenersToRemove.add(n.registerCommand(C.KEY_ARROW_DOWN_COMMAND,d=>{var u=C.$getSelection();if(!Qt(u,t))return!1;if(C.$isRangeSelection(u)){if(u.isCollapsed()){var f=he.$findMatchingParent(u.anchor.getNode(),p=>Z(p));if(!Z(f))return!1;var h=t.getCordsFromCellNode(f,i.grid);if(u=he.$findMatchingParent(u.anchor.getNode(),p=>C.$isElementNode(p)),u==null)throw Error("Expected BlockNode Parent");if((f=f.getLastChild())&&u.isParentOf(f)||u===f||d.shiftKey)return d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),d.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(h.x,h.y,i.grid)),dn(i,t,h.x,h.y,"down")):Fr(i,t,h.x,h.y,"down")}}else if(C.DEPRECATED_$isGridSelection(u)&&d.shiftKey)return h=u.focus.getNode(),Z(h)?(h=t.getCordsFromCellNode(h,i.grid),d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),dn(i,t,h.x,h.y,"down")):!1;return!1},C.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(C.KEY_ARROW_UP_COMMAND,d=>{var u=C.$getSelection();if(!Qt(u,t))return!1;if(C.$isRangeSelection(u)){if(u.isCollapsed()){var f=he.$findMatchingParent(u.anchor.getNode(),p=>Z(p));if(!Z(f))return!1;var h=t.getCordsFromCellNode(f,i.grid);if(u=he.$findMatchingParent(u.anchor.getNode(),p=>C.$isElementNode(p)),u==null)throw Error("Expected BlockNode Parent");if((f=f.getLastChild())&&u.isParentOf(f)||u===f||d.shiftKey)return d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),d.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(h.x,h.y,i.grid)),dn(i,t,h.x,h.y,"up")):Fr(i,t,h.x,h.y,"up")}}else if(C.DEPRECATED_$isGridSelection(u)&&d.shiftKey)return h=u.focus.getNode(),Z(h)?(h=t.getCordsFromCellNode(h,i.grid),d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),dn(i,t,h.x,h.y,"up")):!1;return!1},C.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(C.KEY_ARROW_LEFT_COMMAND,d=>{var u=C.$getSelection();if(!Qt(u,t))return!1;if(C.$isRangeSelection(u)){if(u.isCollapsed()){var f=he.$findMatchingParent(u.anchor.getNode(),h=>Z(h));if(!Z(f))return!1;if(f=t.getCordsFromCellNode(f,i.grid),he.$findMatchingParent(u.anchor.getNode(),h=>C.$isElementNode(h))==null)throw Error("Expected BlockNode Parent");if(u.anchor.offset===0||d.shiftKey)return d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),d.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(f.x,f.y,i.grid)),dn(i,t,f.x,f.y,"backward")):Fr(i,t,f.x,f.y,"backward")}}else if(C.DEPRECATED_$isGridSelection(u)&&d.shiftKey)return u=u.focus.getNode(),Z(u)?(u=t.getCordsFromCellNode(u,i.grid),d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),dn(i,t,u.x,u.y,"backward")):!1;return!1},C.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(C.KEY_ARROW_RIGHT_COMMAND,d=>{var u=C.$getSelection();if(!Qt(u,t))return!1;if(C.$isRangeSelection(u)){if(u.isCollapsed()){var f=he.$findMatchingParent(u.anchor.getNode(),h=>Z(h));if(!Z(f))return!1;if(f=t.getCordsFromCellNode(f,i.grid),he.$findMatchingParent(u.anchor.getNode(),h=>C.$isElementNode(h))==null)throw Error("Expected BlockNode Parent");if(u.anchor.offset===u.anchor.getNode().getTextContentSize()||d.shiftKey)return d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),d.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(f.x,f.y,i.grid)),dn(i,t,f.x,f.y,"forward")):Fr(i,t,f.x,f.y,"forward")}}else if(C.DEPRECATED_$isGridSelection(u)&&d.shiftKey)return u=u.focus.getNode(),Z(u)?(u=t.getCordsFromCellNode(u,i.grid),d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),dn(i,t,u.x,u.y,"forward")):!1;return!1},C.COMMAND_PRIORITY_HIGH));let c=d=>()=>{var u=C.$getSelection();if(!Qt(u,t))return!1;if(C.DEPRECATED_$isGridSelection(u))return i.clearText(),!0;if(C.$isRangeSelection(u)){const p=he.$findMatchingParent(u.anchor.getNode(),E=>Z(E));if(!Z(p))return!1;var f=u.anchor.getNode(),h=u.focus.getNode();if(f=t.isParentOf(f),h=t.isParentOf(h),f&&!h||h&&!f)return i.clearText(),!0;if(f=(h=he.$findMatchingParent(u.anchor.getNode(),E=>C.$isElementNode(E)))&&he.$findMatchingParent(h,E=>C.$isElementNode(E)&&Z(E.getParent())),!C.$isElementNode(f)||!C.$isElementNode(h))return!1;if(d===C.DELETE_LINE_COMMAND&&f.getPreviousSibling()===null)return!0;if((d===C.DELETE_CHARACTER_COMMAND||d===C.DELETE_WORD_COMMAND)&&u.isCollapsed()&&u.anchor.offset===0&&h!==f){u=h.getChildren();const E=C.$createParagraphNode();return u.forEach(x=>E.append(x)),h.replace(E),h.getWritable().__parent=p.getKey(),!0}}return!1};[C.DELETE_WORD_COMMAND,C.DELETE_LINE_COMMAND,C.DELETE_CHARACTER_COMMAND].forEach(d=>{i.listenersToRemove.add(n.registerCommand(d,c(d),C.COMMAND_PRIORITY_CRITICAL))});let g=d=>{const u=C.$getSelection();return Qt(u,t)?C.DEPRECATED_$isGridSelection(u)?(d.preventDefault(),d.stopPropagation(),i.clearText(),!0):(C.$isRangeSelection(u)&&(d=he.$findMatchingParent(u.anchor.getNode(),f=>Z(f)),Z(d)),!1):!1};return i.listenersToRemove.add(n.registerCommand(C.KEY_BACKSPACE_COMMAND,g,C.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(n.registerCommand(C.KEY_DELETE_COMMAND,g,C.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(n.registerCommand(C.FORMAT_TEXT_COMMAND,d=>{let u=C.$getSelection();return Qt(u,t)?C.DEPRECATED_$isGridSelection(u)?(i.formatCells(d),!0):(C.$isRangeSelection(u)&&(d=he.$findMatchingParent(u.anchor.getNode(),f=>Z(f)),Z(d)),!1):!1},C.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(n.registerCommand(C.CONTROLLED_TEXT_INSERTION_COMMAND,()=>{var d=C.$getSelection();return Qt(d,t)&&(C.DEPRECATED_$isGridSelection(d)?i.clearHighlight():C.$isRangeSelection(d)&&(d=he.$findMatchingParent(d.anchor.getNode(),u=>Z(u)),Z(d))),!1},C.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(n.registerCommand(C.KEY_TAB_COMMAND,d=>{var u=C.$getSelection();if(!Qt(u,t))return!1;if(C.$isRangeSelection(u)){let f=he.$findMatchingParent(u.anchor.getNode(),h=>Z(h));if(!Z(f))return!1;if(u.isCollapsed())return u=t.getCordsFromCellNode(f,i.grid),d.preventDefault(),Fr(i,t,u.x,u.y,d.shiftKey?"backward":"forward"),!0}return!1},C.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(C.FOCUS_COMMAND,()=>t.isSelected(),C.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(C.SELECTION_CHANGE_COMMAND,()=>{let d=C.$getSelection();var u=C.$getPreviousSelection();if(d&&C.$isRangeSelection(d)&&!d.isCollapsed()){var f=d.anchor.getNode(),h=d.focus.getNode();f=t.isParentOf(f);var p=t.isParentOf(h);if(h=f&&!p||p&&!f,f=f&&p&&!t.isSelected(),h)return u=d.isBackward(),f=C.$createRangeSelection(),h=t.getKey(),f.anchor.set(d.anchor.key,d.anchor.offset,d.anchor.type),f.focus.set(h,u?0:t.getChildrenSize(),"element"),s=!0,C.$setSelection(f),Pu(n,i),!0;if(f&&({grid:f}=i,d.getNodes().filter(Z).length===f.rows*f.columns)){f=C.DEPRECATED_$createGridSelection(),h=t.getKey(),p=t.getFirstChildOrThrow().getFirstChild();let E=t.getLastChildOrThrow().getLastChild();if(p!=null&&E!=null)return f.set(h,p.getKey(),E.getKey()),C.$setSelection(f),i.updateTableGridSelection(f),!0}}return d&&!d.is(u)&&(C.DEPRECATED_$isGridSelection(d)||C.DEPRECATED_$isGridSelection(u))&&i.gridSelection&&!i.gridSelection.is(u)?(C.DEPRECATED_$isGridSelection(d)&&d.gridKey===i.tableNodeKey?i.updateTableGridSelection(d):!C.DEPRECATED_$isGridSelection(d)&&C.DEPRECATED_$isGridSelection(u)&&u.gridKey===i.tableNodeKey&&i.updateTableGridSelection(null),!1):(i.hasHijackedSelectionStyles&&!t.isSelected()?(S_(n,i),s=!1):!i.hasHijackedSelectionStyles&&t.isSelected()&&Pu(n,i),!1)},C.COMMAND_PRIORITY_CRITICAL)),i};ne.getCellFromTarget=Vi;ne.getTableSelectionFromTableElement=function(t){return t.__lexicalTableSelection};const w_=ne;var Cs=w_,rt={},re=G,Jn=tt;function Ar(t){throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?code=${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Ig(t){let e=1;for(t=t.getParent();t!=null;){if(fe(t)){if(t=t.getParent(),Q(t)){e++,t=t.getParent();continue}Ar(40)}break}return e}function _l(t){t=t.getParent(),Q(t)||Ar(40);let e=t;for(;e!==null;)e=e.getParent(),Q(e)&&(t=e);return t}function bg(t){let e=[];t=t.getChildren().filter(fe);for(let n=0;n<t.length;n++){let r=t[n],i=r.getFirstChild();Q(i)?e=e.concat(bg(i)):e.push(r)}return e}function zt(t){return fe(t)&&Q(t.getFirstChild())}function O_(t){for(;t.getNextSibling()==null&&t.getPreviousSibling()==null;){let e=t.getParent();if(e==null||!fe(t)&&!Q(t))break;t=e}t.remove()}function Fu(t){return Tt().append(t)}function Pg(t,e){return fe(t)&&(e.length===0||e.length===1&&t.is(e[0])&&t.getChildrenSize()===0)}function qn(t,e){t.splice(t.getChildrenSize(),0,e)}function Bu(t,e){if(Q(t))return t;let n=t.getPreviousSibling(),r=t.getNextSibling(),i=Tt();return i.setFormat(t.getFormatType()),i.setIndent(t.getIndent()),qn(i,t.getChildren()),Q(n)&&e===n.getListType()?(n.append(i),t.remove(),Q(r)&&e===r.getListType()&&(qn(n,r.getChildren()),r.remove()),n):Q(r)&&e===r.getListType()?(r.getFirstChildOrThrow().insertBefore(i),t.remove(),r):(e=et(e),e.append(i),t.replace(e),Je(e),e)}function Fg(t,e){var n=t.getLastChild();let r=e.getFirstChild();n&&r&&zt(n)&&zt(r)&&(Fg(n.getFirstChild(),r.getFirstChild()),r.remove()),n=e.getChildren(),0<n.length&&(t.append(...n),Je(t)),e.remove()}function Je(t,e){if(t=e||t.getChildren(),t!==void 0)for(e=0;e<t.length;e++){let o=t[e];if(fe(o)){let s=o.getValue();var n=o,r=n.getParent(),i=1;for(r!=null&&(Q(r)?i=r.getStart():Ar(44)),n=n.getPreviousSiblings(),r=0;r<n.length;r++){let l=n[r];fe(l)&&!Q(l.getFirstChild())&&i++}s!==i&&o.setValue(i)}}}function $_(t){if(!zt(t)){var e=t.getParent(),n=e?e.getParent():void 0,r=n?n.getParent():void 0;if(Q(r)&&fe(n)&&Q(e)){var i=e?e.getFirstChild():void 0,o=e?e.getLastChild():void 0;if(t.is(i))n.insertBefore(t),e.isEmpty()&&n.remove();else if(t.is(o))n.insertAfter(t),e.isEmpty()&&n.remove();else{var s=e.getListType();i=Tt();let l=et(s);i.append(l),t.getPreviousSiblings().forEach(a=>l.append(a)),o=Tt(),s=et(s),o.append(s),qn(s,t.getNextSiblings()),n.insertBefore(i),n.insertAfter(o),n.replace(t)}Je(e),Je(r)}}}let qo=class yl extends re.ElementNode{static getType(){return"listitem"}static clone(e){return new yl(e.__value,e.__checked,e.__key)}constructor(e,n,r){super(r),this.__value=e===void 0?1:e,this.__checked=n}createDOM(e){let n=document.createElement("li"),r=this.getParent();return Q(r)&&r.getListType()==="check"&&Uu(n,this,null),n.value=this.__value,zu(n,e.theme,this),n}updateDOM(e,n,r){let i=this.getParent();return Q(i)&&i.getListType()==="check"&&Uu(n,this,e),n.value=this.__value,zu(n,r.theme,this),!1}static transform(){return e=>{let n=e.getParent();Q(n)&&(Je(n),n.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0))}}static importDOM(){return{li:()=>({conversion:D_,priority:0})}}static importJSON(e){let n=new yl(e.value,e.checked);return n.setFormat(e.format),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...e){for(let n=0;n<e.length;n++){let r=e[n];if(re.$isElementNode(r)&&this.canMergeWith(r)){let i=r.getChildren();this.append(...i),r.remove()}else super.append(r)}return this}replace(e,n){if(fe(e))return super.replace(e);this.setIndent(0);let r=this.getParentOrThrow();if(!Q(r))return e;if(r.__first===this.getKey())r.insertBefore(e);else if(r.__last===this.getKey())r.insertAfter(e);else{let i=et(r.getListType()),o=this.getNextSibling();for(;o;){let s=o;o=o.getNextSibling(),i.append(s)}r.insertAfter(e),e.insertAfter(i)}return n&&this.getChildren().forEach(i=>{e.append(i)}),this.remove(),r.getChildrenSize()===0&&r.remove(),e}insertAfter(e,n=!0){var r=this.getParentOrThrow();Q(r)||Ar(39);var i=this.getNextSiblings();if(fe(e))return n=super.insertAfter(e,n),e=e.getParentOrThrow(),Q(e)&&Je(e),n;if(Q(e)&&e.getListType()===r.getListType()){for(r=e,e=e.getChildren(),i=e.length-1;0<=i;i--)r=e[i],this.insertAfter(r,n);return r}if(r.insertAfter(e,n),i.length!==0){let o=et(r.getListType());i.forEach(s=>o.append(s)),e.insertAfter(o,n)}return e}remove(e){let n=this.getPreviousSibling(),r=this.getNextSibling();super.remove(e),n&&r&&zt(n)&&zt(r)?(Fg(n.getFirstChild(),r.getFirstChild()),r.remove()):r&&(e=r.getParent(),Q(e)&&Je(e))}insertNewAfter(e,n=!0){return e=Tt(this.__checked==null?void 0:!1),this.insertAfter(e,n),e}collapseAtStart(e){let n=re.$createParagraphNode();this.getChildren().forEach(s=>n.append(s));var r=this.getParentOrThrow(),i=r.getParentOrThrow();let o=fe(i);return r.getChildrenSize()===1?o?(r.remove(),i.select()):(r.insertBefore(n),r.remove(),r=e.anchor,e=e.focus,i=n.getKey(),r.type==="element"&&r.getNode().is(this)&&r.set(i,r.offset,"element"),e.type==="element"&&e.getNode().is(this)&&e.set(i,e.offset,"element")):(r.insertBefore(n),this.remove()),!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getChecked(){return this.getLatest().__checked}setChecked(e){this.getWritable().__checked=e}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){var e=this.getParent();if(e===null)return this.getLatest().__indent;e=e.getParentOrThrow();let n=0;for(;fe(e);)e=e.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(e){typeof e=="number"&&-1<e||Ar(117);let n=this.getIndent();for(;n!==e;)if(n<e){e:{var r=new Set;if(zt(this)||r.has(this.getKey()))break e;let l=this.getParent();var i=this.getNextSibling(),o=this.getPreviousSibling();if(zt(i)&&zt(o)){if(o=o.getFirstChild(),Q(o)){o.append(this);var s=i.getFirstChild();Q(s)&&(s=s.getChildren(),qn(o,s),i.remove(),r.add(i.getKey())),Je(o)}}else zt(i)?(i=i.getFirstChild(),Q(i)&&(r=i.getFirstChild(),r!==null&&r.insertBefore(this),Je(i))):zt(o)?(i=o.getFirstChild(),Q(i)&&(i.append(this),Je(i))):Q(l)&&(r=Tt(),s=et(l.getListType()),r.append(s),s.append(this),o?o.insertAfter(r):i?i.insertBefore(r):l.append(r),Je(s));Q(l)&&Je(l)}n++}else $_(this),n--;return this}insertBefore(e){if(fe(e)){let n=this.getParentOrThrow();if(Q(n)){let r=this.getNextSiblings();Je(n,r)}}return super.insertBefore(e)}canInsertAfter(e){return fe(e)}canReplaceWith(e){return fe(e)}canMergeWith(e){return re.$isParagraphNode(e)||fe(e)}extractWithChild(e,n){if(!re.$isRangeSelection(n))return!1;e=n.anchor.getNode();let r=n.focus.getNode();return this.isParentOf(e)&&this.isParentOf(r)&&this.getTextContent().length===n.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return et("bullet")}};function zu(t,e,n){let r=[],i=[];var o=(e=e.list)?e.listitem:void 0;if(e&&e.nested)var s=e.nested.listitem;if(o!==void 0&&(o=o.split(" "),r.push(...o)),e){o=n.getParent(),o=Q(o)&&o.getListType()==="check";let l=n.getChecked();o&&!l||i.push(e.listitemUnchecked),o&&l||i.push(e.listitemChecked),o&&r.push(l?e.listitemChecked:e.listitemUnchecked)}s!==void 0&&(s=s.split(" "),n.getChildren().some(l=>Q(l))?r.push(...s):i.push(...s)),0<i.length&&Jn.removeClassNamesFromElement(t,...i),0<r.length&&Jn.addClassNamesToElement(t,...r)}function Uu(t,e,n){Q(e.getFirstChild())?(t.removeAttribute("role"),t.removeAttribute("tabIndex"),t.removeAttribute("aria-checked")):(t.setAttribute("role","checkbox"),t.setAttribute("tabIndex","-1"),n&&e.__checked===n.__checked||t.setAttribute("aria-checked",e.getChecked()?"true":"false"))}function D_(t){return t=Jn.isHTMLElement(t)&&t.getAttribute("aria-checked")==="true",{node:Tt(t)}}function Tt(t){return re.$applyNodeReplacement(new qo(void 0,t))}function fe(t){return t instanceof qo}let Ca=class Bg extends re.ElementNode{static getType(){return"list"}static clone(e){return new Bg(e.__listType||Ku[e.__tag],e.__start,e.__key)}constructor(e,n,r){super(r),this.__listType=e=Ku[e]||e,this.__tag=e==="number"?"ol":"ul",this.__start=n}getTag(){return this.__tag}getListType(){return this.__listType}getStart(){return this.__start}createDOM(e){let n=document.createElement(this.__tag);return this.__start!==1&&n.setAttribute("start",String(this.__start)),n.__lexicalListType=this.__listType,ju(n,e.theme,this),n}updateDOM(e,n,r){return e.__tag!==this.__tag?!0:(ju(n,r.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:Hu,priority:0}),ul:()=>({conversion:Hu,priority:0})}}static importJSON(e){let n=et(e.listType,e.start);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportDOM(e){return{element:e}=super.exportDOM(e),e&&(this.__start!==1&&e.setAttribute("start",String(this.__start)),this.__listType==="check"&&e.setAttribute("__lexicalListType","check")),{element:e}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...e){for(let r=0;r<e.length;r++){var n=e[r];if(fe(n))super.append(n);else{let i=Tt();Q(n)||re.$isElementNode(n)&&(n=re.$createTextNode(n.getTextContent())),i.append(n),super.append(i)}}return Je(this),this}extractWithChild(e){return fe(e)}};function ju(t,e,n){let r=[],i=[];var o=e.list;if(o!==void 0){let l=o[`${n.__tag}Depth`]||[];e=Ig(n)-1;let a=e%l.length;var s=l[a];let c=o[n.__tag],g;if(o=o.nested,o!==void 0&&o.list&&(g=o.list),c!==void 0&&r.push(c),s!==void 0)for(s=s.split(" "),r.push(...s),s=0;s<l.length;s++)s!==a&&i.push(n.__tag+s);g!==void 0&&(n=g.split(" "),1<e?r.push(...n):i.push(...n))}0<i.length&&Jn.removeClassNamesFromElement(t,...i),0<r.length&&Jn.addClassNamesToElement(t,...r)}function k_(t){let e=[];for(let r=0;r<t.length;r++){var n=t[r];fe(n)?(e.push(n),n=n.getChildren(),1<n.length&&n.forEach(i=>{Q(i)&&e.push(Fu(i))})):e.push(Fu(n))}return e}function Hu(t){let e=t.nodeName.toLowerCase(),n=null;return e==="ol"?n=et("number",t.start):e==="ul"&&(n=Jn.isHTMLElement(t)&&t.getAttribute("__lexicallisttype")==="check"?et("check"):et("bullet")),{after:k_,node:n}}let Ku={ol:"number",ul:"bullet"};function et(t,e=1){return re.$applyNodeReplacement(new Ca(t,e))}function Q(t){return t instanceof Ca}let L_=re.createCommand("INSERT_UNORDERED_LIST_COMMAND"),M_=re.createCommand("INSERT_ORDERED_LIST_COMMAND"),I_=re.createCommand("INSERT_CHECK_LIST_COMMAND"),b_=re.createCommand("REMOVE_LIST_COMMAND");rt.$createListItemNode=Tt;rt.$createListNode=et;rt.$getListDepth=Ig;rt.$handleListInsertParagraph=function(){var t=re.$getSelection();if(!re.$isRangeSelection(t)||!t.isCollapsed()||(t=t.anchor.getNode(),!fe(t)||t.getTextContent()!==""))return!1;var e=_l(t),n=t.getParent();Q(n)||Ar(40);let r=n.getParent(),i;if(re.$isRootOrShadowRoot(r))i=re.$createParagraphNode(),e.insertAfter(i);else if(fe(r))i=Tt(),r.insertAfter(i);else return!1;if(i.select(),e=t.getNextSiblings(),0<e.length){let o=et(n.getListType());re.$isParagraphNode(i)?i.insertAfter(o):(n=Tt(),n.append(o),i.insertAfter(n)),e.forEach(s=>{s.remove(),o.append(s)})}return O_(t),!0};rt.$isListItemNode=fe;rt.$isListNode=Q;rt.INSERT_CHECK_LIST_COMMAND=I_;rt.INSERT_ORDERED_LIST_COMMAND=M_;rt.INSERT_UNORDERED_LIST_COMMAND=L_;rt.ListItemNode=qo;rt.ListNode=Ca;rt.REMOVE_LIST_COMMAND=b_;rt.insertList=function(t,e){t.update(()=>{var n=re.$getSelection();if(re.$isRangeSelection(n)||re.DEPRECATED_$isGridSelection(n)){var r=n.getNodes();n=n.anchor.getNode();var i=n.getParent();if(Pg(n,r))r=et(e),re.$isRootOrShadowRoot(i)?(n.replace(r),i=Tt(),re.$isElementNode(n)&&(i.setFormat(n.getFormatType()),i.setIndent(n.getIndent())),r.append(i)):fe(n)&&(n=n.getParentOrThrow(),qn(r,n.getChildren()),n.replace(r));else for(n=new Set,i=0;i<r.length;i++){var o=r[i];if(re.$isElementNode(o)&&o.isEmpty()&&!n.has(o.getKey()))Bu(o,e);else if(re.$isLeafNode(o))for(o=o.getParent();o!=null;){let l=o.getKey();if(Q(o)){if(!n.has(l)){var s=et(e);qn(s,o.getChildren()),o.replace(s),Je(s),n.add(l)}break}else{if(s=o.getParent(),re.$isRootOrShadowRoot(s)&&!n.has(l)){n.add(l),Bu(o,e);break}o=s}}}}})};rt.removeList=function(t){t.update(()=>{let e=re.$getSelection();if(re.$isRangeSelection(e)){var n=new Set,r=e.getNodes(),i=e.anchor.getNode();if(Pg(i,r))n.add(_l(i));else for(i=0;i<r.length;i++){var o=r[i];re.$isLeafNode(o)&&(o=Jn.$getNearestNodeOfType(o,qo),o!=null&&n.add(_l(o)))}for(let s of n){n=s,r=bg(s);for(let l of r)r=re.$createParagraphNode(),qn(r,l.getChildren()),n.insertAfter(r),n=r,l.__key===e.anchor.key&&e.anchor.set(r.getKey(),0,"element"),l.__key===e.focus.key&&e.focus.set(r.getKey(),0,"element"),l.remove();s.remove()}}})};const P_=rt;var rn=P_,Ne={},El={},F_={get exports(){return El},set exports(t){El=t}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,s={},l={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function m(_){return _ instanceof a?new a(_.type,m(_.content),_.alias):Array.isArray(_)?_.map(m):_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(m){return Object.prototype.toString.call(m).slice(8,-1)},objId:function(m){return m.__id||Object.defineProperty(m,"__id",{value:++o}),m.__id},clone:function m(_,S){S=S||{};var R,A;switch(l.util.type(_)){case"Object":if(A=l.util.objId(_),S[A])return S[A];R={},S[A]=R;for(var k in _)_.hasOwnProperty(k)&&(R[k]=m(_[k],S));return R;case"Array":return A=l.util.objId(_),S[A]?S[A]:(R=[],S[A]=R,_.forEach(function(H,M){R[M]=m(H,S)}),R);default:return _}},getLanguage:function(m){for(;m;){var _=i.exec(m.className);if(_)return _[1].toLowerCase();m=m.parentElement}return"none"},setLanguage:function(m,_){m.className=m.className.replace(RegExp(i,"gi"),""),m.classList.add("language-"+_)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(R){var m=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(R.stack)||[])[1];if(m){var _=document.getElementsByTagName("script");for(var S in _)if(_[S].src==m)return _[S]}return null}},isActive:function(m,_,S){for(var R="no-"+_;m;){var A=m.classList;if(A.contains(_))return!0;if(A.contains(R))return!1;m=m.parentElement}return!!S}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(m,_){var S=l.util.clone(l.languages[m]);for(var R in _)S[R]=_[R];return S},insertBefore:function(m,_,S,R){R=R||l.languages;var A=R[m],k={};for(var H in A)if(A.hasOwnProperty(H)){if(H==_)for(var M in S)S.hasOwnProperty(M)&&(k[M]=S[M]);S.hasOwnProperty(H)||(k[H]=A[H])}var X=R[m];return R[m]=k,l.languages.DFS(l.languages,function(te,se){se===X&&te!=m&&(this[te]=k)}),k},DFS:function m(_,S,R,A){A=A||{};var k=l.util.objId;for(var H in _)if(_.hasOwnProperty(H)){S.call(_,H,_[H],R||H);var M=_[H],X=l.util.type(M);X==="Object"&&!A[k(M)]?(A[k(M)]=!0,m(M,S,null,A)):X==="Array"&&!A[k(M)]&&(A[k(M)]=!0,m(M,S,H,A))}}},plugins:{},highlightAll:function(m,_){l.highlightAllUnder(document,m,_)},highlightAllUnder:function(m,_,S){var R={callback:S,container:m,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",R),R.elements=Array.prototype.slice.apply(R.container.querySelectorAll(R.selector)),l.hooks.run("before-all-elements-highlight",R);for(var A=0,k;k=R.elements[A++];)l.highlightElement(k,_===!0,R.callback)},highlightElement:function(m,_,S){var R=l.util.getLanguage(m),A=l.languages[R];l.util.setLanguage(m,R);var k=m.parentElement;k&&k.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(k,R);var H=m.textContent,M={element:m,language:R,grammar:A,code:H};function X(se){M.highlightedCode=se,l.hooks.run("before-insert",M),M.element.innerHTML=M.highlightedCode,l.hooks.run("after-highlight",M),l.hooks.run("complete",M),S&&S.call(M.element)}if(l.hooks.run("before-sanity-check",M),k=M.element.parentElement,k&&k.nodeName.toLowerCase()==="pre"&&!k.hasAttribute("tabindex")&&k.setAttribute("tabindex","0"),!M.code){l.hooks.run("complete",M),S&&S.call(M.element);return}if(l.hooks.run("before-highlight",M),!M.grammar){X(l.util.encode(M.code));return}if(_&&r.Worker){var te=new Worker(l.filename);te.onmessage=function(se){X(se.data)},te.postMessage(JSON.stringify({language:M.language,code:M.code,immediateClose:!0}))}else X(l.highlight(M.code,M.grammar,M.language))},highlight:function(m,_,S){var R={code:m,grammar:_,language:S};if(l.hooks.run("before-tokenize",R),!R.grammar)throw new Error('The language "'+R.language+'" has no grammar.');return R.tokens=l.tokenize(R.code,R.grammar),l.hooks.run("after-tokenize",R),a.stringify(l.util.encode(R.tokens),R.language)},tokenize:function(m,_){var S=_.rest;if(S){for(var R in S)_[R]=S[R];delete _.rest}var A=new d;return u(A,A.head,m),g(m,A,_,A.head,0),h(A)},hooks:{all:{},add:function(m,_){var S=l.hooks.all;S[m]=S[m]||[],S[m].push(_)},run:function(m,_){var S=l.hooks.all[m];if(!(!S||!S.length))for(var R=0,A;A=S[R++];)A(_)}},Token:a};r.Prism=l;function a(m,_,S,R){this.type=m,this.content=_,this.alias=S,this.length=(R||"").length|0}a.stringify=function m(_,S){if(typeof _=="string")return _;if(Array.isArray(_)){var R="";return _.forEach(function(X){R+=m(X,S)}),R}var A={type:_.type,content:m(_.content,S),tag:"span",classes:["token",_.type],attributes:{},language:S},k=_.alias;k&&(Array.isArray(k)?Array.prototype.push.apply(A.classes,k):A.classes.push(k)),l.hooks.run("wrap",A);var H="";for(var M in A.attributes)H+=" "+M+'="'+(A.attributes[M]||"").replace(/"/g,"&quot;")+'"';return"<"+A.tag+' class="'+A.classes.join(" ")+'"'+H+">"+A.content+"</"+A.tag+">"};function c(m,_,S,R){m.lastIndex=_;var A=m.exec(S);if(A&&R&&A[1]){var k=A[1].length;A.index+=k,A[0]=A[0].slice(k)}return A}function g(m,_,S,R,A,k){for(var H in S)if(!(!S.hasOwnProperty(H)||!S[H])){var M=S[H];M=Array.isArray(M)?M:[M];for(var X=0;X<M.length;++X){if(k&&k.cause==H+","+X)return;var te=M[X],se=te.inside,it=!!te.lookbehind,ct=!!te.greedy,dt=te.alias;if(ct&&!te.pattern.global){var Ke=te.pattern.toString().match(/[imsuy]*$/)[0];te.pattern=RegExp(te.pattern.source,Ke+"g")}for(var _e=te.pattern||te,b=R.next,q=A;b!==_.tail&&!(k&&q>=k.reach);q+=b.value.length,b=b.next){var Y=b.value;if(_.length>m.length)return;if(!(Y instanceof a)){var Se=1,K;if(ct){if(K=c(_e,q,m,it),!K||K.index>=m.length)break;var ot=K.index,ye=K.index+K[0].length,Ae=q;for(Ae+=b.value.length;ot>=Ae;)b=b.next,Ae+=b.value.length;if(Ae-=b.value.length,q=Ae,b.value instanceof a)continue;for(var Ge=b;Ge!==_.tail&&(Ae<ye||typeof Ge.value=="string");Ge=Ge.next)Se++,Ae+=Ge.value.length;Se--,Y=m.slice(q,Ae),K.index-=q}else if(K=c(_e,0,Y,it),!K)continue;var ot=K.index,At=K[0],Rt=Y.slice(0,ot),st=Y.slice(ot+At.length),Ee=q+Y.length;k&&Ee>k.reach&&(k.reach=Ee);var Lt=b.prev;Rt&&(Lt=u(_,Lt,Rt),q+=Rt.length),f(_,Lt,Se);var Vt=new a(H,se?l.tokenize(At,se):At,dt,At);if(b=u(_,Lt,Vt),st&&u(_,b,st),Se>1){var mt={cause:H+","+X,reach:Ee};g(m,_,S,b.prev,q,mt),k&&mt.reach>k.reach&&(k.reach=mt.reach)}}}}}}function d(){var m={value:null,prev:null,next:null},_={value:null,prev:m,next:null};m.next=_,this.head=m,this.tail=_,this.length=0}function u(m,_,S){var R=_.next,A={value:S,prev:_,next:R};return _.next=A,R.prev=A,m.length++,A}function f(m,_,S){for(var R=_.next,A=0;A<S&&R!==m.tail;A++)R=R.next;_.next=R,R.prev=_,m.length-=A}function h(m){for(var _=[],S=m.head.next;S!==m.tail;)_.push(S.value),S=S.next;return _}if(!r.document)return r.addEventListener&&(l.disableWorkerMessageHandler||r.addEventListener("message",function(m){var _=JSON.parse(m.data),S=_.language,R=_.code,A=_.immediateClose;r.postMessage(l.highlight(R,l.languages[S],S)),A&&r.close()},!1)),l;var p=l.util.currentScript();p&&(l.filename=p.src,p.hasAttribute("data-manual")&&(l.manual=!0));function E(){l.manual||l.highlightAll()}if(!l.manual){var x=document.readyState;x==="loading"||x==="interactive"&&p&&p.defer?document.addEventListener("DOMContentLoaded",E):window.requestAnimationFrame?window.requestAnimationFrame(E):window.setTimeout(E,16)}return l}(e);t.exports&&(t.exports=n),typeof Ka<"u"&&(Ka.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(i,o){var s={};s["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[o]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};l["language-"+o]={pattern:/[\s\S]+/,inside:n.languages[o]};var a={};a[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:l},n.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,i){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:n.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(r){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var o=r.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",i=function(p,E){return"✖ Error "+p+" while fetching file: "+E},o="✖ Error: File does not exist or is empty",s={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",a="loading",c="loaded",g="failed",d="pre[data-src]:not(["+l+'="'+c+'"]):not(['+l+'="'+a+'"])';function u(p,E,x){var m=new XMLHttpRequest;m.open("GET",p,!0),m.onreadystatechange=function(){m.readyState==4&&(m.status<400&&m.responseText?E(m.responseText):m.status>=400?x(i(m.status,m.statusText)):x(o))},m.send(null)}function f(p){var E=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(p||"");if(E){var x=Number(E[1]),m=E[2],_=E[3];return m?_?[x,Number(_)]:[x,void 0]:[x,x]}}n.hooks.add("before-highlightall",function(p){p.selector+=", "+d}),n.hooks.add("before-sanity-check",function(p){var E=p.element;if(E.matches(d)){p.code="",E.setAttribute(l,a);var x=E.appendChild(document.createElement("CODE"));x.textContent=r;var m=E.getAttribute("data-src"),_=p.language;if(_==="none"){var S=(/\.(\w+)$/.exec(m)||[,"none"])[1];_=s[S]||S}n.util.setLanguage(x,_),n.util.setLanguage(E,_);var R=n.plugins.autoloader;R&&R.loadLanguages(_),u(m,function(A){E.setAttribute(l,c);var k=f(E.getAttribute("data-range"));if(k){var H=A.split(/\r\n?|\n/g),M=k[0],X=k[1]==null?H.length:k[1];M<0&&(M+=H.length),M=Math.max(0,Math.min(M-1,H.length)),X<0&&(X+=H.length),X=Math.max(0,Math.min(X,H.length)),A=H.slice(M,X).join(`
`),E.hasAttribute("data-start")||E.setAttribute("data-start",String(M+1))}x.textContent=A,n.highlightElement(x)},function(A){E.setAttribute(l,g),x.textContent=A})}}),n.plugins.fileHighlight={highlight:function(E){for(var x=(E||document).querySelectorAll(d),m=0,_;_=x[m++];)n.highlightElement(_)}};var h=!1;n.fileHighlight=function(){h||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),h=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(F_);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:Prism.languages[n]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",o)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(t,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(g){return g=g.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+g+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(g){["url","bold","italic","strike","code-snippet"].forEach(function(d){g!==d&&(t.languages.markdown[g].inside.content.inside[d]=t.languages.markdown[d])})}),t.hooks.add("after-tokenize",function(g){if(g.language!=="markdown"&&g.language!=="md")return;function d(u){if(!(!u||typeof u=="string"))for(var f=0,h=u.length;f<h;f++){var p=u[f];if(p.type!=="code"){d(p.content);continue}var E=p.content[1],x=p.content[3];if(E&&x&&E.type==="code-language"&&x.type==="code-block"&&typeof E.content=="string"){var m=E.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");m=(/[a-z][\w-]*/i.exec(m)||[""])[0].toLowerCase();var _="language-"+m;x.alias?typeof x.alias=="string"?x.alias=[x.alias,_]:x.alias.push(_):x.alias=[_]}}}d(g.tokens)}),t.hooks.add("wrap",function(g){if(g.type==="code-block"){for(var d="",u=0,f=g.classes.length;u<f;u++){var h=g.classes[u],p=/language-(.+)/.exec(h);if(p){d=p[1];break}}var E=t.languages[d];if(E)g.content=t.highlight(c(g.content),E,d);else if(d&&d!=="none"&&t.plugins.autoloader){var x="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);g.attributes.id=x,t.plugins.autoloader.loadLanguages(d,function(){var m=document.getElementById(x);m&&(m.innerHTML=t.highlight(m.textContent,t.languages[d],d))})}}});var s=RegExp(t.languages.markup.tag.pattern.source,"gi"),l={amp:"&",lt:"<",gt:">",quot:'"'},a=String.fromCodePoint||String.fromCharCode;function c(g){var d=g.replace(s,"");return d=d.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(u,f){if(f=f.toLowerCase(),f[0]==="#"){var h;return f[1]==="x"?h=parseInt(f.slice(2),16):h=Number(f.slice(1)),a(h)}else{var p=l[f];return p||u}}),d}t.languages.md=t.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(t){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=Prism.languages.swift});(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript})(Prism);(function(t){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};t.languages.java=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:e,function:[t.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),t.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);(function(t){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])})(Prism);var Cr=El,vr=tt,B=G;let Wu=t=>t!=null&&Cr.languages.hasOwnProperty(t)?t:void 0;function zg(t,e){for(let n of t.childNodes){if(vr.isHTMLElement(n)&&n.tagName===e)return!0;zg(n,e)}return!1}class xn extends B.ElementNode{static getType(){return"code"}static clone(e){return new xn(e.__language,e.__key)}constructor(e,n){super(n),this.__language=Wu(e)}createDOM(e){let n=document.createElement("code");return vr.addClassNamesToElement(n,e.theme.code),n.setAttribute("spellcheck","false"),(e=this.getLanguage())&&n.setAttribute("data-highlight-language",e),n}updateDOM(e,n){let r=this.__language;return e=e.__language,r?r!==e&&n.setAttribute("data-highlight-language",r):e&&n.removeAttribute("data-highlight-language"),!1}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||zg(e,"BR"))?{conversion:Gu,priority:1}:null,div:()=>({conversion:B_,priority:1}),pre:()=>({conversion:Gu,priority:0}),table:e=>vs(e)?{conversion:z_,priority:3}:null,td:e=>{let n=e.closest("table");return e.classList.contains("js-file-line")?{conversion:U_,priority:3}:n&&vs(n)?{conversion:Yu,priority:3}:null},tr:e=>(e=e.closest("table"))&&vs(e)?{conversion:Yu,priority:3}:null}}static importJSON(e){let n=br(e.language);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),type:"code",version:1}}insertNewAfter(e,n=!0){var r=this.getChildren(),i=r.length;if(2<=i&&r[i-1].getTextContent()===`
`&&r[i-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===i)return r[i-1].remove(),r[i-2].remove(),e=B.$createParagraphNode(),this.insertAfter(e,n),e;if(n=e.anchor.getNode(),i=_i(n),i!=null){for(r=0,i=i.getTextContent();r<i.length&&/[\t ]/.test(i[r]);)r+=1;if(0<r)return r=i.substring(0,r),r=Kn(r),n.insertAfter(r),e.insertNodes([B.$createLineBreakNode()]),r.select(),r}return null}canInsertTab(){let e=B.$getSelection();return!!(B.$isRangeSelection(e)&&e.isCollapsed())}canIndent(){return!1}collapseAtStart(){let e=B.$createParagraphNode();return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}setLanguage(e){this.getWritable().__language=Wu(e)}getLanguage(){return this.getLatest().__language}}function br(t){return B.$applyNodeReplacement(new xn(t))}function Zo(t){return t instanceof xn}function Gu(){return{node:br(),preformatted:!0}}function B_(t){let e=t.style.fontFamily.match("monospace")!==null;return e||j_(t)?{after:n=>{let r=t.parentNode;return r!=null&&t!==r.lastChild&&n.push(B.$createLineBreakNode()),n},node:e?br():null,preformatted:e}:{node:null}}function z_(){return{node:br(),preformatted:!0}}function Yu(){return{node:null}}function U_(t){return{after:e=>(t.parentNode&&t.parentNode.nextSibling&&e.push(B.$createLineBreakNode()),e),node:null}}function j_(t){for(t=t.parentElement;t!==null;){if(t.style.fontFamily.match("monospace")!==null)return!0;t=t.parentElement}return!1}function vs(t){return t.classList.contains("js-file-line-container")}let Ug={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},jg={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function Hg(t){return jg[t]||t}let mi=class Kg extends B.TextNode{constructor(e,n,r){super(e,r),this.__highlightType=n}static getType(){return"code-highlight"}static clone(e){return new Kg(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}createDOM(e){let n=super.createDOM(e);return e=Ts(e.theme,this.__highlightType),vr.addClassNamesToElement(n,e),n}updateDOM(e,n,r){let i=super.updateDOM(e,n,r);return e=Ts(r.theme,e.__highlightType),r=Ts(r.theme,this.__highlightType),e!==r&&(e&&vr.removeClassNamesFromElement(n,e),r&&vr.addClassNamesToElement(n,r)),i}static importJSON(e){let n=Kn(e.text,e.highlightType);return n.setFormat(e.format),n.setDetail(e.detail),n.setMode(e.mode),n.setStyle(e.style),n}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType(),type:"code-highlight",version:1}}setFormat(){return this}isParentRequired(){return!0}createParentElementNode(){return br()}};function Ts(t,e){return e&&t&&t.codeHighlight&&t.codeHighlight[e]}function Kn(t,e){return B.$applyNodeReplacement(new mi(t,e))}function Ue(t){return t instanceof mi}function _i(t){let e=null,n=t.getPreviousSiblings();for(n.push(t);0<n.length&&(t=n.pop(),Ue(t)&&(e=t),!B.$isLineBreakNode(t)););return e}function Nl(t){let e=null,n=t.getNextSiblings();for(n.unshift(t);0<n.length&&(t=n.shift(),Ue(t)&&(e=t),!B.$isLineBreakNode(t)););return e}let Wg={defaultLanguage:"javascript",tokenize(t,e){return Cr.tokenize(t,Cr.languages[e||""]||Cr.languages[this.defaultLanguage])}};function No(t,e){var n=t.length;let r=-1;if(e)for(e=0;e<n;e++){let i=t[e];if(i!==" "&&i!=="	"){r=e;break}}else for(--n;-1<n;n--)if(e=t[n],e!==" "&&e!=="	"){r=n;break}return r}function Gg(t){let e=null,n=-1;var r=t.getPreviousSiblings();for(r.push(t);0<r.length;){var i=r.pop();if(Ue(i)){var o=i.getTextContent();o=No(o,!0),o!==-1&&(e=i,n=o)}if(B.$isLineBreakNode(i))break}if(e===null)for(t=t.getNextSiblings();0<t.length;){if(r=t.shift(),Ue(r)&&(i=r.getTextContent(),i=No(i,!0),i!==-1)){e=r,n=i;break}if(B.$isLineBreakNode(r))break}return{node:e,offset:n}}function Yg(t){let e=null,n=-1;var r=t.getNextSiblings();for(r.unshift(t);0<r.length;){var i=r.shift();if(Ue(i)){var o=i.getTextContent();o=No(o,!1),o!==-1&&(e=i,n=o+1)}if(B.$isLineBreakNode(i))break}if(e===null)for(t=t.getPreviousSiblings();0<t.length;){if(r=t.pop(),Ue(r)&&(i=r.getTextContent(),i=No(i,!1),i!==-1)){e=r,n=i+1;break}if(B.$isLineBreakNode(r))break}return{node:e,offset:n}}function Vu(t,e,n){let r=t.getParent();Zo(r)?Vg(r,e,n):Ue(t)&&t.replace(B.$createTextNode(t.__text))}let Ss=new Set;function Vg(t,e,n){let r=t.getKey();Ss.has(r)||(Ss.add(r),t.getLanguage()===void 0&&t.setLanguage(n.defaultLanguage),e.update(()=>{H_(r,()=>{var i=B.$getNodeByKey(r);if(!Zo(i)||!i.isAttached())return!1;var o=i.getTextContent();o=n.tokenize(o,i.getLanguage()||n.defaultLanguage),o=Xg(o);var s=i.getChildren();for(i=0;i<s.length&&Xu(s[i],o[i]);)i++;var l=s.length;let a=o.length,c=Math.min(l,a)-i,g=0;for(;g<c;)if(g++,!Xu(s[l-g],o[a-g])){g--;break}s=i,l-=g,o=o.slice(i,a-g);let{from:d,to:u,nodesForReplacement:f}={from:s,nodesForReplacement:o,to:l};return d!==u||f.length?(t.splice(d,u-d,f),!0):!1})},{onUpdate:()=>{Ss.delete(r)},skipTransforms:!0}))}function Xg(t){let e=[];return t.forEach(n=>{if(typeof n=="string"){n=n.split(`
`);for(var r=0;r<n.length;r++){let i=n[r];i.length&&e.push(Kn(i)),r<n.length-1&&e.push(B.$createLineBreakNode())}}else({content:r}=n),typeof r=="string"?e.push(Kn(r,n.type)):Array.isArray(r)&&r.length===1&&typeof r[0]=="string"?e.push(Kn(r[0],n.type)):Array.isArray(r)&&e.push(...Xg(r))}),e}function H_(t,e){if(t=B.$getNodeByKey(t),Zo(t)&&t.isAttached()){var n=B.$getSelection();if(B.$isRangeSelection(n)){n=n.anchor;var r=n.offset,i=n.type==="element"&&B.$isLineBreakNode(t.getChildAtIndex(n.offset-1)),o=0;if(!i){let s=n.getNode();o=r+s.getPreviousSiblings().reduce((l,a)=>l+a.getTextContentSize(),0)}e()&&(i?n.getNode().select(r,r):t.getChildren().some(s=>{let l=B.$isTextNode(s);if(l||B.$isLineBreakNode(s)){let a=s.getTextContentSize();if(l&&a>=o)return s.select(o,o),!0;o-=a}return!1}))}else e()}}function Xu(t,e){return Ue(t)&&Ue(e)?t.__text===e.__text&&t.__highlightType===e.__highlightType:!!(B.$isLineBreakNode(t)&&B.$isLineBreakNode(e))}function Ju(t){var e=B.$getSelection();if(!B.$isRangeSelection(e)||e.isCollapsed())return!1;e=e.getNodes();for(var n=0;n<e.length;n++){var r=e[n];if(!Ue(r)&&!B.$isLineBreakNode(r))return!1}for(n=_i(e[0]),n!=null&&qu(n,t),n=1;n<e.length;n++)r=e[n],B.$isLineBreakNode(e[n-1])&&Ue(r)&&qu(r,t);return!0}function qu(t,e){let n=t.getTextContent();e===B.INDENT_CONTENT_COMMAND?0<n.length&&/\s/.test(n[0])?t.setTextContent("	"+n):(e=Kn("	"),t.insertBefore(e)):n.indexOf("	")===0&&(n.length===1?t.remove():t.setTextContent(n.substring(1)))}function Zu(t,e){let n=B.$getSelection();if(!B.$isRangeSelection(n))return!1;let{anchor:r,focus:i}=n,o=r.offset,s=i.offset,l=r.getNode(),a=i.getNode();var c=t===B.KEY_ARROW_UP_COMMAND;if(!Ue(l)||!Ue(a))return!1;if(!e.altKey){if(n.isCollapsed()){if(t=l.getParentOrThrow(),c&&o===0&&l.getPreviousSibling()===null){if(t.getPreviousSibling()===null)return t.selectPrevious(),e.preventDefault(),!0}else if(!c&&o===l.getTextContentSize()&&l.getNextSibling()===null&&t.getNextSibling()===null)return t.selectNext(),e.preventDefault(),!0}return!1}var g=_i(l);let d=Nl(a);if(g==null||d==null)return!1;let u=g.getNodesBetween(d);for(let h=0;h<u.length;h++){let p=u[h];if(!Ue(p)&&!B.$isLineBreakNode(p))return!1}if(e.preventDefault(),e.stopPropagation(),e=c?g.getPreviousSibling():d.getNextSibling(),!B.$isLineBreakNode(e)||(g=c?e.getPreviousSibling():e.getNextSibling(),g==null))return!0;c=c?_i(g):Nl(g);let f=c??g;return e.remove(),u.forEach(h=>h.remove()),t===B.KEY_ARROW_UP_COMMAND?(u.forEach(h=>f.insertBefore(h)),f.insertBefore(e)):(f.insertAfter(e),f=e,u.forEach(h=>{f.insertAfter(h),f=h})),n.setTextNodeRange(l,o,a,s),!0}function Qu(t,e){let n=B.$getSelection();if(!B.$isRangeSelection(n))return!1;let{anchor:r,focus:i}=n,o=r.getNode(),s=i.getNode();if(t=t===B.MOVE_TO_START,!Ue(o)||!Ue(s))return!1;let l,a;return t?{node:l,offset:a}=Gg(s):{node:l,offset:a}=Yg(s),l!==null&&a!==-1&&n.setTextNodeRange(l,a,l,a),e.preventDefault(),e.stopPropagation(),!0}Ne.$createCodeHighlightNode=Kn;Ne.$createCodeNode=br;Ne.$isCodeHighlightNode=Ue;Ne.$isCodeNode=Zo;Ne.CODE_LANGUAGE_FRIENDLY_NAME_MAP=Ug;Ne.CODE_LANGUAGE_MAP=jg;Ne.CodeHighlightNode=mi;Ne.CodeNode=xn;Ne.DEFAULT_CODE_LANGUAGE="javascript";Ne.PrismTokenizer=Wg;Ne.getCodeLanguages=()=>Object.keys(Cr.languages).filter(t=>typeof Cr.languages[t]!="function").sort();Ne.getDefaultCodeLanguage=()=>"javascript";Ne.getEndOfCodeInLine=Yg;Ne.getFirstCodeHighlightNodeOfLine=_i;Ne.getLanguageFriendlyName=function(t){return t=Hg(t),Ug[t]||t};Ne.getLastCodeHighlightNodeOfLine=Nl;Ne.getStartOfCodeInLine=Gg;Ne.normalizeCodeLang=Hg;Ne.registerCodeHighlighting=function(t,e){if(!t.hasNodes([xn,mi]))throw Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return e==null&&(e=Wg),vr.mergeRegister(t.registerMutationListener(xn,n=>{t.update(()=>{for(let[o,s]of n)if(s!=="destroyed"){var r=B.$getNodeByKey(o);if(r!==null)e:{var i=r;if(r=t.getElementByKey(i.getKey()),r===null)break e;i=i.getChildren();let l=i.length;if(l===r.__cachedChildrenLength)break e;r.__cachedChildrenLength=l;let a="1",c=1;for(let g=0;g<l;g++)B.$isLineBreakNode(i[g])&&(a+=`
`+ ++c);r.setAttribute("data-gutter",a)}}})}),t.registerNodeTransform(xn,n=>Vg(n,t,e)),t.registerNodeTransform(B.TextNode,n=>Vu(n,t,e)),t.registerNodeTransform(mi,n=>Vu(n,t,e)),t.registerCommand(B.INDENT_CONTENT_COMMAND,()=>Ju(B.INDENT_CONTENT_COMMAND),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.OUTDENT_CONTENT_COMMAND,()=>Ju(B.OUTDENT_CONTENT_COMMAND),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.KEY_ARROW_UP_COMMAND,n=>Zu(B.KEY_ARROW_UP_COMMAND,n),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.KEY_ARROW_DOWN_COMMAND,n=>Zu(B.KEY_ARROW_DOWN_COMMAND,n),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.MOVE_TO_END,n=>Qu(B.MOVE_TO_END,n),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.MOVE_TO_START,n=>Qu(B.MOVE_TO_START,n),B.COMMAND_PRIORITY_LOW))};const K_=Ne;var on=K_,va={},de={},ee=G,Qr=on,je=rn,En=Nn,W_=tt,As=Ct;function xl(t,e){let n={};for(let r of t)t=e(r),n[t]?n[t].push(r):n[t]=[r];return n}function Ta(t){return t=xl(t,e=>e.type),{element:t.element||[],textFormat:t["text-format"]||[],textMatch:t["text-match"]||[]}}let xo=/[!-/:-@[-`{-~\s]/;function G_(t){let e=Ta(t),n=e.textFormat.filter(r=>r.format.length===1);return r=>{let i=[];r=(r||ee.$getRoot()).getChildren();for(let o of r)r=Y_(o,e.element,n,e.textMatch),r!=null&&i.push(r);return i.join(`

`)}}function Y_(t,e,n,r){for(let i of e)if(e=i.export(t,o=>Co(o,n,r)),e!=null)return e;return ee.$isElementNode(t)?Co(t,n,r):ee.$isDecoratorNode(t)?t.getTextContent():null}function Co(t,e,n){let r=[];t=t.getChildren();e:for(let i of t){for(let o of n)if(t=o.export(i,s=>Co(s,e,n),(s,l)=>ec(s,l,e)),t!=null){r.push(t);continue e}ee.$isLineBreakNode(i)?r.push(`
`):ee.$isTextNode(i)?r.push(ec(i,i.getTextContent(),e)):ee.$isElementNode(i)?r.push(Co(i,e,n)):ee.$isDecoratorNode(i)&&r.push(i.getTextContent())}return r.join("")}function ec(t,e,n){let r=e.trim(),i=r,o=new Set;for(let l of n){n=l.format[0];let a=l.tag;if(Rs(t,n)&&!o.has(n)){o.add(n);var s=tc(t,!0);Rs(s,n)||(i=a+i),s=tc(t,!1),Rs(s,n)||(i+=a)}}return e.replace(r,i)}function tc(t,e){let n=e?t.getPreviousSibling():t.getNextSibling();for(n||(t=t.getParentOrThrow(),t.isInline()&&(n=e?t.getPreviousSibling():t.getNextSibling()));n;){if(ee.$isElementNode(n)){if(!n.isInline())break;if(t=e?n.getLastDescendant():n.getFirstDescendant(),ee.$isTextNode(t))return t;n=e?n.getPreviousSibling():n.getNextSibling()}if(ee.$isTextNode(n))return n;if(!ee.$isElementNode(n))break}return null}function Rs(t,e){return ee.$isTextNode(t)&&t.hasFormat(e)}let Pr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V_=Pr&&"documentMode"in document?document.documentMode:null;Pr&&"InputEvent"in window&&!V_&&"getTargetRanges"in new window.InputEvent("input");let nc=Pr&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),rc=Pr&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,X_=Pr&&/^(?=.*Chrome).*/i.test(navigator.userAgent),ic=Pr&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!X_,J_=/^\s{0,3}$/,oc=/^```(\w{1,10})?\s?$/;function q_(t){let e=Ta(t),n=Q_(e.textFormat);return(r,i)=>{r=r.split(`
`);var o=r.length;i=i||ee.$getRoot(),i.clear();for(let h=0;h<o;h++){var s=r[h];e:{var l=r,a=h,c=i,g=l[a].match(oc);if(g){for(var d=a,u=l.length;++d<u;)if(l[d].match(oc)){g=Qr.$createCodeNode(g[1]),l=ee.$createTextNode(l.slice(a+1,d).join(`
`)),g.append(l),c.append(g),c=[g,d];break e}}c=[null,a]}let[p,E]=c;if(p!=null)h=E;else{c=s,u=i;var f=e.element;d=n,l=e.textMatch,a=c.trim(),g=ee.$createTextNode(a),s=ee.$createParagraphNode(),s.append(g),u.append(s);for(let{regExp:x,replace:m}of f)if(u=c.match(x)){g.setTextContent(c.slice(u[0].length)),m(s,[g],u,!0);break}Ji(g,d,l),s.isAttached()&&0<a.length&&(c=s.getPreviousSibling(),ee.$isParagraphNode(c)||En.$isQuoteNode(c)||je.$isListNode(c))&&(d=c,je.$isListNode(c)&&(c=c.getLastDescendant(),d=c==null?null:W_.$findMatchingParent(c,je.$isListItemNode)),d!=null&&0<d.getTextContentSize()&&(d.splice(d.getChildrenSize(),0,[ee.$createLineBreakNode(),...s.getChildren()]),s.remove()))}}r=i.getChildren();for(let h of r)r=h,ee.$isParagraphNode(r)?(o=r.getFirstChild(),r=o==null||r.getChildrenSize()===1&&ee.$isTextNode(o)&&J_.test(o.getTextContent())):r=!1,r&&h.remove();ee.$getSelection()!==null&&i.selectEnd()}}function Ji(t,e,n){var r=t.getTextContent();let i=Z_(r,e);if(i){var o,s;if(i[0]===r)var l=t;else{r=i.index||0;let a=r+i[0].length;r===0?[l,o]=t.splitText(a):[s,l,o]=t.splitText(r,a)}if(l.setTextContent(i[2]),t=e.transformersByTag[i[1]])for(let a of t.format)l.hasFormat(a)||l.toggleFormat(a);l.hasFormat("code")||Ji(l,e,n),s&&Ji(s,e,n),o&&Ji(o,e,n)}else Jg(t,n)}function Jg(t,e){e:for(;t;){for(let n of e){let r=t.getTextContent().match(n.importRegExp);if(!r)continue;let i=r.index||0,o=i+r[0].length,s,l,a;i===0?[s,t]=t.splitText(o):[l,s,a]=t.splitText(i,o),l&&Jg(l,e),a&&(t=a),n.replace(s,r);continue e}break}}function Z_(t,e){var n=t.match(e.openTagsRegExp);if(n==null)return null;for(let o of n){var r=o.replace(/^\s/,"");if(n=e.fullMatchRegExpByTag[r],n!=null&&(n=t.match(n),r=e.transformersByTag[r],n!=null&&r!=null)){if(r.intraword!==!1)return n;var{index:i=0}=n;if(r=t[i-1],i=t[i+n[0].length],!(r&&!xo.test(r)||i&&!xo.test(i)))return n}}return null}function Q_(t){let e={},n={},r=[];for(let i of t){({tag:t}=i),e[t]=i;let o=t.replace(/(\*|\^|\+)/g,"\\$1");r.push(o),n[t]=nc||rc||ic?new RegExp(`(${o})(?![${o}\\s])(.*?[^${o}\\s])${o}(?!${o})`):new RegExp(`(?<![\\\\${o}])(${o})((\\\\${o})?.*?[^${o}\\s](\\\\${o})?)((?<!\\\\)|(?<=\\\\\\\\))(${o})(?![\\\\${o}])`)}return{fullMatchRegExpByTag:n,openTagsRegExp:new RegExp((nc||rc||ic?"":"(?<![\\\\])")+"("+r.join("|")+")","g"),transformersByTag:e}}function sc(t,e,n){let r=n.length;for(;e>=r;e--){let i=e-r;if(qg(t,i,n,0,r)&&t[i+r]!==" ")return i}return-1}function qg(t,e,n,r,i){for(let o=0;o<i;o++)if(t[e+o]!==n[r+o])return!1;return!0}let Zg=t=>(e,n,r)=>{r=t(r),r.append(...n),e.replace(r),r.select(0,0)},Sa=t=>(e,n,r)=>{var i=e.getPreviousSibling();const o=je.$createListItemNode(t==="check"?r[3]==="x":void 0);je.$isListNode(i)&&i.getListType()===t?(i.append(o),e.remove()):(i=je.$createListNode(t,t==="number"?Number(r[2]):void 0),i.append(o),e.replace(i)),o.append(...n),o.select(0,0),(e=Math.floor(r[1].length/4))&&o.setIndent(e)},Qo=(t,e,n)=>{const r=[];var i=t.getChildren();let o=0;for(const l of i)if(je.$isListItemNode(l)){if(l.getChildrenSize()===1&&(i=l.getFirstChild(),je.$isListNode(i))){r.push(Qo(i,e,n+1));continue}i=" ".repeat(4*n);var s=t.getListType();s=s==="number"?`${t.getStart()+o}. `:s==="check"?`- [${l.getChecked()?"x":" "}] `:"- ",r.push(i+s+e(l)),o++}return r.join(`
`)},Qg={dependencies:[En.HeadingNode],export:(t,e)=>{if(!En.$isHeadingNode(t))return null;const n=Number(t.getTag().slice(1));return"#".repeat(n)+" "+e(t)},regExp:/^(#{1,6})\s/,replace:Zg(t=>En.$createHeadingNode("h"+t[1].length)),type:"element"},ef={dependencies:[En.QuoteNode],export:(t,e)=>{if(!En.$isQuoteNode(t))return null;t=e(t).split(`
`),e=[];for(const n of t)e.push("> "+n);return e.join(`
`)},regExp:/^>\s/,replace:(t,e,n,r)=>{if(r&&(n=t.getPreviousSibling(),En.$isQuoteNode(n))){n.splice(n.getChildrenSize(),0,[ee.$createLineBreakNode(),...e]),n.select(0,0),t.remove();return}n=En.$createQuoteNode(),n.append(...e),t.replace(n),n.select(0,0)},type:"element"},tf={dependencies:[Qr.CodeNode],export:t=>{if(!Qr.$isCodeNode(t))return null;const e=t.getTextContent();return"```"+(t.getLanguage()||"")+(e?`
`+e:"")+"\n```"},regExp:/^```(\w{1,10})?\s/,replace:Zg(t=>Qr.$createCodeNode(t?t[1]:void 0)),type:"element"},nf={dependencies:[je.ListNode,je.ListItemNode],export:(t,e)=>je.$isListNode(t)?Qo(t,e,0):null,regExp:/^(\s*)[-*+]\s/,replace:Sa("bullet"),type:"element"},ey={dependencies:[je.ListNode,je.ListItemNode],export:(t,e)=>je.$isListNode(t)?Qo(t,e,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:Sa("check"),type:"element"},rf={dependencies:[je.ListNode,je.ListItemNode],export:(t,e)=>je.$isListNode(t)?Qo(t,e,0):null,regExp:/^(\s*)(\d{1,})\.\s/,replace:Sa("number"),type:"element"},of={format:["code"],tag:"`",type:"text-format"},sf={format:["highlight"],tag:"==",type:"text-format"},lf={format:["bold","italic"],tag:"***",type:"text-format"},af={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},uf={format:["bold"],tag:"**",type:"text-format"},cf={format:["bold"],intraword:!1,tag:"__",type:"text-format"},df={format:["strikethrough"],tag:"~~",type:"text-format"},gf={format:["italic"],tag:"*",type:"text-format"},ff={format:["italic"],intraword:!1,tag:"_",type:"text-format"},hf={dependencies:[As.LinkNode],export:(t,e,n)=>{if(!As.$isLinkNode(t))return null;e=(e=t.getTitle())?`[${t.getTextContent()}](${t.getURL()} "${e}")`:`[${t.getTextContent()}](${t.getURL()})`;const r=t.getFirstChild();return t.getChildrenSize()===1&&ee.$isTextNode(r)?n(r,e):e},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(t,e)=>{const[,n,r,i]=e;e=As.$createLinkNode(r,{title:i});const o=ee.$createTextNode(n);o.setFormat(t.getFormat()),e.append(o),t.replace(e)},trigger:")",type:"text-match"},pf=[Qg,ef,tf,nf,rf],mf=[of,lf,af,uf,cf,sf,gf,ff,df],_f=[hf],es=[...pf,...mf,..._f];de.$convertFromMarkdownString=function(t,e=es,n){return q_(e)(t,n)};de.$convertToMarkdownString=function(t=es,e){return G_(t)(e)};de.BOLD_ITALIC_STAR=lf;de.BOLD_ITALIC_UNDERSCORE=af;de.BOLD_STAR=uf;de.BOLD_UNDERSCORE=cf;de.CHECK_LIST=ey;de.CODE=tf;de.ELEMENT_TRANSFORMERS=pf;de.HEADING=Qg;de.HIGHLIGHT=sf;de.INLINE_CODE=of;de.ITALIC_STAR=gf;de.ITALIC_UNDERSCORE=ff;de.LINK=hf;de.ORDERED_LIST=rf;de.QUOTE=ef;de.STRIKETHROUGH=df;de.TEXT_FORMAT_TRANSFORMERS=mf;de.TEXT_MATCH_TRANSFORMERS=_f;de.TRANSFORMERS=es;de.UNORDERED_LIST=nf;de.registerMarkdownShortcuts=function(t,e=es){let n=Ta(e),r=xl(n.textFormat,({tag:o})=>o[o.length-1]),i=xl(n.textMatch,({trigger:o})=>o);for(let o of e)if(e=o.type,(e==="element"||e==="text-match")&&!t.hasNodes(o.dependencies))throw Error("Minified Lexical error #79; visit https://lexical.dev/docs/error?code=79 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return t.registerUpdateListener(({tags:o,dirtyLeaves:s,editorState:l,prevEditorState:a})=>{if(!o.has("historic")){var c=l.read(ee.$getSelection);if(o=a.read(ee.$getSelection),ee.$isRangeSelection(o)&&ee.$isRangeSelection(c)&&c.isCollapsed()){a=c.anchor.key;var g=c.anchor.offset,d=l._nodeMap.get(a);ee.$isTextNode(d)&&s.has(a)&&(g===1||g===o.anchor.offset+1)&&t.update(()=>{if(!d.hasFormat("code")){var u=d.getParent();if(u!==null&&!Qr.$isCodeNode(u)){var f=c.anchor.offset;e:{var h=n.element,p=u.getParent();if(ee.$isRootOrShadowRoot(p)&&u.getFirstChild()===d&&(p=d.getTextContent(),p[f-1]===" ")){for(let{regExp:R,replace:A}of h)if((h=p.match(R))&&h[0].length===f){p=d.getNextSiblings();let[k,H]=d.splitText(f);k.remove(),p=H?[H,...p]:p,A(u,p,h,!1),u=!0;break e}}u=!1}if(!u){e:{if(h=d.getTextContent(),u=i[h[f-1]],u!=null){f<h.length&&(h=h.slice(0,f));for(x of u)if(u=h.match(x.regExp),u!==null){h=u.index||0,p=h+u[0].length;var E=void 0;h===0?[E]=d.splitText(p):[,E]=d.splitText(h,p),E.selectNext(0,0),x.replace(E,u);var x=!0;break e}}x=!1}if(!x)e:{p=d.getTextContent(),--f;var m=p[f];if(x=r[m])for(let R of x){var{tag:_}=R;x=_.length;let A=f-x+1;if(!(1<x&&!qg(p,A,_,0,x)||p[A-1]===" ")&&(E=p[f+1],R.intraword!==!1||!E||xo.test(E))){u=E=d,h=sc(p,A,_);for(var S=u;0>h&&(S=S.getPreviousSibling())&&!ee.$isLineBreakNode(S);)ee.$isTextNode(S)&&(h=S.getTextContent(),u=S,h=sc(h,h.length,_));if(!(0>h||u===E&&h+x===A||(_=u.getTextContent(),0<h&&_[h-1]===m||(S=_[h-1],R.intraword===!1&&S&&!xo.test(S))))){p=E.getTextContent(),p=p.slice(0,A)+p.slice(f+1),E.setTextContent(p),p=u===E?p:_,u.setTextContent(p.slice(0,h)+p.slice(h+x)),p=ee.$getSelection(),m=ee.$createRangeSelection(),ee.$setSelection(m),f=f-x*(u===E?2:1)+1,m.anchor.set(u.__key,h,"text"),m.focus.set(E.__key,f,"text");for(let k of R.format)m.hasFormat(k)||m.formatText(k);m.anchor.set(m.focus.key,m.focus.offset,m.focus.type);for(let k of R.format)m.hasFormat(k)&&m.toggleFormat(k);ee.$isRangeSelection(p)&&(m.format=p.format);break e}}}}}}}})}}})};const ty=de;var vo=ty,Ai={},yf={},ny=pt,In=G,Pi=v;function lc(t,e){return t.getEditorState().read(()=>{let n=In.$getNodeByKey(e);return n===null?!1:n.isSelected()})}yf.useLexicalNodeSelection=function(t){let[e]=ny.useLexicalComposerContext(),[n,r]=Pi.useState(()=>lc(e,t));Pi.useEffect(()=>{let s=!0,l=e.registerUpdateListener(()=>{s&&r(lc(e,t))});return()=>{s=!1,l()}},[e,t]);let i=Pi.useCallback(s=>{e.update(()=>{let l=In.$getSelection();In.$isNodeSelection(l)||(l=In.$createNodeSelection(),In.$setSelection(l)),s?l.add(t):l.delete(t)})},[e,t]),o=Pi.useCallback(()=>{e.update(()=>{const s=In.$getSelection();In.$isNodeSelection(s)&&s.clear()})},[e]);return[n,i,o]};const ry=yf;var iy=ry,oy=pt,sy=iy,ly=tt,Et=G,qi=v;let ay=Et.createCommand("INSERT_HORIZONTAL_RULE_COMMAND");function uy({nodeKey:t}){let[e]=oy.useLexicalComposerContext(),[n,r,i]=sy.useLexicalNodeSelection(t),o=qi.useCallback(s=>(n&&Et.$isNodeSelection(Et.$getSelection())&&(s.preventDefault(),s=Et.$getNodeByKey(t),Ef(s)&&s.remove(),r(!1)),!1),[n,t,r]);return qi.useEffect(()=>ly.mergeRegister(e.registerCommand(Et.CLICK_COMMAND,s=>{let l=e.getElementByKey(t);return s.target===l?(s.shiftKey||i(),r(!n),!0):!1},Et.COMMAND_PRIORITY_LOW),e.registerCommand(Et.KEY_DELETE_COMMAND,o,Et.COMMAND_PRIORITY_LOW),e.registerCommand(Et.KEY_BACKSPACE_COMMAND,o,Et.COMMAND_PRIORITY_LOW)),[i,e,n,t,o,r]),qi.useEffect(()=>{let s=e.getElementByKey(t);s!==null&&(s.className=n?"selected":"")},[e,n,t]),null}class Ri extends Et.DecoratorNode{static getType(){return"horizontalrule"}static clone(e){return new Ri(e.__key)}static importJSON(){return Aa()}static importDOM(){return{hr:()=>({conversion:cy,priority:0})}}exportJSON(){return{type:"horizontalrule",version:1}}exportDOM(){return{element:document.createElement("hr")}}createDOM(){return document.createElement("hr")}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return qi.createElement(uy,{nodeKey:this.__key})}}function cy(){return{node:Aa()}}function Aa(){return Et.$applyNodeReplacement(new Ri)}function Ef(t){return t instanceof Ri}Ai.$createHorizontalRuleNode=Aa;Ai.$isHorizontalRuleNode=Ef;Ai.HorizontalRuleNode=Ri;Ai.INSERT_HORIZONTAL_RULE_COMMAND=ay;const dy=Ai;var gy=dy,Nf=vo,fy=pt,ws=gy,hy=v;let xf=[{dependencies:[ws.HorizontalRuleNode],export:t=>ws.$isHorizontalRuleNode(t)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(t,e,n,r)=>{e=ws.$createHorizontalRuleNode(),r||t.getNextSibling()!=null?t.replace(e):t.insertBefore(e),e.selectNext()},type:"element"},...Nf.TRANSFORMERS];va.DEFAULT_TRANSFORMERS=xf;va.MarkdownShortcutPlugin=function({transformers:t=xf}){let[e]=fy.useLexicalComposerContext();return hy.useEffect(()=>Nf.registerMarkdownShortcuts(e,t),[e,t]),null};const py=va;var my=py,Ra={},kn=Ct,_y=pt,yy=tt,sn=G,Ey=v;function Cf(t,e){for(let n=0;n<e.length;n++){let r=e[n](t);if(r)return r}return null}let bn=/[.,;\s]/;function vf(t){t=t.getPreviousSibling(),sn.$isElementNode(t)&&(t=t.getLastDescendant());var e;return!(e=t===null||sn.$isLineBreakNode(t))&&(e=sn.$isTextNode(t))&&(t=t.getTextContent(),e=bn.test(t[t.length-1])),e}function Tf(t){return t=t.getNextSibling(),sn.$isElementNode(t)&&(t=t.getFirstDescendant()),t===null||sn.$isLineBreakNode(t)||sn.$isTextNode(t)&&bn.test(t.getTextContent()[0])}function Os(t,e,n){var r=t.getChildren();let i=r.length;for(let o=0;o<i;o++){let s=r[o];if(!sn.$isTextNode(s)||!s.isSimpleText()){Zi(t),n(null,t.getURL());return}}r=t.getTextContent(),e=Cf(r,e),e===null||e.text!==r?(Zi(t),n(null,t.getURL())):vf(t)&&Tf(t)?(r=t.getURL(),r!==e.url&&(t.setURL(e.url),n(e.url,r)),e.attributes&&(r=t.getRel(),r!==e.attributes.rel&&(t.setRel(e.attributes.rel||null),n(e.attributes.rel||null,r)),r=t.getTarget(),r!==e.attributes.target&&(t.setTarget(e.attributes.target||null),n(e.attributes.target||null,r)))):(Zi(t),n(null,t.getURL()))}function Zi(t){let e=t.getChildren();var n=e.length;for(--n;0<=n;n--)t.insertAfter(e[n]);return t.remove(),e.map(r=>r.getLatest())}function Ny(t,e,n){Ey.useEffect(()=>{if(!t.hasNodes([kn.AutoLinkNode]))throw Error("Minified Lexical error #77; visit https://lexical.dev/docs/error?code=77 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");let r=(i,o)=>{n&&n(i,o)};return yy.mergeRegister(t.registerNodeTransform(sn.TextNode,i=>{var o=i.getParentOrThrow(),s=i.getPreviousSibling();if(kn.$isAutoLinkNode(o))Os(o,e,r);else if(!kn.$isLinkNode(o)){if(i.isSimpleText()&&(bn.test(i.getTextContent()[0])||!kn.$isAutoLinkNode(s))){s=o=i.getTextContent();let f=0,h=i;for(var l;(l=Cf(s,e))&&l!==null;){let p=l.index,E=l.length,x=p+E;var a=f+p,c=f+x,g=o,d=i;if((0<a?bn.test(g[a-1]):vf(d))&&(c<g.length?bn.test(g[c]):Tf(d))){var u=void 0;f+p===0?[u,h]=h.splitText(f+E):[,u,h]=h.splitText(f+p,f+p+E),a=kn.$createAutoLinkNode(l.url,l.attributes),c=sn.$createTextNode(l.text),c.setFormat(u.getFormat()),c.setDetail(u.getDetail()),a.append(c),u.replace(a),n&&n(l.url,null),f=0}else f+=x;s=s.substring(x)}}o=i.getPreviousSibling(),l=i.getNextSibling(),u=i.getTextContent(),kn.$isAutoLinkNode(o)&&!bn.test(u[0])&&(o.append(i),Os(o,e,r),i=o.getURL(),n&&n(null,i)),kn.$isAutoLinkNode(l)&&!bn.test(u[u.length-1])&&(Zi(l),Os(l,e,r),i=l.getURL(),n&&n(null,i))}}))},[t,e,n])}Ra.AutoLinkPlugin=function({matchers:t,onChange:e}){let[n]=_y.useLexicalComposerContext();return Ny(n,t,e),null};Ra.createLinkMatcherWithRegExp=function(t,e=n=>n){return n=>{let r=t.exec(n);return r===null?null:{index:r.index,length:r[0].length,text:r[0],url:e(n)}}};const xy=Ra;var Cy=xy;const vy=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,Ty=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,Sy=[t=>{const e=vy.exec(t);return e&&{index:e.index,length:e[0].length,text:e[0],url:e[0]}},t=>{const e=Ty.exec(t);return e&&{index:e.index,length:e[0].length,text:e[0],url:`mailto:${e[0]}`}}];function Ay(){return y.jsx(Cy.AutoLinkPlugin,{matchers:Sy})}const Qi=1,Ry=new Set(["paragraph","quote","code","h1","h2","ul","ol"]),wy={code:"Code Block",h1:"Large Heading",h2:"Small Heading",h3:"Heading",h4:"Heading",h5:"Heading",ol:"Numbered List",paragraph:"Normal",quote:"Quote",ul:"Bulleted List"},ac=v.memo(()=>y.jsx("div",{className:"divider"}));function uc(t,e){e?(t.style.opacity="1",t.style.top=`${e.top+e.height+window.pageYOffset+10}px`,t.style.left=`${e.left+window.pageXOffset-t.offsetWidth/2+e.width/2}px`):(t.style.opacity="0",t.style.top="-1000px",t.style.left="-1000px")}const Oy=v.memo(({editor:t})=>{const e=v.useRef(null),n=v.useRef(null),r=v.useRef(!1),[i,o]=v.useState(""),[s,l]=v.useState(!1),[a,c]=v.useState(null),g=v.useCallback(()=>{const u=G.$getSelection();if(G.$isRangeSelection(u)){const x=Sf(u),m=x.getParent();Ct.$isLinkNode(m)?o(m.getURL()):Ct.$isLinkNode(x)?o(x.getURL()):o("")}const f=e.current,h=window.getSelection(),p=document.activeElement;if(f===null)return;const E=t.getRootElement();if(u!==null&&!h?.isCollapsed&&E!==null&&E.contains(h?.anchorNode)){const x=h?.getRangeAt(0);let m;if(h?.anchorNode===E){let _=E;for(;_.firstElementChild!=null;)_=_.firstElementChild;m=_.getBoundingClientRect()}else m=x?.getBoundingClientRect();r.current||uc(f,m),c(u)}else(!p||p.className!=="link-input")&&(uc(f,void 0),c(null),l(!1),o(""));return!0},[t]);v.useEffect(()=>tt.mergeRegister(t.registerUpdateListener(({editorState:u})=>{u.read(()=>{g()})}),t.registerCommand(G.SELECTION_CHANGE_COMMAND,()=>(g(),!0),Qi)),[t,g]),v.useEffect(()=>{t.getEditorState().read(()=>{g()})},[t,g]),v.useEffect(()=>{s&&n.current&&n.current.focus()},[s]);const d=v.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer"},i);return y.jsx("div",{ref:e,className:"link-editor",children:s?y.jsx("input",{ref:n,className:"link-input",value:i,onChange:u=>{o(u.target.value)},onKeyDown:u=>{u.key==="Enter"?(u.preventDefault(),a!==null&&(i!==""&&t.dispatchCommand(Ct.TOGGLE_LINK_COMMAND,i),l(!1))):u.key==="Escape"&&(u.preventDefault(),l(!1))}}):y.jsx(y.Fragment,{children:y.jsxs("div",{className:"link-input",children:[d,y.jsx("div",{className:"link-edit",role:"button",tabIndex:0,onMouseDown:u=>u.preventDefault(),onClick:()=>{l(!0)}})]})})})}),$y=v.memo(({onChange:t,className:e,options:n,value:r})=>y.jsxs("select",{className:e,onChange:t,value:r,children:[y.jsx("option",{hidden:!0,value:""}),n.map(i=>y.jsx("option",{value:i,children:i},i))]}));function Sf(t){const e=t.anchor,n=t.focus,r=t.anchor.getNode(),i=t.focus.getNode();return r===i?r:t.isBackward()?xt.$isAtNodeEnd(n)?r:i:xt.$isAtNodeEnd(e)?i:r}const Dy=v.memo(({editor:t,blockType:e,toolbarRef:n,setShowBlockOptionsDropDown:r})=>{const i=v.useRef(null);v.useEffect(()=>{const u=i.current,f=n.current;if(u!==null&&f!==null){const h=p=>{const E=p.target;!u.contains(E)&&!f.contains(E)&&r(!1)};return document.addEventListener("click",h),()=>{document.removeEventListener("click",h)}}},[i,r,n]);const o=()=>{e!=="paragraph"&&t.update(()=>{const u=G.$getSelection();G.$isRangeSelection(u)&&xt.$wrapNodes(u,()=>G.$createParagraphNode())}),r(!1)},s=()=>{e!=="h1"&&t.update(()=>{const u=G.$getSelection();G.$isRangeSelection(u)&&xt.$wrapNodes(u,()=>Nn.$createHeadingNode("h1"))}),r(!1)},l=()=>{e!=="h2"&&t.update(()=>{const u=G.$getSelection();G.$isRangeSelection(u)&&xt.$wrapNodes(u,()=>Nn.$createHeadingNode("h2"))}),r(!1)},a=()=>{e!=="ul"?t.dispatchCommand(rn.INSERT_UNORDERED_LIST_COMMAND,void 0):t.dispatchCommand(rn.REMOVE_LIST_COMMAND,void 0),r(!1)},c=()=>{e!=="ol"?t.dispatchCommand(rn.INSERT_ORDERED_LIST_COMMAND,void 0):t.dispatchCommand(rn.REMOVE_LIST_COMMAND,void 0),r(!1)},g=()=>{e!=="quote"&&t.update(()=>{const u=G.$getSelection();G.$isRangeSelection(u)&&xt.$wrapNodes(u,()=>Nn.$createQuoteNode())}),r(!1)},d=()=>{e!=="code"&&t.update(()=>{const u=G.$getSelection();G.$isRangeSelection(u)&&xt.$wrapNodes(u,()=>on.$createCodeNode())}),r(!1)};return y.jsxs("div",{className:"dropdown",ref:i,children:[y.jsxs("button",{className:"item",onClick:o,children:[y.jsx(zc,{className:"icon",size:20}),y.jsx("span",{className:"text",children:"Normal"}),e==="paragraph"&&y.jsx("span",{className:"active"})]}),y.jsxs("button",{className:"item",onClick:s,children:[y.jsx(Ic,{className:"icon",size:20}),y.jsx("span",{className:"text",children:"Large Heading"}),e==="h1"&&y.jsx("span",{className:"active"})]}),y.jsxs("button",{className:"item",onClick:l,children:[y.jsx(bc,{className:"icon",size:20}),y.jsx("span",{className:"text",children:"Small Heading"}),e==="h2"&&y.jsx("span",{className:"active"})]}),y.jsxs("button",{className:"item",onClick:a,children:[y.jsx(Fc,{className:"icon",size:20}),y.jsx("span",{className:"text",children:"Bullet List"}),e==="ul"&&y.jsx("span",{className:"active"})]}),y.jsxs("button",{className:"item",onClick:c,children:[y.jsx(Pc,{className:"icon",size:20}),y.jsx("span",{className:"text",children:"Numbered List"}),e==="ol"&&y.jsx("span",{className:"active"})]}),y.jsxs("button",{className:"item",onClick:g,children:[y.jsx(Bc,{className:"icon",size:20}),y.jsx("span",{className:"text",children:"Quote"}),e==="quote"&&y.jsx("span",{className:"active"})]}),y.jsxs("button",{className:"item",onClick:d,children:[y.jsx(Gs,{className:"icon",size:20}),y.jsx("span",{className:"text",children:"Code Block"}),e==="code"&&y.jsx("span",{className:"active"})]})]})}),ky=v.memo(()=>{const[t]=pt.useLexicalComposerContext(),e=v.useRef(null),[n,r]=v.useState(!1),[i,o]=v.useState(!1),[s,l]=v.useState("paragraph"),[a,c]=v.useState(null),[g,d]=v.useState(!1),[u,f]=v.useState(""),[h,p]=v.useState(!1),[E,x]=v.useState(!1),[m,_]=v.useState(!1),[S,R]=v.useState(!1),[A,k]=v.useState(!1),[H,M]=v.useState(!1),[X,te]=v.useState(!1),se=v.useCallback(()=>{const b=G.$getSelection();if(G.$isRangeSelection(b)){const q=b.anchor.getNode(),Y=q.getKey()==="root"?q:q.getTopLevelElementOrThrow(),Se=Y.getKey();if(t.getElementByKey(Se)!==null)if(c(Se),rn.$isListNode(Y)){const Ge=tt.$getNearestNodeOfType(q,rn.ListNode),ot=Ge?Ge.getTag():Y.getTag();l(ot)}else{const Ge=Nn.$isHeadingNode(Y)?Y.getTag():Y.getType();l(Ge),on.$isCodeNode(Y)&&f(Y.getLanguage()||on.getDefaultCodeLanguage())}_(b.hasFormat("bold")),R(b.hasFormat("italic")),k(b.hasFormat("underline")),M(b.hasFormat("strikethrough")),te(b.hasFormat("code")),p(xt.$isParentElementRTL(b));const ye=Sf(b),Ae=ye.getParent();Ct.$isLinkNode(Ae)||Ct.$isLinkNode(ye)?x(!0):x(!1)}},[t]);v.useEffect(()=>tt.mergeRegister(t.registerUpdateListener(({editorState:b})=>{b.read(()=>{se()})}),t.registerCommand(G.SELECTION_CHANGE_COMMAND,(b,q)=>(se(),!1),Qi),t.registerCommand(G.CAN_UNDO_COMMAND,b=>(r(b),!1),Qi),t.registerCommand(G.CAN_REDO_COMMAND,b=>(o(b),!1),Qi)),[t,se]);const it=v.useMemo(()=>on.getCodeLanguages(),[]),ct=v.useCallback(b=>{t.update(()=>{if(a!==null){const q=G.$getNodeByKey(a);on.$isCodeNode(q)&&q.setLanguage(b.target.value)}})},[t,a]),dt=v.useCallback(()=>{E?t.dispatchCommand(Ct.TOGGLE_LINK_COMMAND,null):t.dispatchCommand(Ct.TOGGLE_LINK_COMMAND,"https://")},[t,E]),[Ke,_e]=v.useState(null);return v.useEffect(()=>{const b=document.getElementsByClassName("editor-container")[0],q=document.createElement("div");return b.prepend(q),_e(q),()=>{b.removeChild(q)}},[]),y.jsxs("div",{className:"toolbar",ref:e,children:[y.jsx("button",{disabled:!n,onClick:()=>{t.dispatchCommand(G.UNDO_COMMAND,void 0)},className:"toolbar-item spaced","aria-label":"Undo",children:y.jsx(up,{className:"format",size:20})}),y.jsx("button",{disabled:!i,onClick:()=>{t.dispatchCommand(G.REDO_COMMAND,void 0)},className:"toolbar-item","aria-label":"Redo",children:y.jsx(ip,{className:"format",size:20})}),y.jsx(ac,{}),Ry.has(s)&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{className:"toolbar-item block-controls",onClick:()=>d(!g),"aria-label":"Formatting Options",children:[s==="h1"?y.jsx(Ic,{className:"icon",size:20}):s==="h2"?y.jsx(bc,{className:"icon",size:20}):s==="h3"?y.jsx(Qh,{className:"icon",size:20}):s==="h4"?y.jsx(ep,{className:"icon",size:20}):s==="h5"?y.jsx(tp,{className:"icon",size:20}):s==="code"?y.jsx(Gs,{className:"icon",size:20}):s==="paragraph"?y.jsx(zc,{className:"icon",size:20}):s==="ol"?y.jsx(Pc,{className:"icon",size:20}):s==="ul"?y.jsx(Fc,{className:"icon",size:20}):s==="quote"?y.jsx(Bc,{className:"icon",size:20}):y.jsx(y.Fragment,{}),y.jsx("span",{className:"text",children:wy[s]}),y.jsx(Mc,{size:20})]}),g&&Us.createPortal(y.jsx(Dy,{editor:t,blockType:s,toolbarRef:e,setShowBlockOptionsDropDown:d}),Ke),y.jsx(ac,{})]}),s==="code"?y.jsxs(y.Fragment,{children:[y.jsx($y,{className:"toolbar-item code-language",onChange:ct,options:it,value:u}),y.jsx("i",{className:"chevron-down inside"})]}):y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>{t.dispatchCommand(G.FORMAT_TEXT_COMMAND,"bold")},className:"toolbar-item spaced "+(m?"active":""),"aria-label":"Format Bold",children:y.jsx(qh,{className:"format",size:20})}),y.jsx("button",{onClick:()=>{t.dispatchCommand(G.FORMAT_TEXT_COMMAND,"italic")},className:"toolbar-item spaced "+(S?"active":""),"aria-label":"Format Italics",children:y.jsx(np,{className:"format",size:20})}),y.jsx("button",{onClick:()=>{t.dispatchCommand(G.FORMAT_TEXT_COMMAND,"underline")},className:"toolbar-item spaced "+(A?"active":""),"aria-label":"Format Underline",children:y.jsx(ap,{className:"format",size:20})}),y.jsx("button",{onClick:()=>{t.dispatchCommand(G.FORMAT_TEXT_COMMAND,"strikethrough")},className:"toolbar-item spaced "+(H?"active":""),"aria-label":"Format Strikethrough",children:y.jsx(lp,{className:"format",size:20})}),y.jsx("button",{onClick:()=>{t.dispatchCommand(G.FORMAT_TEXT_COMMAND,"code")},className:"toolbar-item spaced "+(X?"active":""),"aria-label":"Insert Code",children:y.jsx(Gs,{className:"format",size:20})}),y.jsx("button",{onClick:dt,className:"toolbar-item spaced "+(E?"active":""),"aria-label":"Insert Link",children:y.jsx(rp,{className:"format",size:20})}),E&&Us.createPortal(y.jsx(Oy,{editor:t}),document.body)," "]})]})});function Ly(){const[t]=pt.useLexicalComposerContext();return v.useEffect(()=>on.registerCodeHighlighting(t),[t]),null}const My={ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph",quote:"editor-quote",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3",h4:"editor-heading-h4",h5:"editor-heading-h5"},list:{nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul",listitem:"editor-listitem"},image:"editor-image",link:"editor-link",text:{bold:"editor-text-bold",italic:"editor-text-italic",overflowed:"editor-text-overflowed",hashtag:"editor-text-hashtag",underline:"editor-text-underline",strikethrough:"editor-text-strikethrough",underlineStrikethrough:"editor-text-underlineStrikethrough",code:"editor-text-code"},code:"editor-code",codeHighlight:{atrule:"editor-tokenAttr",attr:"editor-tokenAttr",boolean:"editor-tokenProperty",builtin:"editor-tokenSelector",cdata:"editor-tokenComment",char:"editor-tokenSelector",class:"editor-tokenFunction","class-name":"editor-tokenFunction",comment:"editor-tokenComment",constant:"editor-tokenProperty",deleted:"editor-tokenProperty",doctype:"editor-tokenComment",entity:"editor-tokenOperator",function:"editor-tokenFunction",important:"editor-tokenVariable",inserted:"editor-tokenSelector",keyword:"editor-tokenAttr",namespace:"editor-tokenVariable",number:"editor-tokenProperty",operator:"editor-tokenOperator",prolog:"editor-tokenComment",property:"editor-tokenProperty",punctuation:"editor-tokenPunctuation",regex:"editor-tokenVariable",selector:"editor-tokenSelector",string:"editor-tokenSelector",symbol:"editor-tokenProperty",tag:"editor-tokenProperty",url:"editor-tokenOperator",variable:"editor-tokenVariable"}};function Iy(){return y.jsx("div",{className:"editor-placeholder",id:"editor-placeholder",children:"Enter message..."})}const by=v.memo(({namespace:t,onChange:e,onError:n})=>{const r={namespace:t,theme:My,onError:n,nodes:[Nn.HeadingNode,rn.ListNode,rn.ListItemNode,Nn.QuoteNode,on.CodeNode,on.CodeHighlightNode,Cs.TableNode,Cs.TableCellNode,Cs.TableRowNode,Ct.AutoLinkNode,Ct.LinkNode]};return y.jsx(nm.LexicalComposer,{initialConfig:r,children:y.jsxs("div",{className:"editor-container flex-1",children:[y.jsx(ky,{}),y.jsxs("div",{className:"editor-inner",children:[y.jsx(Hm.RichTextPlugin,{contentEditable:y.jsx(Ym.ContentEditable,{className:"editor-input",ariaLabelledBy:"editor-placeholder"}),placeholder:y.jsx(Iy,{}),ErrorBoundary:g_}),y.jsx(s_.OnChangePlugin,{onChange:e}),y.jsx(n_.HistoryPlugin,{}),y.jsx(C_.LinkPlugin,{}),y.jsx(Ly,{}),y.jsx(Ay,{}),y.jsx(my.MarkdownShortcutPlugin,{transformers:vo.TRANSFORMERS})]})]})})}),Cl=new Map,Fi=new WeakMap;let cc=0,Py;function Fy(t){return t?(Fi.has(t)||(cc+=1,Fi.set(t,cc.toString())),Fi.get(t)):"0"}function By(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?Fy(t.root):t[e]}`).toString()}function zy(t){let e=By(t),n=Cl.get(e);if(!n){const r=new Map;let i;const o=new IntersectionObserver(s=>{s.forEach(l=>{var a;const c=l.isIntersecting&&i.some(g=>l.intersectionRatio>=g);t.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=c),(a=r.get(l.target))==null||a.forEach(g=>{g(c,l)})})},t);i=o.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:o,elements:r},Cl.set(e,n)}return n}function Uy(t,e,n={},r=Py){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const a=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}const{id:i,observer:o,elements:s}=zy(n);let l=s.get(t)||[];return s.has(t)||s.set(t,l),l.push(e),o.observe(t),function(){l.splice(l.indexOf(e),1),l.length===0&&(s.delete(t),o.unobserve(t)),s.size===0&&(o.disconnect(),Cl.delete(i))}}function jy({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:o,skip:s,initialInView:l,fallbackInView:a,onChange:c}={}){var g;const[d,u]=v.useState(null),f=v.useRef(),[h,p]=v.useState({inView:!!l,entry:void 0});f.current=c,v.useEffect(()=>{if(s||!d)return;let _;return _=Uy(d,(S,R)=>{p({inView:S,entry:R}),f.current&&f.current(S,R),R.isIntersecting&&o&&_&&(_(),_=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},a),()=>{_&&_()}},[Array.isArray(t)?t.toString():t,d,i,r,o,s,n,a,e]);const E=(g=h.entry)==null?void 0:g.target,x=v.useRef();!d&&E&&!o&&!s&&x.current!==E&&(x.current=E,p({inView:!!l,entry:void 0}));const m=[u,h.inView,h.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}const Hy=v.memo(({roomId:t,avatarUrl:e,displayname:n,dm:r=!1,online:i=!1,active:o=!1,onClick:s,hidden:l})=>{const a=v.useContext(Ei),{ref:c,inView:g}=jy({triggerOnce:!0,rootMargin:"200px 0px",skip:l,onChange(d){d?a.addInViewRoom(t):a.removeInViewRoom(t)}});return y.jsx("div",{ref:c,onClick:s,className:"w-full cursor-pointer",children:g&&(o?y.jsxs("div",{className:"flex flex-row gap-2 p-1 bg-gray-300 hover:bg-gray-400 rounded-lg duration-200 ease-in-out items-center",children:[y.jsx(Tr,{avatarUrl:e,displayname:n,dm:r,online:i}),y.jsx("span",{title:n,className:"text-slate-900 font-normal text-base max-w-[32ch] overflow-hidden text-ellipsis w-full whitespace-nowrap",children:n})]}):y.jsxs("div",{className:"flex flex-row gap-2 p-1 hover:bg-gray-300 rounded-lg duration-200 ease-in-out items-center",children:[y.jsx(Tr,{avatarUrl:e,displayname:n,dm:r,online:i}),y.jsx("span",{title:n,className:"text-slate-900 font-normal text-base max-w-[32ch] overflow-hidden text-ellipsis w-full whitespace-nowrap",children:n})]}))})});const Ky=v.memo(({sectionID:t,rooms:e,onClick:n,activeRoom:r,hidden:i})=>{const o=e.map(s=>y.jsx(Hy,{roomId:s.roomID,hidden:i,avatarUrl:s.avatarUrl,displayname:s.displayname,dm:s.dm,online:s.online,active:s.roomID===r,onClick:()=>{n(s.roomID)}},`${s.roomID}+${t}`));return y.jsx(y.Fragment,{children:o})}),vl=v.memo(({section:t,onRoomClick:e,activeRoom:n})=>{const[r,i]=v.useState(!0),o=v.useContext(Ei);return r?o.removeSpaceOpen(t.roomID):o.addSpaceOpen(t.roomID),y.jsxs("div",{className:"flex flex-col gap-1 pl-4 select-none",children:[y.jsxs("div",{className:"flex flex-row gap-2 py-1 items-center justify-start cursor-pointer h-8 text-slate-600",onClick:()=>i(s=>!s),children:[r?y.jsx(Zh,{size:14}):y.jsx(Mc,{size:14}),y.jsx("span",{className:"font-normal text-base capitalize max-w-[32ch] overflow-hidden text-ellipsis w-full whitespace-nowrap",children:t.sectionName})]}),!r&&y.jsx(Ky,{hidden:r,sectionID:t.roomID,rooms:t.rooms,onClick:e,activeRoom:n}),!r&&t.subsections.map(s=>y.jsx(vl,{section:s,onRoomClick:e,activeRoom:n},s.roomID))]},t.roomID)}),Wy=v.memo(({sections:t,rooms:e})=>{const[n,r]=v.useState(void 0),i=kc();return y.jsxs("div",{className:"flex flex-col gap-1 flex-1 p-2 min-w-[30ch] overflow-y-auto overflow-x-hidden scrollbarSmall max-w-[33ch]",children:[t.map(o=>y.jsx(vl,{section:o,onRoomClick:s=>{r(s),i(`/${encodeURIComponent(s)}`)},activeRoom:n},o.roomID)),y.jsx(vl,{section:{sectionName:"Others",roomID:"other",subsections:[],rooms:e},onRoomClick:o=>{r(o),i(`/${encodeURIComponent(o)}`)},activeRoom:n})]})});const Gy="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Yy="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Zn=(t,e)=>{for(const n in e)t[n]=e[n];return t},Tl="numeric",Sl="ascii",Al="alpha",eo="asciinumeric",Bi="alphanumeric",Rl="domain",Af="emoji",Vy="scheme",Xy="slashscheme",dc="whitespace";function Jy(t,e){return t in e||(e[t]=[]),e[t]}function Bn(t,e,n){e[Tl]&&(e[eo]=!0,e[Bi]=!0),e[Sl]&&(e[eo]=!0,e[Al]=!0),e[eo]&&(e[Bi]=!0),e[Al]&&(e[Bi]=!0),e[Bi]&&(e[Rl]=!0),e[Af]&&(e[Rl]=!0);for(const r in e){const i=Jy(r,n);i.indexOf(t)<0&&i.push(t)}}function qy(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function ft(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}ft.groups={};ft.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(t))return o}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||ft.groups;let i;return e&&e.j?i=e:(i=new ft(e),n&&r&&Bn(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const o=t.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(t[s]);return i.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||ft.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let s,l=i.go(t);if(l?(s=new ft,Zn(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new ft,o){if(r)if(s.t&&typeof s.t=="string"){const a=Zn(qy(s.t,r),n);Bn(o,a,r)}else n&&Bn(o,n,r);s.t=o}return i.j[t]=s,s}};const z=(t,e,n,r,i)=>t.ta(e,n,r,i),yt=(t,e,n,r,i)=>t.tr(e,n,r,i),gc=(t,e,n,r,i)=>t.ts(e,n,r,i),D=(t,e,n,r,i)=>t.tt(e,n,r,i),en="WORD",wl="UWORD",yi="LOCALHOST",Ol="TLD",$l="UTLD",to="SCHEME",dr="SLASH_SCHEME",wa="NUM",Rf="WS",Oa="NL",pr="OPENBRACE",ei="OPENBRACKET",ti="OPENANGLEBRACKET",ni="OPENPAREN",Pn="CLOSEBRACE",mr="CLOSEBRACKET",_r="CLOSEANGLEBRACKET",Fn="CLOSEPAREN",To="AMPERSAND",So="APOSTROPHE",Ao="ASTERISK",hn="AT",Ro="BACKSLASH",wo="BACKTICK",Oo="CARET",pn="COLON",$a="COMMA",$o="DOLLAR",Pt="DOT",Do="EQUALS",Da="EXCLAMATION",Ft="HYPHEN",ko="PERCENT",Lo="PIPE",Mo="PLUS",Io="POUND",bo="QUERY",ka="QUOTE",La="SEMI",Bt="SLASH",ri="TILDE",Po="UNDERSCORE",wf="EMOJI",Fo="SYM";var Of=Object.freeze({__proto__:null,WORD:en,UWORD:wl,LOCALHOST:yi,TLD:Ol,UTLD:$l,SCHEME:to,SLASH_SCHEME:dr,NUM:wa,WS:Rf,NL:Oa,OPENBRACE:pr,OPENBRACKET:ei,OPENANGLEBRACKET:ti,OPENPAREN:ni,CLOSEBRACE:Pn,CLOSEBRACKET:mr,CLOSEANGLEBRACKET:_r,CLOSEPAREN:Fn,AMPERSAND:To,APOSTROPHE:So,ASTERISK:Ao,AT:hn,BACKSLASH:Ro,BACKTICK:wo,CARET:Oo,COLON:pn,COMMA:$a,DOLLAR:$o,DOT:Pt,EQUALS:Do,EXCLAMATION:Da,HYPHEN:Ft,PERCENT:ko,PIPE:Lo,PLUS:Mo,POUND:Io,QUERY:bo,QUOTE:ka,SEMI:La,SLASH:Bt,TILDE:ri,UNDERSCORE:Po,EMOJI:wf,SYM:Fo});const ar=/[a-z]/,$s=/\p{L}/u,Ds=/\p{Emoji}/u,ks=/\d/,fc=/\s/,hc=`
`,Zy="️",Qy="‍";let zi=null,Ui=null;function eE(t){t===void 0&&(t=[]);const e={};ft.groups=e;const n=new ft;zi==null&&(zi=pc(Gy)),Ui==null&&(Ui=pc(Yy)),D(n,"'",So),D(n,"{",pr),D(n,"[",ei),D(n,"<",ti),D(n,"(",ni),D(n,"}",Pn),D(n,"]",mr),D(n,">",_r),D(n,")",Fn),D(n,"&",To),D(n,"*",Ao),D(n,"@",hn),D(n,"`",wo),D(n,"^",Oo),D(n,":",pn),D(n,",",$a),D(n,"$",$o),D(n,".",Pt),D(n,"=",Do),D(n,"!",Da),D(n,"-",Ft),D(n,"%",ko),D(n,"|",Lo),D(n,"+",Mo),D(n,"#",Io),D(n,"?",bo),D(n,'"',ka),D(n,"/",Bt),D(n,";",La),D(n,"~",ri),D(n,"_",Po),D(n,"\\",Ro);const r=yt(n,ks,wa,{[Tl]:!0});yt(r,ks,r);const i=yt(n,ar,en,{[Sl]:!0});yt(i,ar,i);const o=yt(n,$s,wl,{[Al]:!0});yt(o,ar),yt(o,$s,o);const s=yt(n,fc,Rf,{[dc]:!0});D(n,hc,Oa,{[dc]:!0}),D(s,hc),yt(s,fc,s);const l=yt(n,Ds,wf,{[Af]:!0});yt(l,Ds,l),D(l,Zy,l);const a=D(l,Qy);yt(a,Ds,l);const c=[[ar,i]],g=[[ar,null],[$s,o]];for(let d=0;d<zi.length;d++)gn(n,zi[d],Ol,en,c);for(let d=0;d<Ui.length;d++)gn(n,Ui[d],$l,wl,g);Bn(Ol,{tld:!0,ascii:!0},e),Bn($l,{utld:!0,alpha:!0},e),gn(n,"file",to,en,c),gn(n,"mailto",to,en,c),gn(n,"http",dr,en,c),gn(n,"https",dr,en,c),gn(n,"ftp",dr,en,c),gn(n,"ftps",dr,en,c),Bn(to,{scheme:!0,ascii:!0},e),Bn(dr,{slashscheme:!0,ascii:!0},e),t=t.sort((d,u)=>d[0]>u[0]?1:-1);for(let d=0;d<t.length;d++){const u=t[d][0],h=t[d][1]?{[Vy]:!0}:{[Xy]:!0};u.indexOf("-")>=0?h[Rl]=!0:ar.test(u)?ks.test(u)?h[eo]=!0:h[Sl]=!0:h[Tl]=!0,gc(n,u,u,h)}return gc(n,"localhost",yi,{ascii:!0}),n.jd=new ft(Fo),{start:n,tokens:Zn({groups:e},Of)}}function tE(t,e){const n=nE(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let o=0,s=0;for(;s<r;){let l=t,a=null,c=0,g=null,d=-1,u=-1;for(;s<r&&(a=l.go(n[s]));)l=a,l.accepts()?(d=0,u=0,g=l):d>=0&&(d+=n[s].length,u++),c+=n[s].length,o+=n[s].length,s++;o-=d,s-=u,c-=d,i.push({t:g.t,v:e.slice(o-c,o),s:o-c,e:o})}return i}function nE(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),o,s=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}function gn(t,e,n,r,i){let o;const s=e.length;for(let l=0;l<s-1;l++){const a=e[l];t.j[a]?o=t.j[a]:(o=new ft(r),o.jr=i.slice(),t.j[a]=o),t=o}return o=new ft(n),o.jr=i.slice(),t.j[e[s-1]]=o,o}function pc(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let o=0;for(;i.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let s=parseInt(t.substring(r,r+o),10);s>0;s--)n.pop();r+=o}else n.push(t[r]),r++}return e}const Rr={defaultProtocol:"http",events:null,format:mc,formatHref:mc,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ts(t,e){e===void 0&&(e=null);let n=Zn({},Rr);t&&(n=Zn(n,t instanceof ts?t.o:t));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}ts.prototype={o:Rr,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Rr[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function mc(t){return t}var $f=Object.freeze({__proto__:null,defaults:Rr,Options:ts,assign:Zn});function Df(t,e){this.t="token",this.v=t,this.tk=e}Df.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=Rr.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),s={},l=t.get("className",n,e),a=t.get("target",n,e),c=t.get("rel",n,e),g=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return s.href=r,l&&(s.class=l),a&&(s.target=a),c&&(s.rel=c),g&&Zn(s,g),{tagName:i,attributes:s,content:o,eventListeners:d}}};function ns(t,e){class n extends Df{constructor(i,o){super(i,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const _c=ns("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),yc=ns("text"),rE=ns("nl"),Ln=ns("url",{isLink:!0,toHref(t){return t===void 0&&(t=Rr.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==yi&&t[1].t===pn}}),$e=t=>new ft(t);function iE(t){let{groups:e}=t;const n=e.domain.concat([To,Ao,hn,Ro,wo,Oo,$o,Do,Ft,wa,ko,Lo,Mo,Io,Bt,Fo,ri,Po]),r=[So,_r,Pn,mr,Fn,pn,$a,Pt,Da,ti,pr,ei,ni,bo,ka,La],i=[To,So,Ao,Ro,wo,Oo,Pn,$o,Do,Ft,pr,ko,Lo,Mo,Io,bo,Bt,Fo,ri,Po],o=$e(),s=D(o,ri);z(s,i,s),z(s,e.domain,s);const l=$e(),a=$e(),c=$e();z(o,e.domain,l),z(o,e.scheme,a),z(o,e.slashscheme,c),z(l,i,s),z(l,e.domain,l);const g=D(l,hn);D(s,hn,g),D(a,hn,g),D(c,hn,g);const d=D(s,Pt);z(d,i,s),z(d,e.domain,s);const u=$e();z(g,e.domain,u),z(u,e.domain,u);const f=D(u,Pt);z(f,e.domain,u);const h=$e(_c);z(f,e.tld,h),z(f,e.utld,h),D(g,yi,h);const p=D(u,Ft);z(p,e.domain,u),z(h,e.domain,u),D(h,Pt,f),D(h,Ft,p);const E=D(h,pn);z(E,e.numeric,_c);const x=D(l,Ft),m=D(l,Pt);z(x,e.domain,l),z(m,i,s),z(m,e.domain,l);const _=$e(Ln);z(m,e.tld,_),z(m,e.utld,_),z(_,e.domain,l),z(_,i,s),D(_,Pt,m),D(_,Ft,x),D(_,hn,g);const S=D(_,pn),R=$e(Ln);z(S,e.numeric,R);const A=$e(Ln),k=$e();z(A,n,A),z(A,r,k),z(k,n,A),z(k,r,k),D(_,Bt,A),D(R,Bt,A);const H=D(a,pn),M=D(c,pn),X=D(M,Bt),te=D(X,Bt);z(a,e.domain,l),D(a,Pt,m),D(a,Ft,x),z(c,e.domain,l),D(c,Pt,m),D(c,Ft,x),z(H,e.domain,A),D(H,Bt,A),z(te,e.domain,A),z(te,n,A),D(te,Bt,A);const se=D(A,pr),it=D(A,ei),ct=D(A,ti),dt=D(A,ni);D(k,pr,se),D(k,ei,it),D(k,ti,ct),D(k,ni,dt),D(se,Pn,A),D(it,mr,A),D(ct,_r,A),D(dt,Fn,A),D(se,Pn,A);const Ke=$e(Ln),_e=$e(Ln),b=$e(Ln),q=$e(Ln);z(se,n,Ke),z(it,n,_e),z(ct,n,b),z(dt,n,q);const Y=$e(),Se=$e(),K=$e(),ye=$e();return z(se,r),z(it,r),z(ct,r),z(dt,r),z(Ke,n,Ke),z(_e,n,_e),z(b,n,b),z(q,n,q),z(Ke,r,Ke),z(_e,r,_e),z(b,r,b),z(q,r,q),z(Y,n,Y),z(Se,n,_e),z(K,n,b),z(ye,n,q),z(Y,r,Y),z(Se,r,Se),z(K,r,K),z(ye,r,ye),D(_e,mr,A),D(b,_r,A),D(q,Fn,A),D(Ke,Pn,A),D(Se,mr,A),D(K,_r,A),D(ye,Fn,A),D(Y,Fn,A),D(o,yi,_),D(o,Oa,rE),{start:o,tokens:Of}}function oE(t,e,n){let r=n.length,i=0,o=[],s=[];for(;i<r;){let l=t,a=null,c=null,g=0,d=null,u=-1;for(;i<r&&!(a=l.go(n[i].t));)s.push(n[i++]);for(;i<r&&(c=a||l.go(n[i].t));)a=null,l=c,l.accepts()?(u=0,d=l):u>=0&&u++,i++,g++;if(u<0)i-=g,i<r&&(s.push(n[i]),i++);else{s.length>0&&(o.push(Ls(yc,e,s)),s=[]),i-=u,g-=u;const f=d.t,h=n.slice(i-g,i);o.push(Ls(f,e,h))}}return s.length>0&&o.push(Ls(yc,e,s)),o}function Ls(t,e,n){const r=n[0].s,i=n[n.length-1].e,o=e.slice(r,i);return new t(o,n)}const Xe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function sE(){Xe.scanner=eE(Xe.customSchemes);for(let t=0;t<Xe.tokenQueue.length;t++)Xe.tokenQueue[t][1]({scanner:Xe.scanner});Xe.parser=iE(Xe.scanner.tokens);for(let t=0;t<Xe.pluginQueue.length;t++)Xe.pluginQueue[t][1]({scanner:Xe.scanner,parser:Xe.parser});Xe.initialized=!0}function lE(t){return Xe.initialized||sE(),oE(Xe.parser.start,t,tE(Xe.scanner.start,t))}function aE(t,e,n){const r=lE(t),i=[];for(let o=0;o<r.length;o++){const s=r[o];if(s.t==="nl"&&e.get("nl2br")){const l=`__linkify-el-${n.elementId++}`;i.push(v.createElement("br",{key:l}))}else if(!s.isLink||!e.check(s))i.push(s.toString());else{let l=e.render(s);if(!("key"in l.props)){const a=`__linkify-el-${n.elementId++}`,c=$f.assign({key:a},l.props);l=v.cloneElement(l,c)}i.push(l)}}return i}function kf(t,e,n){if(v.Children.count(t.props.children)===0)return t;const r=[];v.Children.forEach(t.props.children,s=>{typeof s=="string"?r.push.apply(r,aE(s,e,n)):v.isValidElement(s)?typeof s.type=="string"&&e.ignoreTags.indexOf(s.type.toUpperCase())>=0?r.push(s):r.push(kf(s,e,n)):r.push(s)});const i=`__linkify-el-${n.elementId++}`,o=$f.assign({key:i},t.props);return v.cloneElement(t,o,r)}const uE=t=>{let e=0;const n=a=>{let{tagName:c,attributes:g,content:d}=a;return g.key=`__linkify-lnk-${e++}`,g.class&&(g.className=g.class,delete g.class),v.createElement(c,g,d)},r={key:"__linkify-wrapper"};for(const a in t)a!=="options"&&a!=="as"&&a!=="tagName"&&a!=="children"&&(r[a]=t[a]);const i=new ts(t.options,n),o=t.as||t.tagName||v.Fragment||"span",s=t.children,l=v.createElement(o,r,s);return kf(l,i,{elementId:0})};/*! @license DOMPurify 3.0.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.2/LICENSE */const{entries:Lf,setPrototypeOf:Ec,isFrozen:cE,getPrototypeOf:dE,getOwnPropertyDescriptor:gE}=Object;let{freeze:nt,seal:kt,create:fE}=Object,{apply:Dl,construct:kl}=typeof Reflect<"u"&&Reflect;Dl||(Dl=function(e,n,r){return e.apply(n,r)});nt||(nt=function(e){return e});kt||(kt=function(e){return e});kl||(kl=function(e,n){return new e(...n)});const hE=St(Array.prototype.forEach),Nc=St(Array.prototype.pop),Br=St(Array.prototype.push),no=St(String.prototype.toLowerCase),Ms=St(String.prototype.toString),pE=St(String.prototype.match),$t=St(String.prototype.replace),mE=St(String.prototype.indexOf),_E=St(String.prototype.trim),gt=St(RegExp.prototype.test),Is=yE(TypeError);function St(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Dl(t,e,r)}}function yE(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return kl(t,n)}}function J(t,e,n){n=n||no,Ec&&Ec(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(cE(e)||(e[r]=o),i=o)}t[i]=!0}return t}function ur(t){const e=fE(null);for(const[n,r]of Lf(t))e[n]=r;return e}function ji(t,e){for(;t!==null;){const r=gE(t,e);if(r){if(r.get)return St(r.get);if(typeof r.value=="function")return St(r.value)}t=dE(t)}function n(r){return console.warn("fallback value for",r),null}return n}const xc=nt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),bs=nt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ps=nt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),EE=nt(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Fs=nt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),NE=nt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Cc=nt(["#text"]),vc=nt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Bs=nt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Tc=nt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Hi=nt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),xE=kt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),CE=kt(/<%[\w\W]*|[\w\W]*%>/gm),vE=kt(/\${[\w\W]*}/gm),TE=kt(/^data-[\-\w.\u00B7-\uFFFF]/),SE=kt(/^aria-[\-\w]+$/),Mf=kt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),AE=kt(/^(?:\w+script|data):/i),RE=kt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),If=kt(/^html$/i);var Sc=Object.freeze({__proto__:null,MUSTACHE_EXPR:xE,ERB_EXPR:CE,TMPLIT_EXPR:vE,DATA_ATTR:TE,ARIA_ATTR:SE,IS_ALLOWED_URI:Mf,IS_SCRIPT_OR_DATA:AE,ATTR_WHITESPACE:RE,DOCTYPE_NAME:If});const wE=()=>typeof window>"u"?null:window,OE=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function bf(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wE();const e=U=>bf(U);if(e.version="3.0.2",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;const n=t.document;let{document:r}=t;const{DocumentFragment:i,HTMLTemplateElement:o,Node:s,Element:l,NodeFilter:a,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:g,DOMParser:d,trustedTypes:u}=t,f=l.prototype,h=ji(f,"cloneNode"),p=ji(f,"nextSibling"),E=ji(f,"childNodes"),x=ji(f,"parentNode");if(typeof o=="function"){const U=r.createElement("template");U.content&&U.content.ownerDocument&&(r=U.content.ownerDocument)}const m=OE(u,n),_=m?m.createHTML(""):"",{implementation:S,createNodeIterator:R,createDocumentFragment:A,getElementsByTagName:k}=r,{importNode:H}=n;let M={};e.isSupported=typeof Lf=="function"&&typeof x=="function"&&S&&typeof S.createHTMLDocument<"u";const{MUSTACHE_EXPR:X,ERB_EXPR:te,TMPLIT_EXPR:se,DATA_ATTR:it,ARIA_ATTR:ct,IS_SCRIPT_OR_DATA:dt,ATTR_WHITESPACE:Ke}=Sc;let{IS_ALLOWED_URI:_e}=Sc,b=null;const q=J({},[...xc,...bs,...Ps,...Fs,...Cc]);let Y=null;const Se=J({},[...vc,...Bs,...Tc,...Hi]);let K=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ye=null,Ae=null,Ge=!0,ot=!0,At=!1,Rt=!0,st=!1,Ee=!1,Lt=!1,Vt=!1,mt=!1,An=!1,Rn=!1,le=!0,Re=!1;const be="user-content-";let lt=!0,wt=!1,xe={},Ce=null;const Ye=J({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ot=null;const Mt=J({},["audio","video","img","source","image","track"]);let Pe=null;const It=J({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xt="http://www.w3.org/1998/Math/MathML",wn="http://www.w3.org/2000/svg",Jt="http://www.w3.org/1999/xhtml";let tr=Jt,rs=!1,is=null;const Pf=J({},[Xt,wn,Jt],Ms);let On;const Ff=["application/xhtml+xml","text/html"],Bf="text/html";let we,nr=null;const zf=r.createElement("form"),Ma=function(N){return N instanceof RegExp||N instanceof Function},os=function(N){nr&&nr===N||((!N||typeof N!="object")&&(N={}),N=ur(N),On=Ff.indexOf(N.PARSER_MEDIA_TYPE)===-1?On=Bf:On=N.PARSER_MEDIA_TYPE,we=On==="application/xhtml+xml"?Ms:no,b="ALLOWED_TAGS"in N?J({},N.ALLOWED_TAGS,we):q,Y="ALLOWED_ATTR"in N?J({},N.ALLOWED_ATTR,we):Se,is="ALLOWED_NAMESPACES"in N?J({},N.ALLOWED_NAMESPACES,Ms):Pf,Pe="ADD_URI_SAFE_ATTR"in N?J(ur(It),N.ADD_URI_SAFE_ATTR,we):It,Ot="ADD_DATA_URI_TAGS"in N?J(ur(Mt),N.ADD_DATA_URI_TAGS,we):Mt,Ce="FORBID_CONTENTS"in N?J({},N.FORBID_CONTENTS,we):Ye,ye="FORBID_TAGS"in N?J({},N.FORBID_TAGS,we):{},Ae="FORBID_ATTR"in N?J({},N.FORBID_ATTR,we):{},xe="USE_PROFILES"in N?N.USE_PROFILES:!1,Ge=N.ALLOW_ARIA_ATTR!==!1,ot=N.ALLOW_DATA_ATTR!==!1,At=N.ALLOW_UNKNOWN_PROTOCOLS||!1,Rt=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,st=N.SAFE_FOR_TEMPLATES||!1,Ee=N.WHOLE_DOCUMENT||!1,mt=N.RETURN_DOM||!1,An=N.RETURN_DOM_FRAGMENT||!1,Rn=N.RETURN_TRUSTED_TYPE||!1,Vt=N.FORCE_BODY||!1,le=N.SANITIZE_DOM!==!1,Re=N.SANITIZE_NAMED_PROPS||!1,lt=N.KEEP_CONTENT!==!1,wt=N.IN_PLACE||!1,_e=N.ALLOWED_URI_REGEXP||Mf,tr=N.NAMESPACE||Jt,K=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&Ma(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(K.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&Ma(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(K.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(K.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),st&&(ot=!1),An&&(mt=!0),xe&&(b=J({},[...Cc]),Y=[],xe.html===!0&&(J(b,xc),J(Y,vc)),xe.svg===!0&&(J(b,bs),J(Y,Bs),J(Y,Hi)),xe.svgFilters===!0&&(J(b,Ps),J(Y,Bs),J(Y,Hi)),xe.mathMl===!0&&(J(b,Fs),J(Y,Tc),J(Y,Hi))),N.ADD_TAGS&&(b===q&&(b=ur(b)),J(b,N.ADD_TAGS,we)),N.ADD_ATTR&&(Y===Se&&(Y=ur(Y)),J(Y,N.ADD_ATTR,we)),N.ADD_URI_SAFE_ATTR&&J(Pe,N.ADD_URI_SAFE_ATTR,we),N.FORBID_CONTENTS&&(Ce===Ye&&(Ce=ur(Ce)),J(Ce,N.FORBID_CONTENTS,we)),lt&&(b["#text"]=!0),Ee&&J(b,["html","head","body"]),b.table&&(J(b,["tbody"]),delete ye.tbody),nt&&nt(N),nr=N)},Ia=J({},["mi","mo","mn","ms","mtext"]),ba=J({},["foreignobject","desc","title","annotation-xml"]),Uf=J({},["title","style","font","a","script"]),wi=J({},bs);J(wi,Ps),J(wi,EE);const ss=J({},Fs);J(ss,NE);const jf=function(N){let $=x(N);(!$||!$.tagName)&&($={namespaceURI:tr,tagName:"template"});const I=no(N.tagName),ie=no($.tagName);return is[N.namespaceURI]?N.namespaceURI===wn?$.namespaceURI===Jt?I==="svg":$.namespaceURI===Xt?I==="svg"&&(ie==="annotation-xml"||Ia[ie]):!!wi[I]:N.namespaceURI===Xt?$.namespaceURI===Jt?I==="math":$.namespaceURI===wn?I==="math"&&ba[ie]:!!ss[I]:N.namespaceURI===Jt?$.namespaceURI===wn&&!ba[ie]||$.namespaceURI===Xt&&!Ia[ie]?!1:!ss[I]&&(Uf[I]||!wi[I]):!!(On==="application/xhtml+xml"&&is[N.namespaceURI]):!1},$n=function(N){Br(e.removed,{element:N});try{N.parentNode.removeChild(N)}catch{N.remove()}},ls=function(N,$){try{Br(e.removed,{attribute:$.getAttributeNode(N),from:$})}catch{Br(e.removed,{attribute:null,from:$})}if($.removeAttribute(N),N==="is"&&!Y[N])if(mt||An)try{$n($)}catch{}else try{$.setAttribute(N,"")}catch{}},Pa=function(N){let $,I;if(Vt)N="<remove></remove>"+N;else{const _t=pE(N,/^[\r\n\t ]+/);I=_t&&_t[0]}On==="application/xhtml+xml"&&tr===Jt&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const ie=m?m.createHTML(N):N;if(tr===Jt)try{$=new d().parseFromString(ie,On)}catch{}if(!$||!$.documentElement){$=S.createDocument(tr,"template",null);try{$.documentElement.innerHTML=rs?_:ie}catch{}}const Oe=$.body||$.documentElement;return N&&I&&Oe.insertBefore(r.createTextNode(I),Oe.childNodes[0]||null),tr===Jt?k.call($,Ee?"html":"body")[0]:Ee?$.documentElement:Oe},Fa=function(N){return R.call(N.ownerDocument||N,N,a.SHOW_ELEMENT|a.SHOW_COMMENT|a.SHOW_TEXT,null,!1)},Hf=function(N){return N instanceof g&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof c)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},Oi=function(N){return typeof s=="object"?N instanceof s:N&&typeof N=="object"&&typeof N.nodeType=="number"&&typeof N.nodeName=="string"},qt=function(N,$,I){M[N]&&hE(M[N],ie=>{ie.call(e,$,I,nr)})},Ba=function(N){let $;if(qt("beforeSanitizeElements",N,null),Hf(N))return $n(N),!0;const I=we(N.nodeName);if(qt("uponSanitizeElement",N,{tagName:I,allowedTags:b}),N.hasChildNodes()&&!Oi(N.firstElementChild)&&(!Oi(N.content)||!Oi(N.content.firstElementChild))&&gt(/<[/\w]/g,N.innerHTML)&&gt(/<[/\w]/g,N.textContent))return $n(N),!0;if(!b[I]||ye[I]){if(!ye[I]&&Ua(I)&&(K.tagNameCheck instanceof RegExp&&gt(K.tagNameCheck,I)||K.tagNameCheck instanceof Function&&K.tagNameCheck(I)))return!1;if(lt&&!Ce[I]){const ie=x(N)||N.parentNode,Oe=E(N)||N.childNodes;if(Oe&&ie){const _t=Oe.length;for(let ge=_t-1;ge>=0;--ge)ie.insertBefore(h(Oe[ge],!0),p(N))}}return $n(N),!0}return N instanceof l&&!jf(N)||(I==="noscript"||I==="noembed")&&gt(/<\/no(script|embed)/i,N.innerHTML)?($n(N),!0):(st&&N.nodeType===3&&($=N.textContent,$=$t($,X," "),$=$t($,te," "),$=$t($,se," "),N.textContent!==$&&(Br(e.removed,{element:N.cloneNode()}),N.textContent=$)),qt("afterSanitizeElements",N,null),!1)},za=function(N,$,I){if(le&&($==="id"||$==="name")&&(I in r||I in zf))return!1;if(!(ot&&!Ae[$]&&gt(it,$))){if(!(Ge&&gt(ct,$))){if(!Y[$]||Ae[$]){if(!(Ua(N)&&(K.tagNameCheck instanceof RegExp&&gt(K.tagNameCheck,N)||K.tagNameCheck instanceof Function&&K.tagNameCheck(N))&&(K.attributeNameCheck instanceof RegExp&&gt(K.attributeNameCheck,$)||K.attributeNameCheck instanceof Function&&K.attributeNameCheck($))||$==="is"&&K.allowCustomizedBuiltInElements&&(K.tagNameCheck instanceof RegExp&&gt(K.tagNameCheck,I)||K.tagNameCheck instanceof Function&&K.tagNameCheck(I))))return!1}else if(!Pe[$]){if(!gt(_e,$t(I,Ke,""))){if(!(($==="src"||$==="xlink:href"||$==="href")&&N!=="script"&&mE(I,"data:")===0&&Ot[N])){if(!(At&&!gt(dt,$t(I,Ke,"")))){if(I)return!1}}}}}}return!0},Ua=function(N){return N.indexOf("-")>0},ja=function(N){let $,I,ie,Oe;qt("beforeSanitizeAttributes",N,null);const{attributes:_t}=N;if(!_t)return;const ge={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y};for(Oe=_t.length;Oe--;){$=_t[Oe];const{name:bt,namespaceURI:as}=$;if(I=bt==="value"?$.value:_E($.value),ie=we(bt),ge.attrName=ie,ge.attrValue=I,ge.keepAttr=!0,ge.forceKeepAttr=void 0,qt("uponSanitizeAttribute",N,ge),I=ge.attrValue,ge.forceKeepAttr||(ls(bt,N),!ge.keepAttr))continue;if(!Rt&&gt(/\/>/i,I)){ls(bt,N);continue}st&&(I=$t(I,X," "),I=$t(I,te," "),I=$t(I,se," "));const Ha=we(N.nodeName);if(za(Ha,ie,I)){if(Re&&(ie==="id"||ie==="name")&&(ls(bt,N),I=be+I),m&&typeof u=="object"&&typeof u.getAttributeType=="function"&&!as)switch(u.getAttributeType(Ha,ie)){case"TrustedHTML":I=m.createHTML(I);break;case"TrustedScriptURL":I=m.createScriptURL(I);break}try{as?N.setAttributeNS(as,bt,I):N.setAttribute(bt,I),Nc(e.removed)}catch{}}}qt("afterSanitizeAttributes",N,null)},Kf=function U(N){let $;const I=Fa(N);for(qt("beforeSanitizeShadowDOM",N,null);$=I.nextNode();)qt("uponSanitizeShadowNode",$,null),!Ba($)&&($.content instanceof i&&U($.content),ja($));qt("afterSanitizeShadowDOM",N,null)};return e.sanitize=function(U){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$,I,ie,Oe;if(rs=!U,rs&&(U="<!-->"),typeof U!="string"&&!Oi(U)){if(typeof U.toString!="function")throw Is("toString is not a function");if(U=U.toString(),typeof U!="string")throw Is("dirty is not a string, aborting")}if(!e.isSupported)return U;if(Lt||os(N),e.removed=[],typeof U=="string"&&(wt=!1),wt){if(U.nodeName){const bt=we(U.nodeName);if(!b[bt]||ye[bt])throw Is("root node is forbidden and cannot be sanitized in-place")}}else if(U instanceof s)$=Pa("<!---->"),I=$.ownerDocument.importNode(U,!0),I.nodeType===1&&I.nodeName==="BODY"||I.nodeName==="HTML"?$=I:$.appendChild(I);else{if(!mt&&!st&&!Ee&&U.indexOf("<")===-1)return m&&Rn?m.createHTML(U):U;if($=Pa(U),!$)return mt?null:Rn?_:""}$&&Vt&&$n($.firstChild);const _t=Fa(wt?U:$);for(;ie=_t.nextNode();)Ba(ie)||(ie.content instanceof i&&Kf(ie.content),ja(ie));if(wt)return U;if(mt){if(An)for(Oe=A.call($.ownerDocument);$.firstChild;)Oe.appendChild($.firstChild);else Oe=$;return(Y.shadowroot||Y.shadowrootmod)&&(Oe=H.call(n,Oe,!0)),Oe}let ge=Ee?$.outerHTML:$.innerHTML;return Ee&&b["!doctype"]&&$.ownerDocument&&$.ownerDocument.doctype&&$.ownerDocument.doctype.name&&gt(If,$.ownerDocument.doctype.name)&&(ge="<!DOCTYPE "+$.ownerDocument.doctype.name+`>
`+ge),st&&(ge=$t(ge,X," "),ge=$t(ge,te," "),ge=$t(ge,se," ")),m&&Rn?m.createHTML(ge):ge},e.setConfig=function(U){os(U),Lt=!0},e.clearConfig=function(){nr=null,Lt=!1},e.isValidAttribute=function(U,N,$){nr||os({});const I=we(U),ie=we(N);return za(I,ie,$)},e.addHook=function(U,N){typeof N=="function"&&(M[U]=M[U]||[],Br(M[U],N))},e.removeHook=function(U){if(M[U])return Nc(M[U])},e.removeHooks=function(U){M[U]&&(M[U]=[])},e.removeAllHooks=function(){M={}},e}var $E=bf();const DE={defaultProtocol:"https",rel:"noopener",target:"_blank"},kE=v.memo(({event:t,roomID:e,hasPreviousEvent:n})=>{const r=Ll(e);return(o=>{if(Wf(o))if(o.content.format==="org.matrix.custom.html"){const s=$E.sanitize(o.content.formatted_body,{ADD_TAGS:["font","del","h1","h2","h3","h4","h5","h6","blockquote","p","a","ul","ol","sup","sub","li","b","i","u","strong","em","strike","code","hr","br","div","table","thead","tbody","tr","th","td","caption","pre","span","img","details","summary"]});return y.jsxs("div",{className:n?"flex flex-row p-2 pt-0 hover:bg-gray-200 rounded-md duration-200 ease-in-out":"flex flex-row gap-4 p-2 pb-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out items-start",children:[!n&&y.jsx(Tr,{displayname:r?.getMemberName(o.sender)||"",avatarUrl:r?.getMemberAvatar(o.sender),online:r?.isOnline()||!1,dm:r?.isDM()||!1}),y.jsxs("div",{className:n?"ml-[3.7rem]":"flex flex-col gap-1",children:[!n&&y.jsx("h2",{className:"text-sm font-medium text-red-500 whitespace-normal",children:r?.getMemberName(o.sender)}),y.jsx("p",{className:"whitespace-normal text-black text-base font-normal",dangerouslySetInnerHTML:{__html:s}})]})]})}else return y.jsxs("div",{className:n?"flex flex-row p-2 pt-0 hover:bg-gray-200 rounded-md duration-200 ease-in-out":"flex flex-row gap-4 p-2 pb-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out items-start",children:[!n&&y.jsx(Tr,{displayname:r?.getMemberName(o.sender)||"",avatarUrl:r?.getMemberAvatar(o.sender),online:r?.isOnline()||!1,dm:r?.isDM()||!1}),y.jsxs("div",{className:n?"ml-[3.7rem]":"flex flex-col gap-1",children:[!n&&y.jsx("h2",{className:"text-sm font-medium text-red-500 whitespace-normal",children:r?.getMemberName(o.sender)}),y.jsx(uE,{options:DE,as:"p",className:"whitespace-normal text-black text-base font-normal",children:o.content.body})]})]});else return y.jsx("p",{children:o.content.body})})(t)}),LE=v.memo(({event:t})=>y.jsx("p",{className:"whitespace-break-spaces",children:JSON.stringify(t,null,4)})),ME=v.memo(({event:t})=>(n=>y.jsxs("p",{className:"p-2 hover:bg-gray-200 rounded-md duration-200 ease-in-out",children:[n.content.displayname?n.content.displayname:n.state_key," ",n.content.membership==="join"?"joined the room":n.content.membership==="leave"?"left the room":n.content.membership==="ban"?"was banned from the room by "+n.sender:n.content.membership==="invite"?"was invited to the room by "+n.sender:n.content.membership==="knock"?"knocked on the room":"changed their membership status to "+n.content.membership]}))(t)),IE=v.memo(({roomID:t,scrollRef:e})=>{const r=Ll(decodeURIComponent(t||""))?.getEvents(),{pathname:i}=Pl();v.useEffect(()=>{e.current?.scrollTo(0,e.current?.scrollHeight)},[i]);const o=(a,c,g,d)=>{switch(a.type){case"m.room.message":return y.jsx(kE,{reactions:d,event:a,roomID:t,hasPreviousEvent:c&&g==="m.room.message"},a.event_id);case"m.room.member":return y.jsx(ME,{event:a},a.event_id);case"m.room.redaction":return y.jsx(y.Fragment,{});default:return y.jsx(LE,{event:a},a.event_id)}},s=r?.filter((a,c,g)=>g.findIndex(d=>d.event_id===a.event_id)===c),l=s?.filter(a=>a.type!=="m.reaction").map((a,c)=>{const g=s?.filter(h=>h.type!=="m.reaction")[c-1],d=g?.sender===a.sender,u=g?.type,f=s?.filter(h=>h.type==="m.reaction"&&h.content["m.relates_to"].event_id===a.event_id);return o(a,d,u,f)});return y.jsx("div",{className:"max-w-[130ch] flex flex-col gap-2",children:l})}),bE=v.memo(()=>{const t=Gf(),e=Yf(),n=Vf(),r=v.useContext(Ei);let i=kh();const o=Ll(decodeURIComponent(i.roomIdOrAlias||"")),[s,l]=v.useState(""),[a,c]=v.useState(""),g=v.useRef(null),d=[...e].filter(({spaceRoom:x})=>{const m=![...e].some(({children:S})=>[...S].some(R=>R.roomID===x.roomID)),_=x.getSpaceParentIDs().length===0;return m&&_}),u=[...n].filter(x=>{const m=![...e].some(({children:R})=>[...R].some(A=>A.roomID===x.roomID)),_=x.getSpaceParentIDs().length===0,S=!x.isSpace();return m&&_&&S}),f=d.map(x=>{const m=[...x.children].filter(S=>!S.isSpace()).map(S=>({roomID:S.roomID,displayname:S.getName(),avatarUrl:S.getAvatarURL(),dm:S.isDM(),online:S.isOnline()})),_=S=>{const R=[...e].find(A=>A.spaceRoom.roomID===S.roomID);if(R){const A=[...R?.children].map(k=>({roomID:k.roomID,displayname:k.getName(),avatarUrl:k.getAvatarURL(),dm:k.isDM(),online:k.isOnline()}));return{sectionName:S.getName(),rooms:A,roomID:S.roomID,subsections:[...R?.children].filter(k=>k.isSpace()).map(_).filter(k=>k!==void 0)}}};return{sectionName:x.spaceRoom.getName(),rooms:m,roomID:x.spaceRoom.roomID,subsections:[...x.children].filter(S=>S.isSpace()).map(_)}}),h=u.filter(x=>!x.isSpace()).map(x=>({roomID:x.roomID,displayname:x.getName(),avatarUrl:x.getAvatarURL(),dm:x.isDM(),online:x.isOnline()})),p=h.map(x=>x.roomID),E=p.filter((x,m)=>p.indexOf(x)!==m);return E.length>0&&console.error("otherRooms has duplicates",E),y.jsxs("div",{className:"flex flex-row gap-2 min-h-screen h-screen",children:[y.jsxs("div",{className:"flex flex-col bg-gradient-to-br from-slate-100 via-gray-200 to-orange-200 border-r-[1px] border-slate-300",children:[y.jsxs("div",{className:"flex flex-row gap-2 m-2 p-1 items-center border-b-2",children:[y.jsx(Tr,{displayname:t.displayname||r.mxid,avatarUrl:t?.avatar_url,dm:!1,online:!1}),y.jsxs("div",{className:"flex flex-row justify-between items-center w-full",children:[y.jsx("span",{className:"text-base font-semibold",children:t?.displayname}),y.jsx(sp,{size:28,stroke:"unset",className:"stroke-slate-600 rounded-full hover:bg-slate-300 p-1 cursor-pointer"})]})]}),y.jsx(Wy,{sections:f,rooms:h})]}),o&&y.jsxs("div",{className:"flex-1 flex flex-col",children:[y.jsxs("div",{className:"pb-2 flex flex-row items-center border-b-2 mt-4 ml-2",children:[y.jsx(Tr,{displayname:o.getName(),avatarUrl:o.getAvatarURL(),dm:o.isDM(),online:o.isOnline()}),y.jsxs("div",{className:"flex flex-row items-center",children:[y.jsx("h1",{className:"text-black font-semibold text-lg flex-shrink-0",children:o.getName()}),y.jsx("p",{className:"ml-4 text-slate-700 font-normal text-base",children:o.getTopic()})]})]}),y.jsx("div",{ref:g,className:"overflow-y-auto overflow-x-hidden scrollbarSmall mr-2 my-1 flex-1 w-full flex flex-col-reverse",children:y.jsx(IE,{roomID:i.roomIdOrAlias,scrollRef:g})}),y.jsxs("div",{className:"flex flex-row items-end",children:[y.jsx(by,{namespace:"Editor",onChange:(x,m)=>{x.read(()=>{const _=dg.$generateHtmlFromNodes(m);l(_),console.log(_);const S=vo.$convertToMarkdownString(vo.TRANSFORMERS);c(S),console.log(S)})},onError:x=>console.error(x)}),y.jsx(op,{size:45,stroke:"unset",className:"stroke-slate-600 rounded m-4 hover:bg-slate-300 hover:stroke-slate-500 p-2 cursor-pointer",onClick:()=>{}})]})]})]})}),PE=({children:t})=>v.useContext(Ei).isLoggedIn?t:y.jsx(Lc,{to:"login"});function FE(){return y.jsx(Kh,{basename:"/cetirizine/",children:y.jsxs(Hh,{children:[y.jsx(Ks,{path:"/:roomIdOrAlias?",element:y.jsx(PE,{children:y.jsx(bE,{})})}),y.jsx(Ks,{path:"/login",element:y.jsx(Vh,{})})]})})}const HE=v.memo(FE);export{HE as default};
