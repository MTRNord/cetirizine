import{a as Ws,r as C,j as y,b as Gs,d as Ja,e as Li,m as Xa}from"./vendor-284b9f10.js";import{M as er,u as Or,i as nh,a as qa,b as rh,c as ih,d as oh,e as sh}from"./client-cdcd75e6.js";/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function li(){return li=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},li.apply(this,arguments)}var _n;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_n||(_n={}));const Za="popstate";function lh(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Ys("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bc(i)}return uh(e,n,null,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ul(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ah(){return Math.random().toString(36).substr(2,8)}function Qa(t,e){return{usr:t.state,key:t.key,idx:e}}function Ys(t,e,n,r){return n===void 0&&(n=null),li({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$r(e):e,{state:n,key:e&&e.key||r||ah()})}function bc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $r(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uh(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=_n.Pop,a=null,d=g();d==null&&(d=0,s.replaceState(li({},s.state,{idx:d}),""));function g(){return(s.state||{idx:null}).idx}function c(){l=_n.Pop;let m=g(),x=m==null?null:m-d;d=m,a&&a({action:l,location:p.location,delta:x})}function u(m,x){l=_n.Push;let _=Ys(p.location,m,x);n&&n(_,m),d=g()+1;let E=Qa(_,d),T=p.createHref(_);try{s.pushState(E,"",T)}catch{i.location.assign(T)}o&&a&&a({action:l,location:p.location,delta:1})}function f(m,x){l=_n.Replace;let _=Ys(p.location,m,x);n&&n(_,m),d=g();let E=Qa(_,d),T=p.createHref(_);s.replaceState(E,"",T),o&&a&&a({action:l,location:p.location,delta:0})}function h(m){let x=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof m=="string"?m:bc(m);return Te(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let p={get action(){return l},get location(){return t(i,s)},listen(m){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Za,c),a=m,()=>{i.removeEventListener(Za,c),a=null}},createHref(m){return e(i,m)},createURL:h,encodeLocation(m){let x=h(m);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:u,replace:f,go(m){return s.go(m)}};return p}var eu;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eu||(eu={}));function ch(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?$r(e):e,i=Fc(r.pathname||"/",n);if(i==null)return null;let o=Ic(t);dh(o);let s=null;for(let l=0;s==null&&l<o.length;++l)s=xh(o[l],vh(i));return s}function Ic(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(Te(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let d=jn([r,a.relativePath]),g=n.concat(a);o.children&&o.children.length>0&&(Te(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Ic(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:yh(d,o.index),routesMeta:g})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of Pc(o.path))i(o,s,a)}),e}function Pc(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Pc(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function dh(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Eh(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fh=/^:\w+$/,gh=3,hh=2,ph=1,mh=10,_h=-2,tu=t=>t==="*";function yh(t,e){let n=t.split("/"),r=n.length;return n.some(tu)&&(r+=_h),e&&(r+=hh),n.filter(i=>!tu(i)).reduce((i,o)=>i+(fh.test(o)?gh:o===""?ph:mh),r)}function Eh(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function xh(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],a=s===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",g=Nh({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},d);if(!g)return null;Object.assign(r,g.params);let c=l.route;o.push({params:r,pathname:jn([i,g.pathname]),pathnameBase:Oh(jn([i,g.pathnameBase])),route:c}),g.pathnameBase!=="/"&&(i=jn([i,g.pathnameBase]))}return o}function Nh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ch(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,g,c)=>{if(g==="*"){let u=l[c]||"";s=o.slice(0,o.length-u.length).replace(/(.)\/+$/,"$1")}return d[g]=Th(l[c]||"",g),d},{}),pathname:o,pathnameBase:s,pattern:t}}function Ch(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ul(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function vh(t){try{return decodeURI(t)}catch(e){return Ul(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Th(t,e){try{return decodeURIComponent(t)}catch(n){return Ul(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Fc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Sh(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$r(t):t;return{pathname:n?n.startsWith("/")?n:Ah(n,e):e,search:$h(r),hash:Dh(i)}}function Ah(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hs(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wh(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rh(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$r(t):(i=li({},t),Te(!i.pathname||!i.pathname.includes("?"),hs("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),hs("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),hs("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(r||s==null)l=n;else{let c=e.length-1;if(s.startsWith("..")){let u=s.split("/");for(;u[0]==="..";)u.shift(),c-=1;i.pathname=u.join("/")}l=c>=0?e[c]:"/"}let a=Sh(i,l),d=s&&s!=="/"&&s.endsWith("/"),g=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(d||g)&&(a.pathname+="/"),a}const jn=t=>t.join("/").replace(/\/\/+/g,"/"),Oh=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$h=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Dh=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lh(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const Mh=typeof Object.is=="function"?Object.is:Lh,{useState:bh,useEffect:Ih,useLayoutEffect:Ph,useDebugValue:Fh}=Ws;function Bh(t,e,n){const r=e(),[{inst:i},o]=bh({inst:{value:r,getSnapshot:e}});return Ph(()=>{i.value=r,i.getSnapshot=e,ps(i)&&o({inst:i})},[t,r,e]),Ih(()=>(ps(i)&&o({inst:i}),t(()=>{ps(i)&&o({inst:i})})),[t]),Fh(r),r}function ps(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!Mh(n,r)}catch{return!0}}function Uh(t,e,n){return e()}const jh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zh=!jh,Hh=zh?Uh:Bh;"useSyncExternalStore"in Ws&&(t=>t.useSyncExternalStore)(Ws);const Bc=C.createContext(null),jl=C.createContext(null),zl=C.createContext(null),Ho=C.createContext(null),Dr=C.createContext({outlet:null,matches:[]}),Uc=C.createContext(null);function Vs(){return Vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vs.apply(this,arguments)}function vi(){return C.useContext(Ho)!=null}function Ko(){return vi()||Te(!1),C.useContext(Ho).location}function jc(){vi()||Te(!1);let{basename:t,navigator:e}=C.useContext(zl),{matches:n}=C.useContext(Dr),{pathname:r}=Ko(),i=JSON.stringify(wh(n).map(l=>l.pathnameBase)),o=C.useRef(!1);return C.useEffect(()=>{o.current=!0}),C.useCallback(function(l,a){if(a===void 0&&(a={}),!o.current)return;if(typeof l=="number"){e.go(l);return}let d=Rh(l,JSON.parse(i),r,a.relative==="path");t!=="/"&&(d.pathname=d.pathname==="/"?t:jn([t,d.pathname])),(a.replace?e.replace:e.push)(d,a.state,a)},[t,e,i,r])}function Kh(){let{matches:t}=C.useContext(Dr),e=t[t.length-1];return e?e.params:{}}function Wh(t,e){vi()||Te(!1);let{navigator:n}=C.useContext(zl),r=C.useContext(jl),{matches:i}=C.useContext(Dr),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let a=Ko(),d;if(e){var g;let p=typeof e=="string"?$r(e):e;l==="/"||(g=p.pathname)!=null&&g.startsWith(l)||Te(!1),d=p}else d=a;let c=d.pathname||"/",u=l==="/"?c:c.slice(l.length)||"/",f=ch(t,{pathname:u}),h=Jh(f&&f.map(p=>Object.assign({},p,{params:Object.assign({},s,p.params),pathname:jn([l,n.encodeLocation?n.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?l:jn([l,n.encodeLocation?n.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r||void 0);return e&&h?C.createElement(Ho.Provider,{value:{location:Vs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:_n.Pop}},h):h}function Gh(){let t=Qh(),e=kh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,o)}class Yh extends C.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?C.createElement(Dr.Provider,{value:this.props.routeContext},C.createElement(Uc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vh(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(Bc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Dr.Provider,{value:e},r)}function Jh(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n?.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&i?.[s.route.id]);o>=0||Te(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,l)=>{let a=s.route.id?i?.[s.route.id]:null,d=null;n&&(s.route.ErrorBoundary?d=C.createElement(s.route.ErrorBoundary,null):s.route.errorElement?d=s.route.errorElement:d=C.createElement(Gh,null));let g=e.concat(r.slice(0,l+1)),c=()=>{let u=o;return a?u=d:s.route.Component?u=C.createElement(s.route.Component,null):s.route.element&&(u=s.route.element),C.createElement(Vh,{match:s,routeContext:{outlet:o,matches:g},children:u})};return n&&(s.route.ErrorBoundary||s.route.errorElement||l===0)?C.createElement(Yh,{location:n.location,component:d,error:a,children:c(),routeContext:{outlet:null,matches:g}}):c()},null)}var nu;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(nu||(nu={}));var ao;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(ao||(ao={}));function Xh(t){let e=C.useContext(jl);return e||Te(!1),e}function qh(t){let e=C.useContext(Dr);return e||Te(!1),e}function Zh(t){let e=qh(),n=e.matches[e.matches.length-1];return n.route.id||Te(!1),n.route.id}function Qh(){var t;let e=C.useContext(Uc),n=Xh(ao.UseRouteError),r=Zh(ao.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function zc(t){let{to:e,replace:n,state:r,relative:i}=t;vi()||Te(!1);let o=C.useContext(jl),s=jc();return C.useEffect(()=>{o&&o.navigation.state!=="idle"||s(e,{replace:n,state:r,relative:i})}),null}function Js(t){Te(!1)}function ep(t){let{basename:e="/",children:n=null,location:r,navigationType:i=_n.Pop,navigator:o,static:s=!1}=t;vi()&&Te(!1);let l=e.replace(/^\/*/,"/"),a=C.useMemo(()=>({basename:l,navigator:o,static:s}),[l,o,s]);typeof r=="string"&&(r=$r(r));let{pathname:d="/",search:g="",hash:c="",state:u=null,key:f="default"}=r,h=C.useMemo(()=>{let p=Fc(d,l);return p==null?null:{location:{pathname:p,search:g,hash:c,state:u,key:f},navigationType:i}},[l,d,g,c,u,f,i]);return h==null?null:C.createElement(zl.Provider,{value:a},C.createElement(Ho.Provider,{children:n,value:h}))}function tp(t){let{children:e,location:n}=t,r=C.useContext(Bc),i=r&&!e?r.router.routes:Xs(e);return Wh(i,n)}var ru;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(ru||(ru={}));new Promise(()=>{});function Xs(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let o=[...e,i];if(r.type===C.Fragment){n.push.apply(n,Xs(r.props.children,o));return}r.type!==Js&&Te(!1),!r.props.index||!r.props.children||Te(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Xs(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function np(t){let{basename:e,children:n,window:r}=t,i=C.useRef();i.current==null&&(i.current=lh({window:r,v5Compat:!0}));let o=i.current,[s,l]=C.useState({action:o.action,location:o.location});return C.useLayoutEffect(()=>o.listen(l),[o]),C.createElement(ep,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o})}var iu;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(iu||(iu={}));var ou;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ou||(ou={}));const rp=C.memo(({type:t="button",style:e="primary",onClick:n,children:r,readonly:i})=>e==="secondary"?y.jsx("button",{disabled:i,onClick:n,className:"button bg-orange-400 hover:bg-orange-500 ease-out duration-150 disabled:bg-slate-200 disabled:cursor-not-allowed",type:t,children:r}):e==="abort"?y.jsx("button",{disabled:i,onClick:n,className:"button bg-red-400 hover:bg-red-500 ease-out duration-150 disabled:bg-slate-200 disabled:cursor-not-allowed",type:t,children:r}):y.jsx("button",{disabled:i,onClick:n,className:"button bg-green-400 hover:bg-green-500 ease-out duration-150 disabled:bg-slate-200 disabled:cursor-not-allowed",type:t,children:r})),ip=C.memo(({children:t})=>y.jsx("h1",{className:"text-black font-bold text-xl",children:t})),su=C.memo(({placeholder:t,password:e=!1,autoFocus:n=!1,value:r,readonly:i,onChange:o})=>y.jsx("input",{disabled:i,className:"text-base form-input rounded-lg disabled:bg-slate-200 disabled:cursor-not-allowed transition-colors ease-in-out delay-150",value:r,type:e?"password":"text",autoFocus:n,placeholder:t,onChange:o})),op=C.memo(()=>{const t=C.useContext(er),[e,n]=C.useState(!1),[r,i]=C.useState(""),[o,s]=C.useState(""),[l,a]=C.useState("");if(t.isLoggedIn)return y.jsx(zc,{to:"/"});const d=async()=>{try{n(!0),await t.passwordLogin(o,l)}catch(g){i(g.toString())}n(!1)};return y.jsxs("form",{className:"flex flex-col rounded-md shadow p-4 bg-white gap-2 min-w-[30rem]",onSubmit:g=>{g.preventDefault(),d()},children:[y.jsx(ip,{children:"Login"}),r?y.jsx("h2",{className:"text-red-500 font-normal text-sm",children:r}):y.jsx("div",{className:"min-h-[1.25rem]"}),y.jsx(su,{readonly:e,value:o,placeholder:"Username",onChange:g=>s(g.target.value)}),y.jsx(su,{readonly:e,value:l,password:!0,placeholder:"Password",onChange:g=>a(g.target.value)}),y.jsx(rp,{readonly:e,style:"primary",type:"submit",children:"Login"})]})}),sp=C.memo(()=>y.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-img",children:y.jsx(op,{})}));var lp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ap=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),me=(t,e)=>{const n=C.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:l,...a},d)=>C.createElement("svg",{ref:d,...lp,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${ap(t)}`,...a},[...e.map(([g,c])=>C.createElement(g,c)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},up=me("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]),Hc=me("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]]),cp=me("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]]),qs=me("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),Kc=me("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]),Wc=me("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]),dp=me("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]),fp=me("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]]),gp=me("Heading5",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]]),hp=me("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),pp=me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Gc=me("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),Yc=me("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Vc=me("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),mp=me("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]),_p=me("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]]),yp=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ep=me("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]),Jc=me("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]]),xp=me("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]),Np=me("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),jt=C.memo(({avatarUrl:t,displayname:e,dm:n=!1,online:r=!1})=>t?y.jsxs("div",{className:"flex relative min-w-[2rem] min-h-[2rem] justify-center items-center m-0 mr-3 text-xl rounded-full text-white",children:[y.jsx("img",{className:"rounded-full w-8 h-8 object-cover",alt:e,src:t}),n?r?y.jsx("div",{className:"bg-green-500 rounded-full w-3 h-3 absolute bottom-0 right-0"}):y.jsx("div",{className:"bg-red-500 rounded-full w-3 h-3 absolute bottom-0 right-0"}):y.jsx(y.Fragment,{})]}):y.jsxs("div",{className:"flex relative min-w-[2rem] min-h-[2rem] w-[2rem] h-[2rem] bg-orange-500 justify-center items-center m-0 mr-3 text-xl rounded-full text-white",children:[e.replace("@","")[0].toUpperCase(),n?r?y.jsx("div",{className:"bg-green-500 rounded-full w-3 h-3 absolute bottom-0 right-0"}):y.jsx("div",{className:"bg-red-500 rounded-full w-3 h-3 absolute bottom-0 right-0"}):y.jsx(y.Fragment,{})]}));var Hl={},be={},R={};let Kl={},Xc={},ai={},Yr={},Zs={},xr={},Wl={},Qs={},ui={},ci={},yn={},Gl={},Yl={},qc={},Zc={},Qc={},ed={},td={},nd={},rd={},uo={},id={},od={},sd={},ld={},ad={},ud={},cd={},dd={},fd={},Vl={},Jl={},gd={},hd={},pd={};function L(t){throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?code=${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let an=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cp=an&&"documentMode"in document?document.documentMode:null,Je=an&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Gn=an&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),co=an&&"InputEvent"in window&&!Cp?"getTargetRanges"in new window.InputEvent("input"):!1,Xl=an&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),ql=an&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,vp=an&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Zl=an&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!vp,Wo=Xl||ql||Zl?" ":"​",Tp=Gn?" ":Wo,Sp=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,Ap=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,zn={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},wp={directionless:1,unmergeable:2},lu={center:2,end:6,justify:4,left:1,right:3,start:5},Rp={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},Op={normal:0,segmented:2,token:1},$p={0:"normal",2:"segmented",1:"token"},el=!1,Ql=0;function Dp(t){Ql=t.timeStamp}function ms(t,e,n){return e.__lexicalLineBreak===t||t[`__lexicalKey_${n._key}`]!==void 0}function kp(t){return t.getEditorState().read(()=>{let e=ue();return e!==null?e.clone():null})}function md(t,e,n){el=!0;let r=100<performance.now()-Ql;try{pt(t,()=>{let i=ue()||kp(t);var o=new Map,s=t.getRootElement(),l=t._editorState,a=t._blockCursorElement;let d=!1,g="";for(var c=0;c<e.length;c++){var u=e[c],f=u.type,h=u.target,p=Si(h,l);if(!(p===null&&h!==s||ae(p))){if(f==="characterData"){if(u=r&&F(p))e:{u=i,f=h;var m=p;if(V(u)){var x=u.anchor.getNode();if(x.is(m)&&u.format!==x.getFormat()){u=!1;break e}}u=f.nodeType===3&&m.isAttached()}u&&(m=Gt(t._window),f=u=null,m!==null&&m.anchorNode===h&&(u=m.anchorOffset,f=m.focusOffset),h=h.nodeValue,h!==null&&ia(p,h,u,f,!1))}else if(f==="childList"){for(d=!0,f=u.addedNodes,m=0;m<f.length;m++){x=f[m];var _=Cd(x),E=x.parentNode;E==null||x===a||_!==null||x.nodeName==="BR"&&ms(x,E,t)||(Gn&&(_=x.innerText||x.nodeValue)&&(g+=_),E.removeChild(x))}if(u=u.removedNodes,f=u.length,0<f){for(m=0,x=0;x<f;x++)E=u[x],(E.nodeName==="BR"&&ms(E,h,t)||a===E)&&(h.appendChild(E),m++);f!==m&&(h===s&&(p=l._nodeMap.get("root")),o.set(h,p))}}}}if(0<o.size)for(let[T,w]of o)if(O(w))for(o=w.getChildrenKeys(),s=T.firstChild,l=0;l<o.length;l++)a=t.getElementByKey(o[l]),a!==null&&(s==null?(T.appendChild(a),s=a):s!==a&&T.replaceChild(a,s),s=s.nextSibling);else F(w)&&w.markDirty();if(o=n.takeRecords(),0<o.length){for(s=0;s<o.length;s++)for(a=o[s],l=a.addedNodes,a=a.target,c=0;c<l.length;c++)p=l[c],h=p.parentNode,h==null||p.nodeName!=="BR"||ms(p,a,t)||h.removeChild(p);n.takeRecords()}i!==null&&(d&&(i.dirty=!0,vn(i)),Gn&&Ad(t)&&i.insertRawText(g))})}finally{el=!1}}function _d(t){let e=t._observer;if(e!==null){let n=e.takeRecords();md(t,n,e)}}function yd(t){Ql===0&&Yo(t).addEventListener("textInput",Dp,!0),t._observer=new MutationObserver((e,n)=>{md(t,e,n)})}let Lp=1,Mp=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)};function ea(t){let e=document.activeElement;if(e===null)return!1;let n=e.nodeName;return ae(Si(t))&&(n==="INPUT"||n==="TEXTAREA"||e.contentEditable==="true"&&e.__lexicalEditor==null)}function Ti(t,e,n){let r=t.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(n)&&e!==null&&!ea(e)&&ta(e)===t}catch{return!1}}function ta(t){for(;t!=null;){let e=t.__lexicalEditor;if(e!=null)return e;t=Go(t)}return null}function tl(t){return t.isToken()||t.isSegmented()}function fo(t){for(;t!=null;){if(t.nodeType===3)return t;t=t.firstChild}return null}function Ed(t,e,n){return e=zn[e],t&e&&(n===null||!(n&e))?t^e:n===null||n&e?t|e:t}function xd(t){return F(t)||pi(t)||ae(t)}function Nd(t,e){if(e!=null)t.__key=e;else{et(),99<hi&&L(14),e=pe();var n=Yt(),r=""+Lp++;n._nodeMap.set(r,t),O(t)?e._dirtyElements.set(r,!0):e._dirtyLeaves.add(r),e._cloneNotNeeded.add(r),e._dirtyType=1,t.__key=r}}function Hn(t){var e=t.getParent();if(e!==null){let i=t.getWritable();e=e.getWritable();var n=t.getPreviousSibling();if(t=t.getNextSibling(),n===null)if(t!==null){var r=t.getWritable();e.__first=t.__key,r.__prev=null}else e.__first=null;else{if(r=n.getWritable(),t!==null){let o=t.getWritable();o.__prev=r.__key,r.__next=o.__key}else r.__next=null;i.__prev=null}t===null?n!==null?(t=n.getWritable(),e.__last=n.__key,t.__next=null):e.__last=null:(t=t.getWritable(),n!==null?(n=n.getWritable(),n.__next=t.__key,t.__prev=n.__key):t.__prev=null,i.__next=null),e.__size--,i.__parent=null}}function go(t){99<hi&&L(14);var e=t.getLatest(),n=e.__parent,r=Yt();let i=pe(),o=r._nodeMap;if(r=i._dirtyElements,n!==null)e:for(;n!==null;){if(r.has(n))break e;let s=o.get(n);if(s===void 0)break;r.set(n,!1),n=s.__parent}e=e.__key,i._dirtyType=1,O(t)?r.set(e,!0):i._dirtyLeaves.add(e)}function Be(t){et();var e=pe();let n=e._compositionKey;t!==n&&(e._compositionKey=t,n!==null&&(e=ke(n),e!==null&&e.getWritable()),t!==null&&(t=ke(t),t!==null&&t.getWritable()))}function En(){return kr()?null:pe()._compositionKey}function ke(t,e){return t=(e||Yt())._nodeMap.get(t),t===void 0?null:t}function Cd(t,e){let n=pe();return t=t[`__lexicalKey_${n._key}`],t!==void 0?ke(t,e):null}function Si(t,e){for(;t!=null;){let n=Cd(t,e);if(n!==null)return n;t=Go(t)}return null}function vd(t){let e=Object.assign({},t._decorators);return t._pendingDecorators=e}function au(t){return t.read(()=>Wt().getTextContent())}function bp(t,e){pt(t,()=>{var n=Yt();if(!n.isEmpty())if(e==="root")Wt().markDirty();else{n=n._nodeMap;for(let[,r]of n)r.markDirty()}},t._pendingEditorState===null?{tag:"history-merge"}:void 0)}function Wt(){return Yt()._nodeMap.get("root")}function vn(t){et();let e=Yt();t!==null&&(t.dirty=!0,t._cachedNodes=null),e._selection=t}function hr(t){var e=pe(),n;e:{for(n=t;n!=null;){let r=n[`__lexicalKey_${e._key}`];if(r!==void 0){n=r;break e}n=Go(n)}n=null}return n===null?(e=e.getRootElement(),t===e?ke("root"):null):ke(n)}function Td(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function na(t){let e=[];for(;t!==null;)e.push(t),t=t._parentEditor;return e}function Sd(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function ra(t,e,n){if(e=Gt(e._window),e!==null){var r=e.anchorNode,{anchorOffset:i,focusOffset:o}=e;if(r!==null&&(e=r.nodeType===3?r.nodeValue:null,r=Si(r),e!==null&&F(r))){if(r.canContainTabs()){var s=e.includes("	");if(n&&0<n.length&&s){s=n.length;let l=i+s-1,a=e.slice(0,l);e=e.slice(l,e.length),e=`${a}${n}${e}`,i+=s,o+=s}}e===Wo&&n&&(s=n.length,e=n,o=i=s),e!==null&&ia(r,e,i,o,t)}}}function ia(t,e,n,r,i){let o=t;if(o.isAttached()&&(i||!o.isDirty())){var s=o.isComposing();if(t=e,(s||i)&&e[e.length-1]===Wo&&(t=e.slice(0,-1)),e=o.getTextContent(),i||t!==e)if(t==="")if(Be(null),Xl||ql||Zl)o.remove();else{let d=pe();setTimeout(()=>{d.update(()=>{o.isAttached()&&o.remove()})},20)}else{i=o.getParent(),e=Ri();var l=En(),a=o.getKey();o.isToken()||l!==null&&a===l&&!s||i!==null&&V(e)&&!i.canInsertTextBefore()&&e.anchor.offset===0?o.markDirty():(s=ue(),V(s)&&n!==null&&r!==null&&(s.setTextNodeRange(o,n,o,r),o.isSegmented()&&(n=o.getTextContent(),n=Fe(n),o.replace(n),o=n)),o.setTextContent(t))}}}function Ip(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;t=t.anchor.offset;let n=e.getParentOrThrow(),r=e.isToken();return t===0?((t=!e.canInsertTextBefore()||!n.canInsertTextBefore()||r)||(e=e.getPreviousSibling(),t=(F(e)||O(e)&&e.isInline())&&!e.canInsertTextAfter()),t):t===e.getTextContentSize()?!e.canInsertTextAfter()||!n.canInsertTextAfter()||r:!1}function Vr(t,e){var n=t[e];return typeof n=="string"?(n=n.split(" "),t[e]=n):n}function oa(t,e,n,r,i){n.size!==0&&(n=r.__key,e=e.get(r.__type),e===void 0&&L(33),r=e.klass,e=t.get(r),e===void 0&&(e=new Map,t.set(r,e)),t=e.get(n),r=t==="destroyed"&&i==="created",(t===void 0||r)&&e.set(n,r?"updated":i))}function uu(t,e,n){let r=t.getParent(),i=n;return r!==null&&(e&&n===0?(i=t.getIndexWithinParent(),t=r):e||n!==t.getChildrenSize()||(i=t.getIndexWithinParent()+1,t=r)),t.getChildAtIndex(e?i-1:i)}function nl(t,e){var n=t.offset;return t.type==="element"?(t=t.getNode(),uu(t,e,n)):(t=t.getNode(),e&&n===0||!e&&n===t.getTextContentSize()?(n=e?t.getPreviousSibling():t.getNextSibling(),n===null?uu(t.getParentOrThrow(),e,t.getIndexWithinParent()+(e?0:1)):n):null)}function Ad(t){return t=(t=Yo(t).event)&&t.inputType,t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function ho(t){return!ut(t)&&!t.isLastChild()&&!t.isInline()}function po(t,e){return t=t._keyToDOMMap.get(e),t===void 0&&L(75),t}function Go(t){return t=t.assignedSlot||t.parentElement,t!==null&&t.nodeType===11?t.host:t}function Pp(t,e=0){if(e!==0&&L(1),e=ue(),!V(e)||!O(t))return e;let{anchor:n,focus:r}=e,i=n.getNode(),o=r.getNode();return mo(i,t)&&n.set(t.__key,0,"element"),mo(o,t)&&r.set(t.__key,0,"element"),e}function mo(t,e){for(t=t.getParent();t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function Yo(t){return t=t._window,t===null&&L(78),t}function wd(t){for(t=t.getParentOrThrow();t!==null&&!Dt(t);)t=t.getParentOrThrow();return t}function Dt(t){return ut(t)||O(t)&&t.isShadowRoot()}function Rd(t){return t=t.constructor.clone(t),Nd(t,null),t}function Vo(t){var e=pe();let n=t.constructor.getType();return e=e._nodes.get(n),e===void 0&&L(97),e=e.replace,e!==null?(e=e(t),e instanceof t.constructor||L(98),e):t}function _s(t,e){t=t.getParent(),!ut(t)||O(e)||ae(e)||L(99)}function ys(t){return(ae(t)||O(t)&&!t.canBeEmpty())&&!t.isInline()}function rl(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null,e=t.parentElement,e!==null&&e.removeChild(t)}function Gt(t){return an?(t||window).getSelection():null}function Od(t,e){let n=t.getChildAtIndex(e);n==null&&(n=t),Dt(t)&&L(102);let r=s=>{const l=s.getParentOrThrow(),a=Dt(l),d=s!==n||a?Rd(s):s;if(a)return s.insertAfter(d),[s,d,d];const[g,c,u]=r(l);return s=s.getNextSiblings(),u.append(d,...s),[g,c,d]},[i,o]=r(n);return[i,o]}function _o(t,e){for(;t!==Wt()&&t!=null;){if(e(t))return t;t=t.getParent()}return null}function Fp(t){let e=[],n=[t];for(;0<n.length;){let r=n.pop();r===void 0&&L(112),O(r)&&n.unshift(...r.getChildren()),r!==t&&e.push(r)}return e}function $d(t,e,n,r,i){for(t=t.getFirstChild();t!==null;){let o=t.__key;t!==void 0&&t.__parent===e&&(O(t)&&$d(t,o,n,r,i),n.has(o)||i.delete(o),r.delete(o)),t=t.isAttached()?t.getNextSibling():null}}function Bp(t,e,n,r){t=t._nodeMap,e=e._nodeMap;for(let i of n){let o=e.get(i);o===void 0||o.isAttached()||(t.has(i)||n.delete(i),e.delete(i))}for(let[i]of r)n=e.get(i),n===void 0||n.isAttached()||(O(n)&&$d(n,i,t,e,r),t.has(i)||r.delete(i),e.delete(i))}function cu(t,e){let n=t.__mode,r=t.__format;t=t.__style;let i=e.__mode,o=e.__format;return e=e.__style,(n===null||n===i)&&(r===null||r===o)&&(t===null||t===e)}function du(t,e){let n=t.mergeWithSibling(e),r=pe()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function Dd(t){if(t.__text===""&&t.isSimpleText()&&!t.isUnmergeable())t.remove();else{for(var e;(e=t.getPreviousSibling())!==null&&F(e)&&e.isSimpleText()&&!e.isUnmergeable();)if(e.__text==="")e.remove();else{cu(e,t)&&(t=du(e,t));break}for(var n;(n=t.getNextSibling())!==null&&F(n)&&n.isSimpleText()&&!n.isUnmergeable();)if(n.__text==="")n.remove();else{cu(t,n)&&du(t,n);break}}}function kd(t){return fu(t.anchor),fu(t.focus),t}function fu(t){for(;t.type==="element";){var e=t.getNode(),n=t.offset;if(n===e.getChildrenSize()?(e=e.getChildAtIndex(n-1),n=!0):(e=e.getChildAtIndex(n),n=!1),F(e)){t.set(e.__key,n?e.getTextContentSize():0,"text");break}else if(!O(e))break;t.set(e.__key,n?e.getChildrenSize():0,"element")}}let ve="",Qe="",nn="",Tn,We,di,Ld=!1,sa=!1,Jo,Vi=null,il,ol,Yn,Sn,sl,fi;function Ji(t,e){let n=Yn.get(t);if(e!==null){let r=ul(t);r.parentNode===e&&e.removeChild(r)}Sn.has(t)||We._keyToDOMMap.delete(t),O(n)&&(t=yo(n,Yn),ll(t,0,t.length-1,null)),n!==void 0&&oa(fi,di,Jo,n,"destroyed")}function ll(t,e,n,r){for(;e<=n;++e){let i=t[e];i!==void 0&&Ji(i,r)}}function kn(t,e){t.setProperty("text-align",e)}function Md(t,e){var n=Tn.theme.indent;if(typeof n=="string"){let r=t.classList.contains(n);0<e&&!r?t.classList.add(n):1>e&&r&&t.classList.remove(n)}n=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||"40px",t.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${n})`)}function bd(t,e){t=t.style,e===0?kn(t,""):e===1?kn(t,"left"):e===2?kn(t,"center"):e===3?kn(t,"right"):e===4?kn(t,"justify"):e===5?kn(t,"start"):e===6&&kn(t,"end")}function Xi(t,e,n){let r=Sn.get(t);r===void 0&&L(60);let i=r.createDOM(Tn,We);var o=We._keyToDOMMap;if(i["__lexicalKey_"+We._key]=t,o.set(t,i),F(r)?i.setAttribute("data-lexical-text","true"):ae(r)&&i.setAttribute("data-lexical-decorator","true"),O(r)){if(t=r.__indent,o=r.__size,t!==0&&Md(i,t),o!==0){--o,t=yo(r,Sn);var s=Qe;Qe="",al(t,r,0,o,i,null),Pd(r,i),Qe=s}t=r.__format,t!==0&&bd(i,t),r.isInline()||Id(null,r,i),ho(r)&&(ve+=`

`,nn+=`

`)}else o=r.getTextContent(),ae(r)?(s=r.decorate(We,Tn),s!==null&&Fd(t,s),i.contentEditable="false"):F(r)&&(r.isDirectionless()||(Qe+=o)),ve+=o,nn+=o;return e!==null&&(n!=null?e.insertBefore(i,n):(n=e.__lexicalLineBreak,n!=null?e.insertBefore(i,n):e.appendChild(i))),oa(fi,di,Jo,r,"created"),i}function al(t,e,n,r,i,o){let s=ve;for(ve="";n<=r;++n)Xi(t[n],i,o);ho(e)&&(ve+=`

`),i.__lexicalTextContent=ve,ve=s+ve}function gu(t,e){return t=e.get(t),pi(t)||ae(t)&&t.isInline()}function Id(t,e,n){t=t!==null&&(t.__size===0||gu(t.__last,Yn)),e=e.__size===0||gu(e.__last,Sn),t?e||(e=n.__lexicalLineBreak,e!=null&&n.removeChild(e),n.__lexicalLineBreak=null):e&&(e=document.createElement("br"),n.__lexicalLineBreak=e,n.appendChild(e))}function Pd(t,e){var n=e.__lexicalDir;if(e.__lexicalDirTextContent!==Qe||n!==Vi){let o=Qe==="";if(o)var r=Vi;else r=Qe,r=Sp.test(r)?"rtl":Ap.test(r)?"ltr":null;if(r!==n){let s=e.classList,l=Tn.theme;var i=n!==null?l[n]:void 0;let a=r!==null?l[r]:void 0;i!==void 0&&(typeof i=="string"&&(i=i.split(" "),i=l[n]=i),s.remove(...i)),r===null||o&&r==="ltr"?e.removeAttribute("dir"):(a!==void 0&&(typeof a=="string"&&(n=a.split(" "),a=l[r]=n),a!==void 0&&s.add(...a)),e.dir=r),sa||(t.getWritable().__dir=r)}Vi=r,e.__lexicalDirTextContent=Qe,e.__lexicalDir=r}}function yo(t,e){let n=[];for(t=t.__first;t!==null;){let r=e.get(t);r===void 0&&L(101),n.push(t),t=r.__next}return n}function Hr(t,e){var n=Yn.get(t),r=Sn.get(t);n!==void 0&&r!==void 0||L(61);var i=Ld||ol.has(t)||il.has(t);let o=po(We,t);if(n===r&&!i)return O(n)?(r=o.__lexicalTextContent,r!==void 0&&(ve+=r,nn+=r),r=o.__lexicalDirTextContent,r!==void 0&&(Qe+=r)):(r=n.getTextContent(),F(n)&&!n.isDirectionless()&&(Qe+=r),nn+=r,ve+=r),o;if(n!==r&&i&&oa(fi,di,Jo,r,"updated"),r.updateDOM(n,o,Tn))return r=Xi(t,null,null),e===null&&L(62),e.replaceChild(r,o),Ji(t,null),r;if(O(n)&&O(r)){if(t=r.__indent,t!==n.__indent&&Md(o,t),t=r.__format,t!==n.__format&&bd(o,t),i){t=r,i=Qe,Qe="",e=ve;var s=n.__size,l=t.__size;if(ve="",s===1&&l===1){var a=n.__first,d=t.__first;if(a===d)Hr(a,o);else{var g=ul(a);d=Xi(d,null,null),o.replaceChild(d,g),Ji(a,null)}}else{d=yo(n,Yn);var c=yo(t,Sn);if(s===0)l!==0&&al(c,t,0,l-1,o,null);else if(l===0)s!==0&&(a=o.__lexicalLineBreak==null,ll(d,0,s-1,a?null:o),a&&(o.textContent=""));else{var u=d;d=c,c=s-1,s=l-1;let h=o.firstChild,p=0;for(l=0;p<=c&&l<=s;){var f=u[p];let m=d[l];if(f===m)h=Es(Hr(m,o)),p++,l++;else{a===void 0&&(a=new Set(u)),g===void 0&&(g=new Set(d));let x=g.has(f),_=a.has(m);x?(_?(f=po(We,m),f===h?h=Es(Hr(m,o)):(h!=null?o.insertBefore(f,h):o.appendChild(f),Hr(m,o)),p++):Xi(m,o,h),l++):(h=Es(ul(f)),Ji(f,o),p++)}}a=p>c,g=l>s,a&&!g?(a=d[s+1],a=a===void 0?null:We.getElementByKey(a),al(d,t,l,s,o,a)):g&&!a&&ll(u,p,c,o)}}ho(t)&&(ve+=`

`),o.__lexicalTextContent=ve,ve=e+ve,Pd(t,o),Qe=i,ut(r)||r.isInline()||Id(n,r,o)}ho(r)&&(ve+=`

`,nn+=`

`)}else n=r.getTextContent(),ae(r)?(i=r.decorate(We,Tn),i!==null&&Fd(t,i)):F(r)&&!r.isDirectionless()&&(Qe+=n),ve+=n,nn+=n;return!sa&&ut(r)&&r.__cachedText!==nn&&(r=r.getWritable(),r.__cachedText=nn),o}function Fd(t,e){let n=We._pendingDecorators,r=We._decorators;if(n===null){if(r[t]===e)return;n=vd(We)}n[t]=e}function Es(t){return t=t.nextSibling,t!==null&&t===We._blockCursorElement&&(t=t.nextSibling),t}function ul(t){return t=sl.get(t),t===void 0&&L(75),t}let Qt=Object.freeze({}),cl=[["keydown",Yp],["pointerdown",jp],["compositionstart",Wp],["compositionend",Gp],["input",Kp],["click",Up],["cut",Qt],["copy",Qt],["dragstart",Qt],["dragover",Qt],["dragend",Qt],["paste",Qt],["focus",Qt],["blur",Qt],["drop",Qt]];co&&cl.push(["beforeinput",(t,e)=>Hp(t,e)]);let gi=0,Bd=0,Ud=0,fr=null,Jr=0,dl=!1,fl=!1,Xr=!1,Kr=!1,jd=[0,"",0,"root",0];function zd(t,e,n,r,i){let o=t.anchor,s=t.focus,l=o.getNode();var a=pe();let d=Gt(a._window),g=d!==null?d.anchorNode:null,c=o.key;a=a.getElementByKey(c);let u=n.length;return c!==s.key||!F(l)||(!i&&(!co||Ud<r+50)||l.isDirty()&&2>u||Td(n))&&o.offset!==s.offset&&!l.isComposing()||tl(l)||l.isDirty()&&1<u||(i||!co)&&a!==null&&!l.isComposing()&&g!==fo(a)||d!==null&&e!==null&&(!e.collapsed||e.startContainer!==d.anchorNode||e.startOffset!==d.anchorOffset)||l.getFormat()!==t.format||l.getStyle()!==t.style||Ip(t,l)}function hu(t,e){return t!==null&&t.nodeValue!==null&&t.nodeType===3&&e!==0&&e!==t.nodeValue.length}function pu(t,e,n){let{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}=t;dl&&(dl=!1,hu(r,i)&&hu(o,s))||pt(e,()=>{if(!n)vn(null);else if(Ti(e,r,o)){var l=ue();if(V(l)){var a=l.anchor,d=a.getNode();if(l.isCollapsed()){t.type==="Range"&&t.anchorNode===t.focusNode&&(l.dirty=!0);var g=Yo(e).event;g=g?g.timeStamp:performance.now();let[c,u,f,h,p]=jd;g<p+200&&a.offset===f&&a.key===h?(l.format=c,l.style=u):a.type==="text"?(l.format=d.getFormat(),l.style=d.getStyle()):a.type==="element"&&(l.format=0,l.style="")}else{a=255,d=!1,g=l.getNodes();let c=g.length;for(let u=0;u<c;u++){let f=g[u];if(F(f)&&(d=!0,a&=f.getFormat(),a===0))break}l.format=d?a:0}}P(e,Kl,void 0)}})}function Up(t,e){pt(e,()=>{let n=ue(),r=Gt(e._window),i=Ri();if(V(n)){let o=n.anchor,s=o.getNode();r&&o.type==="element"&&o.offset===0&&n.isCollapsed()&&!ut(s)&&Wt().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&i!==null&&n.is(i)&&(r.removeAllRanges(),n.dirty=!0)}P(e,Xc,t)})}function jp(t,e){let n=t.target;t=t.pointerType,n instanceof Node&&t!=="touch"&&pt(e,()=>{ae(Si(n))||(fl=!0)})}function Hd(t){return t.getTargetRanges?(t=t.getTargetRanges(),t.length===0?null:t[0]):null}function zp(t,e){return t!==e||O(t)||O(e)||!t.isToken()||!e.isToken()}function Hp(t,e){let n=t.inputType,r=Hd(t);n==="deleteCompositionText"||Gn&&Ad(e)||n!=="insertCompositionText"&&pt(e,()=>{let i=ue();if(n==="deleteContentBackward"){if(i===null){var o=Ri();if(!V(o))return;vn(o.clone())}if(V(i)){Bd===229&&t.timeStamp<gi+30&&e.isComposing()&&i.anchor.key===i.focus.key?(Be(null),gi=0,setTimeout(()=>{pt(e,()=>{Be(null)})},30),V(i)&&(o=i.anchor.getNode(),o.markDirty(),i.format=o.getFormat(),i.style=o.getStyle())):(t.preventDefault(),P(e,ai,!0));return}}if(V(i)){o=t.data,fr!==null&&ra(!1,e,fr),i.dirty&&fr===null||!i.isCollapsed()||ut(i.anchor.getNode())||r===null||i.applyDOMRange(r),fr=null;var s=i.focus,l=i.anchor.getNode();if(s=s.getNode(),n==="insertText"||n==="insertTranspose")o===`
`?(t.preventDefault(),P(e,Yr,!1)):o===`

`?(t.preventDefault(),P(e,Zs,void 0)):o==null&&t.dataTransfer?(o=t.dataTransfer.getData("text/plain"),t.preventDefault(),i.insertRawText(o)):o!=null&&zd(i,r,o,t.timeStamp,!0)?(t.preventDefault(),P(e,xr,o)):fr=o,Ud=t.timeStamp;else switch(t.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":P(e,xr,t);break;case"insertFromComposition":Be(null),P(e,xr,t);break;case"insertLineBreak":Be(null),P(e,Yr,!1);break;case"insertParagraph":Be(null),Xr?(Xr=!1,P(e,Yr,!1)):P(e,Zs,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":P(e,Wl,t);break;case"deleteByComposition":zp(l,s)&&P(e,Qs,void 0);break;case"deleteByDrag":case"deleteByCut":P(e,Qs,void 0);break;case"deleteContent":P(e,ai,!1);break;case"deleteWordBackward":P(e,ui,!0);break;case"deleteWordForward":P(e,ui,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":P(e,ci,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":P(e,ci,!1);break;case"formatStrikeThrough":P(e,yn,"strikethrough");break;case"formatBold":P(e,yn,"bold");break;case"formatItalic":P(e,yn,"italic");break;case"formatUnderline":P(e,yn,"underline");break;case"historyUndo":P(e,Gl,void 0);break;case"historyRedo":P(e,Yl,void 0)}}})}function Kp(t,e){t.stopPropagation(),pt(e,()=>{var n=ue(),r=t.data,i=Hd(t);if(r!=null&&V(n)&&zd(n,i,r,t.timeStamp,!1)){Kr&&(gl(e,r),Kr=!1);var o=n.anchor,s=o.getNode();if(i=Gt(e._window),i===null)return;let l=o.offset;(o=co&&!n.isCollapsed()&&F(s)&&i.anchorNode!==null)&&(s=s.getTextContent().slice(0,l)+r+s.getTextContent().slice(l+n.focus.offset),i=i.anchorNode,o=s===(i.nodeType===3?i.nodeValue:null)),o||P(e,xr,r),r=r.length,Gn&&1<r&&t.inputType==="insertCompositionText"&&!e.isComposing()&&(n.anchor.offset-=r),Xl||ql||Zl||!e.isComposing()||(gi=0,Be(null))}else ra(!1,e,r!==null?r:void 0),Kr&&(gl(e,r||void 0),Kr=!1);et(),n=pe(),_d(n)}),fr=null}function Wp(t,e){pt(e,()=>{let n=ue();if(V(n)&&!e.isComposing()){let r=n.anchor,i=n.anchor.getNode();Be(r.key),(t.timeStamp<gi+30||r.type==="element"||!n.isCollapsed()||i.getFormat()!==n.format||i.getStyle()!==n.style)&&P(e,xr,Tp)}})}function gl(t,e){var n=t._compositionKey;if(Be(null),n!==null&&e!=null){if(e===""){e=ke(n),t=fo(t.getElementByKey(n)),t!==null&&t.nodeValue!==null&&F(e)&&ia(e,t.nodeValue,null,null,!0);return}if(e[e.length-1]===`
`&&(n=ue(),V(n))){e=n.focus,n.anchor.set(e.key,e.offset,e.type),P(t,uo,null);return}}ra(!0,t,e)}function Gp(t,e){Gn?Kr=!0:pt(e,()=>{gl(e,t.data)})}function Yp(t,e){if(gi=t.timeStamp,Bd=t.keyCode,!e.isComposing()){var{keyCode:n,shiftKey:r,ctrlKey:i,metaKey:o,altKey:s}=t;if(!P(e,qc,t)){if(n!==39||i||o||s)if(n!==39||s||r||!i&&!o)if(n!==37||i||o||s)if(n!==37||s||r||!i&&!o)if(n!==38||i||o)if(n!==40||i||o)if(n===13&&r)Xr=!0,P(e,uo,t);else if(n===32)P(e,id,t);else if(Je&&i&&n===79)t.preventDefault(),Xr=!0,P(e,Yr,!0);else if(n!==13||r)if(Je?!(s||o)&&(n===8||n===72&&i):!(i||s||o)&&n===8)n===8?P(e,od,t):(t.preventDefault(),P(e,ai,!0));else if(n===27)P(e,sd,t);else if(Je?!(r||s||o)&&(n===46||n===68&&i):!(i||s||o)&&n===46)n===46?P(e,ld,t):(t.preventDefault(),P(e,ai,!1));else if(n===8&&(Je?s:i))t.preventDefault(),P(e,ui,!0);else if(n===46&&(Je?s:i))t.preventDefault(),P(e,ui,!1);else if(Je&&o&&n===8)t.preventDefault(),P(e,ci,!0);else if(Je&&o&&n===46)t.preventDefault(),P(e,ci,!1);else if(n===66&&!s&&(Je?o:i))t.preventDefault(),P(e,yn,"bold");else if(n===85&&!s&&(Je?o:i))t.preventDefault(),P(e,yn,"underline");else if(n===73&&!s&&(Je?o:i))t.preventDefault(),P(e,yn,"italic");else if(n!==9||s||i||o)if(n===90&&!r&&(Je?o:i))t.preventDefault(),P(e,Gl,void 0);else{var l=Je?n===90&&o&&r:n===89&&i||n===90&&i&&r;l?(t.preventDefault(),P(e,Yl,void 0)):wi(e._editorState._selection)&&(l=r?!1:n===67?Je?o:i:!1,l?(t.preventDefault(),P(e,Vl,t)):(l=r?!1:n===88?Je?o:i:!1,l?(t.preventDefault(),P(e,Jl,t)):n===65&&(Je?o:i)&&(t.preventDefault(),e.update(()=>{let a=Wt();a.select(0,a.getChildrenSize())}))))}else P(e,ad,t);else Xr=!1,P(e,uo,t);else P(e,rd,t);else P(e,nd,t);else P(e,td,t);else P(e,ed,t);else P(e,Qc,t);else P(e,Zc,t);(i||r||s||o)&&P(e,pd,t)}}}function Kd(t){let e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}let Nr=new Map;function Wd(t){t=t.target;let e=Gt(t==null?null:t.nodeType===9?t.defaultView:t.ownerDocument.defaultView);if(e!==null){var n=ta(e.anchorNode);if(n!==null){fl&&(fl=!1,pt(n,()=>{var s=Ri(),l=e.anchorNode;l!==null&&(l=l.nodeType,l===1||l===3)&&(s=Jd(s,e,n),vn(s))})),t=na(n),t=t[t.length-1];var r=t._key,i=Nr.get(r),o=i||t;o!==n&&pu(e,o,!1),pu(e,n,!0),n!==t?Nr.set(r,n):i&&Nr.delete(r)}}}function Vp(t,e){Jr===0&&t.ownerDocument.addEventListener("selectionchange",Wd),Jr++,t.__lexicalEditor=e;let n=Kd(t);for(let r=0;r<cl.length;r++){let[i,o]=cl[r],s=typeof o=="function"?l=>{l._lexicalHandled!==!0&&(l._lexicalHandled=!0,e.isEditable()&&o(l,e))}:l=>{if(l._lexicalHandled!==!0&&(l._lexicalHandled=!0,e.isEditable()))switch(i){case"cut":return P(e,Jl,l);case"copy":return P(e,Vl,l);case"paste":return P(e,Wl,l);case"dragstart":return P(e,cd,l);case"dragover":return P(e,dd,l);case"dragend":return P(e,fd,l);case"focus":return P(e,gd,l);case"blur":return P(e,hd,l);case"drop":return P(e,ud,l)}};t.addEventListener(i,s),n.push(()=>{t.removeEventListener(i,s)})}}function hl(t,e,n){et();var r=t.__key;let i=t.getParent();if(i!==null){var o=Pp(t),s=!1;if(V(o)&&e){let l=o.anchor,a=o.focus;l.key===r&&(xo(l,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0),a.key===r&&(xo(a,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0)}V(o)&&e&&!s?(r=t.getIndexWithinParent(),Hn(t),Eo(o,i,r,-1)):Hn(t),n||Dt(i)||i.canBeEmpty()||!i.isEmpty()||hl(i,e),e&&ut(i)&&i.isEmpty()&&i.selectEnd()}}class Ai{static getType(){L(64)}static clone(){L(65)}constructor(e){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,Nd(this,e)}getType(){return this.__type}isAttached(){for(var e=this.__key;e!==null;){if(e==="root")return!0;if(e=ke(e),e===null)break;e=e.__parent}return!1}isSelected(e){if(e=e||ue(),e==null)return!1;let n=e.getNodes().some(r=>r.__key===this.__key);return F(this)?n:V(e)&&e.anchor.type==="element"&&e.focus.type==="element"&&e.anchor.key===e.focus.key&&e.anchor.offset===e.focus.offset?!1:n}getKey(){return this.__key}getIndexWithinParent(){var e=this.getParent();if(e===null)return-1;e=e.getFirstChild();let n=0;for(;e!==null;){if(this.is(e))return n;n++,e=e.getNextSibling()}return-1}getParent(){let e=this.getLatest().__parent;return e===null?null:ke(e)}getParentOrThrow(){let e=this.getParent();return e===null&&L(66),e}getTopLevelElement(){let e=this;for(;e!==null;){let n=e.getParent();if(Dt(n))return e;e=n}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return e===null&&L(67),e}getParents(){let e=[],n=this.getParent();for(;n!==null;)e.push(n),n=n.getParent();return e}getParentKeys(){let e=[],n=this.getParent();for(;n!==null;)e.push(n.__key),n=n.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return e===null?null:ke(e)}getPreviousSiblings(){let e=[];var n=this.getParent();if(n===null)return e;for(n=n.getFirstChild();n!==null&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return e===null?null:ke(e)}getNextSiblings(){let e=[],n=this.getNextSibling();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getCommonAncestor(e){let n=this.getParents();var r=e.getParents();O(this)&&n.unshift(this),O(e)&&r.unshift(e),e=n.length;var i=r.length;if(e===0||i===0||n[e-1]!==r[i-1])return null;for(r=new Set(r),i=0;i<e;i++){let o=n[i];if(r.has(o))return o}return null}is(e){return e==null?!1:this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var n=this.getCommonAncestor(e);let r=this;for(;;){var i=r.getParentOrThrow();if(i===n){i=r.getIndexWithinParent();break}r=i}for(r=e;;){if(e=r.getParentOrThrow(),e===n){n=r.getIndexWithinParent();break}r=e}return i<n}isParentOf(e){let n=this.__key;if(n===e.__key)return!1;for(;e!==null;){if(e.__key===n)return!0;e=e.getParent()}return!1}getNodesBetween(e){let n=this.isBefore(e),r=[],i=new Set;for(var o=this;;){var s=o.__key;if(i.has(s)||(i.add(s),r.push(o)),o===e)break;if(s=O(o)?n?o.getFirstChild():o.getLastChild():null,s!==null)o=s;else if(s=n?o.getNextSibling():o.getPreviousSibling(),s!==null)o=s;else{if(o=o.getParentOrThrow(),i.has(o.__key)||r.push(o),o===e)break;s=o;do s===null&&L(68),o=n?s.getNextSibling():s.getPreviousSibling(),s=s.getParent(),s!==null&&(o!==null||i.has(s.__key)||r.push(s));while(o===null)}}return n||r.reverse(),r}isDirty(){let e=pe()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){let e=ke(this.__key);return e===null&&L(113),e}getWritable(){et();var e=Yt(),n=pe();e=e._nodeMap;let r=this.__key,i=this.getLatest(),o=i.__parent;n=n._cloneNotNeeded;var s=ue();return s!==null&&(s._cachedNodes=null),n.has(r)?(go(i),i):(s=i.constructor.clone(i),s.__parent=o,s.__next=i.__next,s.__prev=i.__prev,O(i)&&O(s)?(s.__first=i.__first,s.__last=i.__last,s.__size=i.__size,s.__indent=i.__indent,s.__format=i.__format,s.__dir=i.__dir):F(i)&&F(s)&&(s.__format=i.__format,s.__style=i.__style,s.__mode=i.__mode,s.__detail=i.__detail),n.add(r),s.__key=r,go(s),e.set(r,s),s)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){L(70)}updateDOM(){L(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){L(72)}static importJSON(){L(18)}static transform(){return null}remove(e){hl(this,!0,e)}replace(e,n){et();var r=ue();r!==null&&(r=r.clone()),_s(this,e);let i=this.getLatest(),o=this.__key,s=e.__key,l=e.getWritable();e=this.getParentOrThrow().getWritable();let a=e.__size;Hn(l);let d=i.getPreviousSibling(),g=i.getNextSibling(),c=i.__prev,u=i.__next,f=i.__parent;return hl(i,!1,!0),d===null?e.__first=s:d.getWritable().__next=s,l.__prev=c,g===null?e.__last=s:g.getWritable().__prev=s,l.__next=u,l.__parent=f,e.__size=a,n&&this.getChildren().forEach(h=>{l.append(h)}),V(r)&&(vn(r),n=r.anchor,r=r.focus,n.key===o&&mu(n,l),r.key===o&&mu(r,l)),En()===o&&Be(s),l}insertAfter(e,n=!0){et(),_s(this,e);var r=this.getWritable();let i=e.getWritable();var o=i.getParent();let s=ue();var l=!1,a=!1;if(o!==null){var d=e.getIndexWithinParent();Hn(i),V(s)&&(a=o.__key,l=s.anchor,o=s.focus,l=l.type==="element"&&l.key===a&&l.offset===d+1,a=o.type==="element"&&o.key===a&&o.offset===d+1)}o=this.getNextSibling(),d=this.getParentOrThrow().getWritable();let g=i.__key,c=r.__next;return o===null?d.__last=g:o.getWritable().__prev=g,d.__size++,r.__next=g,i.__next=c,i.__prev=r.__key,i.__parent=r.__parent,n&&V(s)&&(n=this.getIndexWithinParent(),Eo(s,d,n+1),r=d.__key,l&&s.anchor.set(r,n+2,"element"),a&&s.focus.set(r,n+2,"element")),e}insertBefore(e,n=!0){et(),_s(this,e);var r=this.getWritable();let i=e.getWritable(),o=i.__key;Hn(i);let s=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),a=r.__prev,d=this.getIndexWithinParent();return s===null?l.__first=o:s.getWritable().__next=o,l.__size++,r.__prev=o,i.__prev=a,i.__next=r.__key,i.__parent=r.__parent,r=ue(),n&&V(r)&&(n=this.getParentOrThrow(),Eo(r,n,d)),e}isParentRequired(){return!1}createParentElementNode(){return Vn()}selectPrevious(e,n){et();let r=this.getPreviousSibling(),i=this.getParentOrThrow();return r===null?i.select(0,0):O(r)?r.select():F(r)?r.select(e,n):(e=r.getIndexWithinParent()+1,i.select(e,e))}selectNext(e,n){et();let r=this.getNextSibling(),i=this.getParentOrThrow();return r===null?i.select():O(r)?r.select(0,0):F(r)?r.select(e,n):(e=r.getIndexWithinParent(),i.select(e,e))}markDirty(){this.getWritable()}}class Kt{constructor(e,n,r){this._selection=null,this.key=e,this.offset=n,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let n=this.getNode(),r=e.getNode(),i=this.offset;if(e=e.offset,O(n)){var o=n.getDescendantByIndex(i);n=o??n}return O(r)&&(o=r.getDescendantByIndex(e),r=o??r),n===r?i<e:n.isBefore(r)}getNode(){let e=ke(this.key);return e===null&&L(20),e}set(e,n,r){let i=this._selection,o=this.key;this.key=e,this.offset=n,this.type=r,kr()||(En()===o&&Be(e),i!==null&&(i._cachedNodes=null,i.dirty=!0))}}function xs(t,e){let n=e.__key,r=t.offset,i="element";if(F(e))i="text",e=e.getTextContentSize(),r>e&&(r=e);else if(!O(e)){var o=e.getNextSibling();F(o)?(n=o.__key,r=0,i="text"):(o=e.getParent())&&(n=o.__key,r=e.getIndexWithinParent()+1)}t.set(n,r,i)}function mu(t,e){if(O(e)){let n=e.getLastDescendant();O(n)||F(n)?xs(t,n):xs(t,e)}else xs(t,e)}function _u(t,e,n,r){let i=t.getNode(),o=i.getChildAtIndex(t.offset),s=Fe(),l=ut(i)?Vn().append(s):s;s.setFormat(n),s.setStyle(r),o===null?i.append(l):o.insertBefore(l),t.is(e)&&e.set(s.__key,0,"text"),t.set(s.__key,0,"text")}function hn(t,e,n,r){t.key=e,t.offset=n,t.type=r}class Xo{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}is(e){if(!wi(e))return!1;let n=this._nodes,r=e._nodes;return n.size===r.size&&Array.from(n).every(i=>r.has(i))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Xo(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,n){let r=this.getNodes(),i=r.length;var o=r[i-1];if(F(o))o=o.select();else{let s=o.getIndexWithinParent()+1;o=o.getParentOrThrow().select(s,s)}for(o.insertNodes(e,n),e=0;e<i;e++)r[e].remove();return!0}getNodes(){var e=this._cachedNodes;if(e!==null)return e;var n=this._nodes;e=[];for(let r of n)n=ke(r),n!==null&&e.push(n);return kr()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}}function V(t){return t instanceof tr}class qo{constructor(e,n,r){this.gridKey=e,this.anchor=n,this.focus=r,this.dirty=!1,this._cachedNodes=null,n._selection=this,r._selection=this}is(e){return la(e)?this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus):!1}set(e,n,r){this.dirty=!0,this.gridKey=e,this.anchor.key=n,this.focus.key=r,this._cachedNodes=null}clone(){return new qo(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return qi(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,n){let r=this.focus.getNode();return kd(r.select(0,r.getChildrenSize())).insertNodes(e,n)}getShape(){var e=ke(this.anchor.key);e===null&&L(21);var n=e.getIndexWithinParent();e=e.getParentOrThrow().getIndexWithinParent();var r=ke(this.focus.key);r===null&&L(22);var i=r.getIndexWithinParent();let o=r.getParentOrThrow().getIndexWithinParent();return r=Math.min(n,i),n=Math.max(n,i),i=Math.min(e,o),e=Math.max(e,o),{fromX:Math.min(r,n),fromY:Math.min(i,e),toX:Math.max(r,n),toY:Math.max(i,e)}}getNodes(){function e(m){let{cell:x,startColumn:_,startRow:E}=m;a=Math.min(a,_),d=Math.min(d,E),g=Math.max(g,_+x.__colSpan-1),c=Math.max(c,E+x.__rowSpan-1)}var n=this._cachedNodes;if(n!==null)return n;var r=this.anchor.getNode();n=this.focus.getNode(),r=_o(r,zt);var i=_o(n,zt);zt(r)||L(103),zt(i)||L(104),n=r.getParent(),mi(n)||L(105),n=n.getParent(),da(n)||L(106);let[o,s,l]=Xd(n,r,i),a=Math.min(s.startColumn,l.startColumn),d=Math.min(s.startRow,l.startRow),g=Math.max(s.startColumn+s.cell.__colSpan-1,l.startColumn+l.cell.__colSpan-1),c=Math.max(s.startRow+s.cell.__rowSpan-1,l.startRow+l.cell.__rowSpan-1);r=a,i=d;for(var u=a,f=d;a<r||d<i||g>u||c>f;){if(a<r){var h=f-i;--r;for(var p=0;p<=h;p++)e(o[i+p][r])}if(d<i)for(h=u-r,--i,p=0;p<=h;p++)e(o[i][r+p]);if(g>u)for(h=f-i,u+=1,p=0;p<=h;p++)e(o[i+p][u]);if(c>f)for(h=u-r,f+=1,p=0;p<=h;p++)e(o[f][r+p])}for(n=[n],r=null,i=d;i<=c;i++)for(u=a;u<=g;u++)({cell:f}=o[i][u]),h=f.getParent(),mi(h)||L(107),h!==r&&n.push(h),n.push(f,...Fp(f)),r=h;return kr()||(this._cachedNodes=n),n}getTextContent(){let e=this.getNodes(),n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}}function la(t){return t instanceof qo}class tr{constructor(e,n,r,i){this.anchor=e,this.focus=n,this.dirty=!1,this.format=r,this.style=i,this._cachedNodes=null,e._selection=this,n._selection=this}is(e){return V(e)?this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style:!1}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var e=this._cachedNodes;if(e!==null)return e;e=this.anchor;var n=this.focus,r=e.isBefore(n),i=r?e:n;r=r?n:e,e=i.getNode(),n=r.getNode();let o=i.offset;return i=r.offset,O(e)&&(r=e.getDescendantByIndex(o),e=r??e),O(n)&&(r=n.getDescendantByIndex(i),r!==null&&r!==e&&n.getChildAtIndex(i)===r&&(r=r.getPreviousSibling()),n=r??n),e=e.is(n)?O(e)&&0<e.getChildrenSize()?[]:[e]:e.getNodesBetween(n),kr()||(this._cachedNodes=e),e}setTextNodeRange(e,n,r,i){hn(this.anchor,e.__key,n,"text"),hn(this.focus,r.__key,i,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let e=this.getNodes();if(e.length===0)return"";let n=e[0],r=e[e.length-1],i=this.anchor,o=this.focus,s=i.isBefore(o),[l,a]=qi(this),d="",g=!0;for(let c=0;c<e.length;c++){let u=e[c];if(O(u)&&!u.isInline())g||(d+=`
`),g=!u.isEmpty();else if(g=!1,F(u)){let f=u.getTextContent();u===n?u===r?(i.type!=="element"||o.type!=="element"||o.offset===i.offset)&&(f=l<a?f.slice(l,a):f.slice(a,l)):f=s?f.slice(l):f.slice(a):u===r&&(f=s?f.slice(0,a):f.slice(0,l)),d+=f}else!ae(u)&&!pi(u)||u===r&&this.isCollapsed()||(d+=u.getTextContent())}return d}applyDOMRange(e){let n=pe(),r=n.getEditorState()._selection;if(e=Yd(e.startContainer,e.startOffset,e.endContainer,e.endOffset,n,r),e!==null){var[i,o]=e;hn(this.anchor,i.key,i.offset,i.type),hn(this.focus,o.key,o.offset,o.type),this._cachedNodes=null}}clone(){let e=this.anchor,n=this.focus;return new tr(new Kt(e.key,e.offset,e.type),new Kt(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(e){this.format=Ed(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){return(this.format&zn[e])!==0}insertRawText(e){let n=e.split(/\r?\n/);if(n.length===1)this.insertText(e);else{e=[];let r=n.length;for(let i=0;i<r;i++){let o=n[i];o!==""&&e.push(Fe(o)),i!==r-1&&e.push(Ar())}this.insertNodes(e)}}insertText(e){var n=this.anchor,r=this.focus,i=this.isCollapsed()||n.isBefore(r),o=this.format,s=this.style;i&&n.type==="element"?_u(n,r,o,s):i||r.type!=="element"||_u(r,n,o,s);var l=this.getNodes(),a=l.length,d=i?r:n;r=(i?n:r).offset;var g=d.offset;n=l[0],F(n)||L(26),i=n.getTextContent().length;var c=n.getParentOrThrow(),u=l[a-1];if(this.isCollapsed()&&r===i&&(n.isSegmented()||n.isToken()||!n.canInsertTextAfter()||!c.canInsertTextAfter()&&n.getNextSibling()===null)){var f=n.getNextSibling();if((!F(f)||tl(f))&&(f=Fe(),f.setFormat(o),c.canInsertTextAfter()?n.insertAfter(f):c.insertAfter(f)),f.select(0,0),n=f,e!==""){this.insertText(e);return}}else if(this.isCollapsed()&&r===0&&(n.isSegmented()||n.isToken()||!n.canInsertTextBefore()||!c.canInsertTextBefore()&&n.getPreviousSibling()===null)){if(f=n.getPreviousSibling(),(!F(f)||tl(f))&&(f=Fe(),f.setFormat(o),c.canInsertTextBefore()?n.insertBefore(f):c.insertBefore(f)),f.select(),n=f,e!==""){this.insertText(e);return}}else if(n.isSegmented()&&r!==i)c=Fe(n.getTextContent()),c.setFormat(o),n.replace(c),n=c;else if(!(this.isCollapsed()||e===""||(f=u.getParent(),c.canInsertTextBefore()&&c.canInsertTextAfter()&&(!O(f)||f.canInsertTextBefore()&&f.canInsertTextAfter())))){this.insertText(""),Gd(this.anchor,this.focus,null),this.insertText(e);return}if(a===1)if(n.isToken())e=Fe(e),e.select(),n.replace(e);else{if(l=n.getFormat(),a=n.getStyle(),r===g&&(l!==o||a!==s))if(n.getTextContent()==="")n.setFormat(o),n.setStyle(s);else{l=Fe(e),l.setFormat(o),l.setStyle(s),l.select(),r===0?n.insertBefore(l,!1):([a]=n.splitText(r),a.insertAfter(l,!1)),l.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);return}n=n.spliceText(r,g-r,e,!0),n.getTextContent()===""?n.remove():this.anchor.type==="text"&&(n.isComposing()?this.anchor.offset-=e.length:(this.format=l,this.style=a))}else{if(o=new Set([...n.getParentKeys(),...u.getParentKeys()]),f=O(n)?n:n.getParentOrThrow(),s=O(u)?u:u.getParentOrThrow(),c=u,!f.is(s)&&s.isInline())do c=s,s=s.getParentOrThrow();while(s.isInline());d.type==="text"&&(g!==0||u.getTextContent()==="")||d.type==="element"&&u.getIndexWithinParent()<g?F(u)&&!u.isToken()&&g!==u.getTextContentSize()?(u.isSegmented()&&(d=Fe(u.getTextContent()),u.replace(d),u=d),u=u.spliceText(0,g,""),o.add(u.__key)):(d=u.getParentOrThrow(),d.canBeEmpty()||d.getChildrenSize()!==1?u.remove():d.remove()):o.add(u.__key),d=s.getChildren(),g=new Set(l),u=f.is(s),f=f.isInline()&&n.getNextSibling()===null?f:n;for(let h=d.length-1;0<=h;h--){let p=d[h];if(p.is(n)||O(p)&&p.isParentOf(n))break;p.isAttached()&&(!g.has(p)||p.is(c)?u||f.insertAfter(p,!1):p.remove())}if(!u)for(d=s,g=null;d!==null;)s=d.getChildren(),u=s.length,(u===0||s[u-1].is(g))&&(o.delete(d.__key),g=d),d=d.getParent();for(n.isToken()?r===i?n.select():(e=Fe(e),e.select(),n.replace(e)):(n=n.spliceText(r,i-r,e,!0),n.getTextContent()===""?n.remove():n.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length)),e=1;e<a;e++)n=l[e],o.has(n.__key)||n.remove()}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())this.toggleFormat(e),Be(null);else{var n=this.getNodes(),r=[];for(var i of n)F(i)&&r.push(i);var o=r.length;if(o===0)this.toggleFormat(e),Be(null);else{i=this.anchor;var s=this.focus,l=this.isBackward();n=l?s:i,i=l?i:s;var a=0,d=r[0];if(s=n.type==="element"?0:n.offset,n.type==="text"&&s===d.getTextContentSize()&&(a=1,d=r[1],s=0),d!=null){l=d.getFormatFlags(e,null);var g=o-1,c=r[g];if(o=i.type==="text"?i.offset:c.getTextContentSize(),d.is(c))s!==o&&(s===0&&o===d.getTextContentSize()?d.setFormat(l):(e=d.splitText(s,o),e=s===0?e[0]:e[1],e.setFormat(l),n.type==="text"&&n.set(e.__key,0,"text"),i.type==="text"&&i.set(e.__key,o-s,"text")),this.format=l);else{s!==0&&([,d]=d.splitText(s),s=0),d.setFormat(l);var u=c.getFormatFlags(e,l);for(0<o&&(o!==c.getTextContentSize()&&([c]=c.splitText(o)),c.setFormat(u)),a+=1;a<g;a++){let f=r[a];if(!f.isToken()){let h=f.getFormatFlags(e,u);f.setFormat(h)}}n.type==="text"&&n.set(d.__key,s,"text"),i.type==="text"&&i.set(c.__key,o,"text"),this.format=l|u}}}}}insertNodes(e,n){if(!this.isCollapsed()){var r=this.isBackward()?this.anchor:this.focus,i=r.getNode().getNextSibling();if(i=i?i.getKey():null,r=(r=r.getNode().getPreviousSibling())?r.getKey():null,this.removeText(),this.isCollapsed()&&this.focus.type==="element"){if(this.focus.key===i&&this.focus.offset===0){var o=Fe();this.focus.getNode().insertBefore(o)}else this.focus.key===r&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(o=Fe(),this.focus.getNode().insertAfter(o));o&&(this.focus.set(o.__key,0,"text"),this.anchor.set(o.__key,0,"text"))}}o=this.anchor,r=o.offset;var s=o.getNode();i=s,o.type==="element"&&(o=o.getNode(),i=o.getChildAtIndex(r-1),i=i===null?o:i),o=[];var l=s.getNextSiblings(),a=Dt(s)?null:s.getTopLevelElementOrThrow();if(F(s))if(i=s.getTextContent().length,r===0&&i!==0)i=s.getPreviousSibling(),i=i!==null?i:s.getParentOrThrow(),o.push(s);else if(r===i)i=s;else{if(s.isToken())return!1;[i,s]=s.splitText(r),o.push(s)}s=i,o.push(...l),l=e[0];var d=!1,g=null;for(let h=0;h<e.length;h++){var c=e[h];if(Dt(i)||ae(i)||!O(c)||c.isInline())d&&!O(c)&&!ae(c)&&Dt(i.getParent())&&L(28);else{if(c.is(l)){if(O(i)&&i.isEmpty()&&i.canReplaceWith(c)){i.replace(c),i=c,d=!0;continue}if(d=c.getFirstDescendant(),xd(d)){for(var u=d.getParentOrThrow();u.isInline();)u=u.getParentOrThrow();if(g=u.getChildren(),d=g.length,O(i)){var f=i.getFirstChild();for(let p=0;p<d;p++){let m=g[p];f===null?i.append(m):f.insertAfter(m),f=m}}else{for(f=d-1;0<=f;f--)i.insertAfter(g[f]);i=i.getParentOrThrow()}if(g=g[d-1],u.remove(),d=!0,u.is(c))continue}}F(i)&&(a===null&&L(27),i=a)}d=!1,O(i)&&!i.isInline()?(g=c,ae(c)&&!c.isInline()?i=i.insertAfter(c,!1):O(c)?(c.canBeEmpty()||!c.isEmpty())&&(ut(i)?(u=i.getChildAtIndex(r),u!==null?u.insertBefore(c):i.append(c),i=c):c.isInline()?(i.append(c),i=c):i=i.insertAfter(c,!1)):(u=i.getFirstChild(),u!==null?u.insertBefore(c):i.append(c),i=c)):!O(c)||O(c)&&c.isInline()||ae(i)&&!i.isInline()?(g=c,V(this)&&ae(c)&&(O(i)||F(i))&&!c.isInline()?(F(i)?(u=i.getParentOrThrow(),[i]=i.splitText(r),i=i.getIndexWithinParent()+1):(u=i,i=r),[,i]=Od(u,i),i=i.insertBefore(c)):i=i.insertAfter(c,!1)):(c=i.getParentOrThrow(),pi(i)&&i.remove(),i=c,h--)}if(n&&(F(s)?s.select():(e=i.getPreviousSibling(),F(e)?e.select():(e=i.getIndexWithinParent(),i.getParentOrThrow().select(e,e)))),O(i)){if(e=F(g)?g:O(g)&&g.isInline()?g.getLastDescendant():i.getLastDescendant(),n||(e===null?i.select():F(e)?e.getTextContent()===""?e.selectPrevious():e.select():e.selectNext()),o.length!==0)for(n=i,e=o.length-1;0<=e;e--)r=o[e],a=r.getParentOrThrow(),!O(i)||Cu(r)||ae(r)&&(!r.isInline()||r.isIsolated())?O(i)||Cu(r)?O(r)&&!r.canInsertAfter(i)?(s=a.constructor.clone(a),O(s)||L(29),s.append(r),i.insertAfter(s)):i.insertAfter(r):(i.insertBefore(r),i=r):(n===i?i.append(r):i.insertBefore(r),i=r),a.isEmpty()&&!a.canBeEmpty()&&a.remove()}else n||(F(i)?i.select():(n=i.getParentOrThrow(),e=i.getIndexWithinParent()+1,n.select(e,e)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var e=this.anchor,n=e.offset,r=[];if(e.type==="text"){var i=e.getNode(),o=i.getNextSiblings().reverse(),s=i.getParentOrThrow(),l=s.isInline(),a=l?s.getTextContentSize():i.getTextContentSize();n===0?o.push(i):(l&&(r=s.getNextSiblings()),n===a||l&&n===i.getTextContentSize()||([,i]=i.splitText(n),o.push(i)))}else{if(s=e.getNode(),Dt(s)){o=Vn(),r=s.getChildAtIndex(n),o.select(),r!==null?r.insertBefore(o,!1):s.append(o);return}o=s.getChildren().slice(n).reverse()}if(i=o.length,n===0&&0<i&&s.isInline()){if(r=s.getParentOrThrow(),o=r.insertNewAfter(this,!1),O(o))for(r=r.getChildren(),s=0;s<r.length;s++)o.append(r[s])}else if(l=s.insertNewAfter(this,!1),l===null)this.insertLineBreak();else if(O(l))if(a=s.getFirstChild(),n===0&&(s.is(e.getNode())||a&&a.is(e.getNode()))&&0<i)s.insertBefore(l);else{if(s=null,n=r.length,e=l.getParentOrThrow(),0<n)for(a=0;a<n;a++)e.append(r[a]);if(i!==0)for(r=0;r<i;r++)n=o[r],s===null?l.append(n):s.insertBefore(n),s=n;l.canBeEmpty()||l.getChildrenSize()!==0?l.selectStart():(l.selectPrevious(),l.remove())}}insertLineBreak(e){let n=Ar();var r=this.anchor;r.type==="element"&&(r=r.getNode(),ut(r)&&this.insertParagraph()),e?this.insertNodes([n],!0):this.insertNodes([n])&&n.selectNext(0,0)}getCharacterOffsets(){return qi(this)}extract(){var e=this.getNodes(),n=e.length,r=n-1,i=this.anchor;let o=this.focus;var s=e[0];let l=e[r],[a,d]=qi(this);return n===0?[]:n===1?F(s)&&!this.isCollapsed()?(e=a>d?d:a,r=s.splitText(e,a>d?a:d),e=e===0?r[0]:r[1],e!=null?[e]:[]):[s]:(n=i.isBefore(o),F(s)&&(i=n?a:d,i===s.getTextContentSize()?e.shift():i!==0&&([,s]=s.splitText(i),e[0]=s)),F(l)&&(s=l.getTextContent().length,n=n?d:a,n===0?e.pop():n!==s&&([l]=l.splitText(n),e[r]=l)),e)}modify(e,n,r){var i=this.focus,o=this.anchor,s=e==="move",l=nl(i,n);if(ae(l)&&!l.isIsolated())s&&l.isKeyboardSelectable()?(n=pl(),n.add(l.__key),vn(n)):(e=n?l.getPreviousSibling():l.getNextSibling(),F(e)?(l=e.__key,n=n?e.getTextContent().length:0,i.set(l,n,"text"),s&&o.set(l,n,"text")):(r=l.getParentOrThrow(),O(e)?(r=e.__key,l=n?e.getChildrenSize():0):(l=l.getIndexWithinParent(),r=r.__key,n||l++),i.set(r,l,"element"),s&&o.set(r,l,"element")));else if(o=pe(),i=Gt(o._window)){var a=o._blockCursorElement,d=o._rootElement;if(d===null||a===null||!O(l)||l.isInline()||l.canBeEmpty()||rl(a,o,d),i.modify(e,n?"backward":"forward",r),0<i.rangeCount&&(l=i.getRangeAt(0),o=this.anchor.getNode(),o=ut(o)?o:wd(o),this.applyDOMRange(l),this.dirty=!0,!s)){for(s=this.getNodes(),e=[],r=!1,a=0;a<s.length;a++)d=s[a],mo(d,o)?e.push(d):r=!0;r&&0<e.length&&(n?(n=e[0],O(n)?n.selectStart():n.getParentOrThrow().selectStart()):(n=e[e.length-1],O(n)?n.selectEnd():n.getParentOrThrow().selectEnd())),(i.anchorNode!==l.startContainer||i.anchorOffset!==l.startOffset)&&(n=this.focus,s=this.anchor,i=s.key,l=s.offset,o=s.type,hn(s,n.key,n.offset,n.type),hn(n,i,l,o),this._cachedNodes=null)}}}deleteCharacter(e){if(this.isCollapsed()){var n=this.anchor,r=this.focus,i=n.getNode();if(!e&&(n.type==="element"&&O(i)&&n.offset===i.getChildrenSize()||n.type==="text"&&n.offset===i.getTextContentSize())){var o=i.getParent();if(o=i.getNextSibling()||(o===null?null:o.getNextSibling()),O(o)&&o.isShadowRoot())return}if(o=nl(r,e),ae(o)&&!o.isIsolated()){o.isKeyboardSelectable()&&O(i)&&i.getChildrenSize()===0?(i.remove(),e=pl(),e.add(o.__key),vn(e)):o.remove();return}if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&n.offset===0&&(n.type==="element"?n.getNode():n.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(o=r.type==="text"?r.getNode():null,i=n.type==="text"?n.getNode():null,o!==null&&o.isSegmented()){if(n=r.offset,r=o.getTextContentSize(),o.is(i)||e&&n!==r||!e&&n!==0){Eu(o,e,n);return}}else if(i!==null&&i.isSegmented()&&(n=n.offset,r=i.getTextContentSize(),i.is(o)||e&&n!==0||!e&&n!==r)){Eu(i,e,n);return}if(i=this.anchor,o=this.focus,n=i.getNode(),r=o.getNode(),n===r&&i.type==="text"&&o.type==="text"){var s=i.offset,l=o.offset;let a=s<l;r=a?s:l,l=a?l:s,s=l-1,r!==s&&(n=n.getTextContent().slice(r,l),Td(n)||(e?o.offset=s:i.offset=s))}}}i=this.isCollapsed(),this.removeText(),e&&!i&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0&&(e=this.anchor.getNode(),e.isEmpty()&&ut(e.getParent())&&e.getIndexWithinParent()===0&&e.collapseAtStart(this))}deleteLine(e){this.isCollapsed()&&(this.anchor.type==="text"&&this.modify("extend",e,"lineboundary"),(e?this.focus:this.anchor).offset===0&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function wi(t){return t instanceof Xo}function yu(t){let e=t.offset;return t.type==="text"?e:(t=t.getNode(),e===t.getChildrenSize()?t.getTextContent().length:0)}function qi(t){let e=t.anchor;return t=t.focus,e.type==="element"&&t.type==="element"&&e.key===t.key&&e.offset===t.offset?[0,0]:[yu(e),yu(t)]}function Eu(t,e,n){let r=t.getTextContent().split(/(?=\s)/g),i=r.length,o=0,s=0;for(let l=0;l<i;l++){let a=r[l],d=l===i-1;if(s=o,o+=a.length,e&&o===n||o>n||d){r.splice(l,1),d&&(s=void 0);break}}e=r.join("").trim(),e===""?t.remove():(t.setTextContent(e),t.select(s,s))}function xu(t,e,n,r){var i=e;if(t.nodeType===1){let l=!1;var o=t.childNodes,s=o.length;i===s&&(l=!0,i=s-1);let a=o[i];if(s=!1,a===r._blockCursorElement?(a=o[i+1],s=!0):r._blockCursorElement!==null&&i--,r=hr(a),F(r))i=l?r.getTextContentSize():0;else{if(o=hr(t),o===null)return null;if(O(o)?(t=o.getChildAtIndex(i),(e=O(t))&&(e=t.getParent(),e=n===null||e===null||!e.canBeEmpty()||e!==n.getNode()),e&&(n=l?t.getLastDescendant():t.getFirstDescendant(),n===null?(o=t,i=0):(t=n,o=O(t)?t:t.getParentOrThrow())),F(t)?(r=t,o=null,i=l?t.getTextContentSize():0):t!==o&&l&&!s&&i++):(i=o.getIndexWithinParent(),i=e===0&&ae(o)&&hr(t)===o?i:i+1,o=o.getParentOrThrow()),O(o))return new Kt(o.__key,i,"element")}}else r=hr(t);return F(r)?new Kt(r.__key,i,"text"):null}function Nu(t,e,n){var r=t.offset,i=t.getNode();r===0?(r=i.getPreviousSibling(),i=i.getParent(),e?(n||!e)&&r===null&&O(i)&&i.isInline()&&(e=i.getPreviousSibling(),F(e)&&(t.key=e.__key,t.offset=e.getTextContent().length)):O(r)&&!n&&r.isInline()?(t.key=r.__key,t.offset=r.getChildrenSize(),t.type="element"):F(r)&&(t.key=r.__key,t.offset=r.getTextContent().length)):r===i.getTextContent().length&&(r=i.getNextSibling(),i=i.getParent(),e&&O(r)&&r.isInline()?(t.key=r.__key,t.offset=0,t.type="element"):(n||e)&&r===null&&O(i)&&i.isInline()&&!i.canInsertTextAfter()&&(e=i.getNextSibling(),F(e)&&(t.key=e.__key,t.offset=0)))}function Gd(t,e,n){if(t.type==="text"&&e.type==="text"){var r=t.isBefore(e);let i=t.is(e);Nu(t,r,i),Nu(e,!r,i),i&&(e.key=t.key,e.offset=t.offset,e.type=t.type),r=pe(),r.isComposing()&&r._compositionKey!==t.key&&V(n)&&(r=n.anchor,n=n.focus,hn(t,r.key,r.offset,r.type),hn(e,n.key,n.offset,n.type))}}function Yd(t,e,n,r,i,o){return t===null||n===null||!Ti(i,t,n)||(e=xu(t,e,V(o)?o.anchor:null,i),e===null)||(r=xu(n,r,V(o)?o.focus:null,i),r===null||e.type==="element"&&r.type==="element"&&(t=hr(t),n=hr(n),ae(t)&&ae(n)))?null:(Gd(e,r,o),[e,r])}function Cu(t){return O(t)&&!t.isInline()}function Vd(t,e,n,r,i,o){let s=Yt();return t=new tr(new Kt(t,e,i),new Kt(n,r,o),0,""),t.dirty=!0,s._selection=t}function pl(){return new Xo(new Set)}function Jp(t){let e=t.getEditorState()._selection,n=Gt(t._window);return wi(e)||la(e)?e.clone():Jd(e,n,t)}function Jd(t,e,n){var r=n._window;if(r===null)return null;var i=r.event,o=i?i.type:void 0;r=o==="selectionchange",i=!el&&(r||o==="beforeinput"||o==="compositionstart"||o==="compositionend"||o==="click"&&i&&i.detail===3||o==="drop"||o===void 0);let s;if(!V(t)||i){if(e===null)return null;if(i=e.anchorNode,o=e.focusNode,s=e.anchorOffset,e=e.focusOffset,r&&V(t)&&!Ti(n,i,o))return t.clone()}else return t.clone();if(n=Yd(i,s,o,e,n,t),n===null)return null;let[l,a]=n;return new tr(l,a,V(t)?t.format:0,V(t)?t.style:"")}function ue(){return Yt()._selection}function Ri(){return pe()._editorState._selection}function Eo(t,e,n,r=1){var i=t.anchor,o=t.focus,s=i.getNode(),l=o.getNode();if(e.is(s)||e.is(l)){if(s=e.__key,t.isCollapsed())e=i.offset,(n<=e&&0<r||n<e&&0>r)&&(n=Math.max(0,e+r),i.set(s,n,"element"),o.set(s,n,"element"),vu(t));else{let d=t.isBackward();l=d?o:i;var a=l.getNode();i=d?i:o,o=i.getNode(),e.is(a)&&(a=l.offset,(n<=a&&0<r||n<a&&0>r)&&l.set(s,Math.max(0,a+r),"element")),e.is(o)&&(e=i.offset,(n<=e&&0<r||n<e&&0>r)&&i.set(s,Math.max(0,e+r),"element"))}vu(t)}}function vu(t){var e=t.anchor,n=e.offset;let r=t.focus;var i=r.offset,o=e.getNode(),s=r.getNode();if(t.isCollapsed())O(o)&&(s=o.getChildrenSize(),s=(i=n>=s)?o.getChildAtIndex(s-1):o.getChildAtIndex(n),F(s)&&(n=0,i&&(n=s.getTextContentSize()),e.set(s.__key,n,"text"),r.set(s.__key,n,"text")));else{if(O(o)){let l=o.getChildrenSize();n=(t=n>=l)?o.getChildAtIndex(l-1):o.getChildAtIndex(n),F(n)&&(o=0,t&&(o=n.getTextContentSize()),e.set(n.__key,o,"text"))}O(s)&&(n=s.getChildrenSize(),i=(e=i>=n)?s.getChildAtIndex(n-1):s.getChildAtIndex(i),F(i)&&(s=0,e&&(s=i.getTextContentSize()),r.set(i.__key,s,"text")))}}function Xp(t,e){if(e=e.getEditorState()._selection,t=t._selection,V(t)){var n=t.anchor;let r=t.focus,i;n.type==="text"&&(i=n.getNode(),i.selectionTransform(e,t)),r.type==="text"&&(n=r.getNode(),i!==n&&n.selectionTransform(e,t))}}function xo(t,e,n,r,i){let o=null,s=0,l=null;r!==null?(o=r.__key,F(r)?(s=r.getTextContentSize(),l="text"):O(r)&&(s=r.getChildrenSize(),l="element")):i!==null&&(o=i.__key,F(i)?l="text":O(i)&&(l="element")),o!==null&&l!==null?t.set(o,s,l):(s=e.getIndexWithinParent(),s===-1&&(s=n.getChildrenSize()),t.set(n.__key,s,"element"))}function Tu(t,e,n,r,i){t.type==="text"?(t.key=n,e||(t.offset+=i)):t.offset>r.getIndexWithinParent()&&--t.offset}function Xd(t,e,n){let r=[],i=null,o=null;t=t.getChildren();for(let g=0;g<t.length;g++){var s=t[g];mi(s)||L(108);var l=s.getChildren();s=0;for(let c of l){for(zt(c)||L(109);r[g]!==void 0&&r[g][s]!==void 0;)s++;l=g;var a=s,d=c;let u={cell:d,startColumn:a,startRow:l},f=d.__rowSpan,h=d.__colSpan;for(let p=0;p<f;p++){r[l+p]===void 0&&(r[l+p]=[]);for(let m=0;m<h;m++)r[l+p][a+m]=u}e.is(d)&&(i=u),n.is(d)&&(o=u),s+=c.__colSpan}}return i===null&&L(110),o===null&&L(111),[r,i,o]}let Le=null,Me=null,ct=!1,Ns=!1,hi=0,Su={characterData:!0,childList:!0,subtree:!0};function kr(){return ct||Le!==null&&Le._readOnly}function et(){ct&&L(13)}function Yt(){return Le===null&&L(15),Le}function pe(){return Me===null&&L(16),Me}function Au(t,e,n){var r=e.__type;let i=t._nodes.get(r);for(i===void 0&&L(30),t=n.get(r),t===void 0&&(t=Array.from(i.transforms),n.set(r,t)),n=t.length,r=0;r<n&&(t[r](e),e.isAttached());r++);}function qp(t,e){e=e._dirtyLeaves,t=t._nodeMap;for(let n of e)e=t.get(n),F(e)&&e.isAttached()&&e.isSimpleText()&&!e.isUnmergeable()&&Dd(e)}function Zp(t,e){let n=e._dirtyLeaves,r=e._dirtyElements;t=t._nodeMap;let i=En(),o=new Map;var s=n;let l=s.size;for(var a=r,d=a.size;0<l||0<d;){if(0<l){e._dirtyLeaves=new Set;for(let g of s)s=t.get(g),F(s)&&s.isAttached()&&s.isSimpleText()&&!s.isUnmergeable()&&Dd(s),s!==void 0&&s!==void 0&&s.__key!==i&&s.isAttached()&&Au(e,s,o),n.add(g);if(s=e._dirtyLeaves,l=s.size,0<l){hi++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map;for(let g of a)a=g[0],d=g[1],(a==="root"||d)&&(s=t.get(a),s!==void 0&&s!==void 0&&s.__key!==i&&s.isAttached()&&Au(e,s,o),r.set(a,d));s=e._dirtyLeaves,l=s.size,a=e._dirtyElements,d=a.size,hi++}e._dirtyLeaves=n,e._dirtyElements=r}function aa(t,e){var n=e.get(t.type);if(n===void 0&&L(17),n=n.klass,t.type!==n.getType()&&L(18),n=n.importJSON(t),t=t.children,O(n)&&Array.isArray(t))for(let r=0;r<t.length;r++){let i=aa(t[r],e);n.append(i)}return n}function wu(t,e){let n=Le,r=ct,i=Me;Le=t,ct=!0,Me=null;try{return e()}finally{Le=n,ct=r,Me=i}}function Kn(t){let e=t._pendingEditorState,n=t._rootElement,r=t._headless||n===null;if(e!==null){var i=t._editorState,o=i._selection,s=e._selection,l=t._dirtyType!==0,a=Le,d=ct,g=Me,c=t._updating,u=t._observer,f=null;if(t._pendingEditorState=null,t._editorState=e,!r&&l&&u!==null){Me=t,Le=e,ct=!1,t._updating=!0;try{let le=t._dirtyType,we=t._dirtyElements,Ie=t._dirtyLeaves;u.disconnect();var h=le,p=we,m=Ie;Qe=nn=ve="",Ld=h===2,Vi=null,We=t,Tn=t._config,di=t._nodes,Jo=We._listeners.mutation,il=p,ol=m,Yn=i._nodeMap,Sn=e._nodeMap,sa=e._readOnly,sl=new Map(t._keyToDOMMap);let at=new Map;fi=at,Hr("root",null),fi=sl=Tn=Sn=Yn=ol=il=di=We=void 0,f=at}catch(le){if(le instanceof Error&&t._onError(le),Ns)throw le;ef(t,null,n,e),yd(t),t._dirtyType=2,Ns=!0,Kn(t),Ns=!1;return}finally{u.observe(n,Su),t._updating=c,Le=a,ct=d,Me=g}}e._readOnly||(e._readOnly=!0);var x=t._dirtyLeaves,_=t._dirtyElements,E=t._normalizedNodes,T=t._updateTags,w=t._deferred;l&&(t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set);var A=t._decorators,k=t._pendingDecorators||A,K=e._nodeMap,M;for(M in k)K.has(M)||(k===A&&(k=vd(t)),delete k[M]);var J=r?null:Gt(t._window);if(t._editable&&J!==null&&(l||s===null||s.dirty)){Me=t,Le=e;try{if(u!==null&&u.disconnect(),l||s===null||s.dirty){let le=t._blockCursorElement;le!==null&&rl(le,t,n);e:{let we=J.anchorNode,Ie=J.focusNode,at=J.anchorOffset,Rt=J.focusOffset,Ne=document.activeElement;if(!(T.has("collaboration")&&Ne!==n||Ne!==null&&ea(Ne)))if(V(s)){var te=s.anchor,se=s.focus,ot=te.key,dt=se.key,ft=po(t,ot),Ke=po(t,dt),_e=te.offset,I=se.offset,q=s.format,Y=s.style,Se=s.isCollapsed(),W=ft,ye=Ke,Ae=!1;if(te.type==="text"){W=fo(ft);let Ce=te.getNode();Ae=Ce.getFormat()!==q||Ce.getStyle()!==Y}else V(o)&&o.anchor.type==="text"&&(Ae=!0);if(se.type==="text"&&(ye=fo(Ke)),W!==null&&ye!==null){if(Se&&(o===null||Ae||V(o)&&(o.format!==q||o.style!==Y))){var Ye=performance.now();jd=[q,Y,_e,ot,Ye]}if(at===_e&&Rt===I&&we===W&&Ie===ye&&(J.type!=="Range"||!Se)&&(Ne!==null&&n.contains(Ne)||n.focus({preventScroll:!0}),te.type!=="element"))break e;try{J.setBaseAndExtent(W,_e,ye,I)}catch{}if(!T.has("skip-scroll-into-view")&&s.isCollapsed()&&n!==null&&n===document.activeElement){let Ce=s instanceof tr&&s.anchor.type==="element"?W.childNodes[_e]||null:0<J.rangeCount?J.getRangeAt(0):null;if(Ce!==null){let Ve;if(Ce instanceof Text){let Pe=document.createRange();Pe.selectNode(Ce),Ve=Pe.getBoundingClientRect()}else Ve=Ce.getBoundingClientRect();let Ot=n.ownerDocument,Mt=Ot.defaultView;if(Mt!==null)for(var{top:st,bottom:At}=Ve,wt,lt,Ee=n;Ee!==null;){let Pe=Ee===Ot.body;if(Pe)wt=0,lt=Yo(t).innerHeight;else{let Xt=Ee.getBoundingClientRect();wt=Xt.top,lt=Xt.bottom}let bt=0;if(st<wt?bt=-(wt-st):At>lt&&(bt=At-lt),bt!==0)if(Pe)Mt.scrollBy(0,bt);else{let Xt=Ee.scrollTop;Ee.scrollTop+=bt;let On=Ee.scrollTop-Xt;st-=On,At-=On}if(Pe)break;Ee=Go(Ee)}}}dl=!0}}else o!==null&&Ti(t,we,Ie)&&J.removeAllRanges()}}e:{let le=t._blockCursorElement;if(V(s)&&s.isCollapsed()&&s.anchor.type==="element"&&n.contains(document.activeElement)){let we=s.anchor,Ie=we.getNode(),at=we.offset,Rt=Ie.getChildrenSize(),Ne=!1,Ce=null;if(at===Rt){let Ve=Ie.getChildAtIndex(at-1);ys(Ve)&&(Ne=!0)}else{let Ve=Ie.getChildAtIndex(at);if(ys(Ve)){let Ot=Ve.getPreviousSibling();(Ot===null||ys(Ot))&&(Ne=!0,Ce=t.getElementByKey(Ve.__key))}}if(Ne){let Ve=t.getElementByKey(Ie.__key);if(le===null){let Ot=t._config.theme,Mt=document.createElement("div");Mt.contentEditable="false",Mt.setAttribute("data-lexical-cursor","true");let Pe=Ot.blockCursor;if(Pe!==void 0){if(typeof Pe=="string"){let bt=Pe.split(" ");Pe=Ot.blockCursor=bt}Pe!==void 0&&Mt.classList.add(...Pe)}t._blockCursorElement=le=Mt}n.style.caretColor="transparent",Ce===null?Ve.appendChild(le):Ve.insertBefore(le,Ce);break e}}le!==null&&rl(le,t,n)}u!==null&&u.observe(n,Su)}finally{Me=g,Le=a}}if(f!==null){var Lt=f;let le=Array.from(t._listeners.mutation),we=le.length;for(let Ie=0;Ie<we;Ie++){let[at,Rt]=le[Ie],Ne=Lt.get(Rt);Ne!==void 0&&at(Ne,{dirtyLeaves:x,updateTags:T})}}V(s)||s===null||o!==null&&o.is(s)||t.dispatchCommand(Kl,void 0);var Jt=t._pendingDecorators;Jt!==null&&(t._decorators=Jt,t._pendingDecorators=null,qr("decorator",t,!0,Jt));var mt=au(i),wn=au(e);if(mt!==wn&&qr("textcontent",t,!0,wn),qr("update",t,!0,{dirtyElements:_,dirtyLeaves:x,editorState:e,normalizedNodes:E,prevEditorState:i,tags:T}),t._deferred=[],w.length!==0){let le=t._updating;t._updating=!0;try{for(let we=0;we<w.length;we++)w[we]()}finally{t._updating=le}}var Rn=t._updates;if(Rn.length!==0){let le=Rn.shift();if(le){let[we,Ie]=le;qd(t,we,Ie)}}}}function qr(t,e,n,...r){let i=e._updating;e._updating=n;try{let o=Array.from(e._listeners[t]);for(t=0;t<o.length;t++)o[t].apply(null,r)}finally{e._updating=i}}function P(t,e,n){if(t._updating===!1||Me!==t){let o=!1;return t.update(()=>{o=P(t,e,n)}),o}let r=na(t);for(let o=4;0<=o;o--)for(let s=0;s<r.length;s++){var i=r[s]._commands.get(e);if(i!==void 0&&(i=i[o],i!==void 0)){i=Array.from(i);let l=i.length;for(let a=0;a<l;a++)if(i[a](n,t)===!0)return!0}}return!1}function Ru(t,e){let n=t._updates;for(e=e||!1;n.length!==0;){var r=n.shift();if(r){let[i,o]=r,s;o!==void 0&&(r=o.onUpdate,s=o.tag,o.skipTransforms&&(e=!0),r&&t._deferred.push(r),s&&t._updateTags.add(s)),i()}}return e}function qd(t,e,n){let r=t._updateTags;var i,o=i=!1;if(n!==void 0){var s=n.onUpdate;i=n.tag,i!=null&&r.add(i),i=n.skipTransforms||!1,o=n.discrete||!1}s&&t._deferred.push(s),n=t._editorState,s=t._pendingEditorState;let l=!1;(s===null||s._readOnly)&&(s=t._pendingEditorState=new Zo(new Map((s||n)._nodeMap)),l=!0),s._flushSync=o,o=Le;let a=ct,d=Me,g=t._updating;Le=s,ct=!1,t._updating=!0,Me=t;try{l&&(t._headless?n._selection!=null&&(s._selection=n._selection.clone()):s._selection=Jp(t));let c=t._compositionKey;e(),i=Ru(t,i),Xp(s,t),t._dirtyType!==0&&(i?qp(s,t):Zp(s,t),Ru(t),Bp(n,s,t._dirtyLeaves,t._dirtyElements)),c!==t._compositionKey&&(s._flushSync=!0);let u=s._selection;if(V(u)){let f=s._nodeMap,h=u.focus.key;f.get(u.anchor.key)!==void 0&&f.get(h)!==void 0||L(19)}else wi(u)&&u._nodes.size===0&&(s._selection=null)}catch(c){c instanceof Error&&t._onError(c),t._pendingEditorState=n,t._dirtyType=2,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),Kn(t);return}finally{Le=o,ct=a,Me=d,t._updating=g,hi=0}t._dirtyType!==0||Qp(s,t)?s._flushSync?(s._flushSync=!1,Kn(t)):l&&Mp(()=>{Kn(t)}):(s._flushSync=!1,l&&(r.clear(),t._deferred=[],t._pendingEditorState=null))}function pt(t,e,n){t._updating?t._updates.push([e,n]):qd(t,e,n)}class Zd extends Ai{constructor(e){super(e)}decorate(){L(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function ae(t){return t instanceof Zd}class nr extends Ai{constructor(e){super(e),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return Rp[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],n=this.getFirstChild();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getChildrenKeys(){let e=[],n=this.getFirstChild();for(;n!==null;)e.push(n.__key),n=n.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){let e=pe()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(e)}getAllTextNodes(){let e=[],n=this.getFirstChild();for(;n!==null;){if(F(n)&&e.push(n),O(n)){let r=n.getAllTextNodes();e.push(...r)}n=n.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;e!==null;){if(O(e)){let n=e.getFirstChild();if(n!==null){e=n;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;e!==null;){if(O(e)){let n=e.getLastChild();if(n!==null){e=n;continue}}break}return e}getDescendantByIndex(e){let n=this.getChildren(),r=n.length;return e>=r?(e=n[r-1],O(e)&&e.getLastDescendant()||e||null):(e=n[e],O(e)&&e.getFirstDescendant()||e||null)}getFirstChild(){let e=this.getLatest().__first;return e===null?null:ke(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return e===null&&L(45),e}getLastChild(){let e=this.getLatest().__last;return e===null?null:ke(e)}getLastChildOrThrow(){let e=this.getLastChild();return e===null&&L(96),e}getChildAtIndex(e){var n=this.getChildrenSize();let r;if(e<n/2){for(r=this.getFirstChild(),n=0;r!==null&&n<=e;){if(n===e)return r;r=r.getNextSibling(),n++}return null}for(r=this.getLastChild(),--n;r!==null&&n>=e;){if(n===e)return r;r=r.getPreviousSibling(),n--}return null}getTextContent(){let e="",n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){let o=n[i];e+=o.getTextContent(),O(o)&&i!==r-1&&!o.isInline()&&(e+=`

`)}return e}getTextContentSize(){let e=0,n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){let o=n[i];e+=o.getTextContentSize(),O(o)&&i!==r-1&&!o.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){return e!==""?(e=lu[e],(this.getFormat()&e)!==0):!1}select(e,n){et();let r=ue(),i=e,o=n;var s=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&n===0){if(e=this.getFirstChild(),F(e)||O(e))return e.select(0,0)}else if(!(e!==void 0&&e!==s||n!==void 0&&n!==s)&&(e=this.getLastChild(),F(e)||O(e)))return e.select()}if(i===void 0&&(i=s),o===void 0&&(o=s),s=this.__key,V(r))r.anchor.set(s,i,"element"),r.focus.set(s,o,"element"),r.dirty=!0;else return Vd(s,i,s,o,"element","element");return r}selectStart(){let e=this.getFirstDescendant();return O(e)||F(e)?e.select(0,0):e!==null?e.selectPrevious():this.select(0,0)}selectEnd(){let e=this.getLastDescendant();return O(e)||F(e)?e.select():e!==null?e.selectNext():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(n=>n.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let n=this.getWritable();return n.__dir=e,n}setFormat(e){return this.getWritable().__format=e!==""?lu[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,n,r){let i=r.length,o=this.getChildrenSize(),s=this.getWritable(),l=s.__key;var a=[],d=[];let g=this.getChildAtIndex(e+n),c=null,u=o-n+i;if(e!==0)if(e===o)c=this.getLastChild();else{var f=this.getChildAtIndex(e);f!==null&&(c=f.getPreviousSibling())}if(0<n){var h=c===null?this.getFirstChild():c.getNextSibling();for(f=0;f<n;f++){h===null&&L(100);var p=h.getNextSibling(),m=h.__key;h=h.getWritable(),Hn(h),d.push(m),h=p}}for(f=c,p=0;p<i;p++){m=r[p],f!==null&&m.is(f)&&(c=f=f.getPreviousSibling()),h=m.getWritable(),h.__parent===l&&u--,Hn(h);let x=m.__key;f===null?(s.__first=x,h.__prev=null):(f=f.getWritable(),f.__next=x,h.__prev=f.__key),m.__key===l&&L(76),h.__parent=l,a.push(x),f=m}if(e+n===o?f!==null&&(f.getWritable().__next=null,s.__last=f.__key):g!==null&&(e=g.getWritable(),f!==null?(n=f.getWritable(),e.__prev=f.__key,n.__next=g.__key):e.__prev=null),s.__size=u,d.length&&(e=ue(),V(e))){d=new Set(d),a=new Set(a);let{anchor:x,focus:_}=e;Ou(x,d,a)&&xo(x,x.getNode(),this,c,g),Ou(_,d,a)&&xo(_,_.getNode(),this,c,g),u!==0||this.canBeEmpty()||Dt(this)||this.remove()}return s}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canInsertTab(){return!1}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function O(t){return t instanceof nr}function Ou(t,e,n){for(t=t.getNode();t;){let r=t.__key;if(e.has(r)&&!n.has(r))return!0;t=t.getParent()}return!1}class Lr extends nr{static getType(){return"root"}static clone(){return new Lr}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){L(51)}getTextContent(){let e=this.__cachedText;return!kr()&&pe()._dirtyType!==0||e===null?super.getTextContent():e}remove(){L(52)}replace(){L(53)}insertBefore(){L(54)}insertAfter(){L(55)}updateDOM(){return!1}append(...e){for(let n=0;n<e.length;n++){let r=e[n];O(r)||ae(r)||L(56)}return super.append(...e)}static importJSON(e){let n=Wt();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function ut(t){return t instanceof Lr}function Qp(t,e){if(e=e.getEditorState()._selection,t=t._selection,t!==null){if(t.dirty||!t.is(e))return!0}else if(e!==null)return!0;return!1}function ua(){return new Zo(new Map([["root",new Lr]]))}function Qd(t){let e=t.exportJSON();e.type!==t.constructor.getType()&&L(58);let n=e.children;if(O(t)){Array.isArray(n)||L(59),t=t.getChildren();for(let r=0;r<t.length;r++){let i=Qd(t[r]);n.push(i)}}return e}class Zo{constructor(e,n){this._nodeMap=e,this._selection=n||null,this._readOnly=this._flushSync=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e){return wu(this,e)}clone(e){return e=new Zo(this._nodeMap,e===void 0?this._selection:e),e._readOnly=!0,e}toJSON(){return wu(this,()=>({root:Qd(Wt())}))}}class Mr extends Ai{static getType(){return"linebreak"}static clone(e){return new Mr(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{let n=e.parentElement;return n!=null&&n.firstChild===e&&n.lastChild===e?null:{conversion:em,priority:0}}}}static importJSON(){return Ar()}exportJSON(){return{type:"linebreak",version:1}}}function em(){return{node:Ar()}}function Ar(){return Vo(new Mr)}function pi(t){return t instanceof Mr}function Cs(t,e){return e&16?"code":e&128?"mark":e&32?"sub":e&64?"sup":null}function vs(t,e){return e&1?"strong":e&2?"em":"span"}function Ts(t,e,n,r,i){t=r.classList,r=Vr(i,"base"),r!==void 0&&t.add(...r),r=Vr(i,"underlineStrikethrough");let o=!1,s=e&8&&e&4;var l=n&8&&n&4;r!==void 0&&(l?(o=!0,s||t.add(...r)):s&&t.remove(...r));for(let a in zn)l=zn[a],r=Vr(i,a),r!==void 0&&(n&l?!o||a!=="underline"&&a!=="strikethrough"?(!(e&l)||s&&a==="underline"||a==="strikethrough")&&t.add(...r):e&l&&t.remove(...r):e&l&&t.remove(...r))}function Ss(t,e,n){let r=e.firstChild;if(n=n.isComposing(),t+=n?Wo:"",r==null)e.textContent=t;else if(e=r.nodeValue,e!==t)if(n||Gn){n=e.length;let i=t.length,o=0,s=0;for(;o<n&&o<i&&e[o]===t[o];)o++;for(;s+o<n&&s+o<i&&e[n-s-1]===t[i-s-1];)s++;t=[o,n-o-s,t.slice(o,i-s)];let[l,a,d]=t;a!==0&&r.deleteData(l,a),r.insertData(l,d)}else r.nodeValue=t}function Mi(t,e){return e=document.createElement(e),e.appendChild(t),e}class br extends Ai{static getType(){return"text"}static clone(e){return new br(e.__text,e.__key)}constructor(e,n){super(n),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return $p[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===En()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return(this.getLatest().__detail&1)!==0}isUnmergeable(){return(this.getLatest().__detail&2)!==0}hasFormat(e){return e=zn[e],(this.getFormat()&e)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,n){let r=this.getLatest().__format;return Ed(r,e,n)}createDOM(e){var n=this.__format,r=Cs(this,n);let i=vs(this,n),o=document.createElement(r===null?i:r),s=o;return r!==null&&(s=document.createElement(i),o.appendChild(s)),r=s,Ss(this.__text,r,this),e=e.theme.text,e!==void 0&&Ts(i,0,n,r,e),n=this.__style,n!==""&&(o.style.cssText=n),o}updateDOM(e,n,r){let i=this.__text;var o=e.__format,s=this.__format,l=Cs(this,o);let a=Cs(this,s);var d=vs(this,o);let g=vs(this,s);return(l===null?d:l)!==(a===null?g:a)?!0:l===a&&d!==g?(o=n.firstChild,o==null&&L(48),e=l=document.createElement(g),Ss(i,e,this),r=r.theme.text,r!==void 0&&Ts(g,0,s,e,r),n.replaceChild(l,o),!1):(d=n,a!==null&&l!==null&&(d=n.firstChild,d==null&&L(49)),Ss(i,d,this),r=r.theme.text,r!==void 0&&o!==s&&Ts(g,o,s,d,r),s=this.__style,e.__style!==s&&(n.style.cssText=s),!1)}static importDOM(){return{"#text":()=>({conversion:im,priority:0}),b:()=>({conversion:rm,priority:0}),br:()=>({conversion:nm,priority:0}),code:()=>({conversion:dn,priority:0}),em:()=>({conversion:dn,priority:0}),i:()=>({conversion:dn,priority:0}),s:()=>({conversion:dn,priority:0}),span:()=>({conversion:tm,priority:0}),strong:()=>({conversion:dn,priority:0}),sub:()=>({conversion:dn,priority:0}),sup:()=>({conversion:dn,priority:0}),u:()=>({conversion:dn,priority:0})}}static importJSON(e){let n=Fe(e.text);return n.setFormat(e.format),n.setDetail(e.detail),n.setMode(e.mode),n.setStyle(e.style),n}exportDOM(e){return{element:e}=super.exportDOM(e),e!==null&&(this.hasFormat("bold")&&(e=Mi(e,"b")),this.hasFormat("italic")&&(e=Mi(e,"i")),this.hasFormat("strikethrough")&&(e=Mi(e,"s")),this.hasFormat("underline")&&(e=Mi(e,"u"))),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(e){let n=this.getWritable();return n.__format=typeof e=="string"?zn[e]:e,n}setDetail(e){let n=this.getWritable();return n.__detail=typeof e=="string"?wp[e]:e,n}setStyle(e){let n=this.getWritable();return n.__style=e,n}toggleFormat(e){return e=zn[e],this.setFormat(this.getFormat()^e)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){if(e=Op[e],this.__mode===e)return this;let n=this.getWritable();return n.__mode=e,n}setTextContent(e){if(this.__text===e)return this;let n=this.getWritable();return n.__text=e,n}select(e,n){et();let r=ue();var i=this.getTextContent();let o=this.__key;if(typeof i=="string"?(i=i.length,e===void 0&&(e=i),n===void 0&&(n=i)):n=e=0,V(r))i=En(),i!==r.anchor.key&&i!==r.focus.key||Be(o),r.setTextNodeRange(this,e,this,n);else return Vd(o,e,o,n,"text","text");return r}spliceText(e,n,r,i){let o=this.getWritable(),s=o.__text,l=r.length,a=e;0>a&&(a=l+a,0>a&&(a=0));let d=ue();return i&&V(d)&&(e+=l,d.setTextNodeRange(o,e,o,e)),n=s.slice(0,a)+r+s.slice(a+n),o.__text=n,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}canContainTabs(){return!1}splitText(...e){et();var n=this.getLatest(),r=n.getTextContent(),i=n.__key,o=En(),s=new Set(e);e=[];for(var l=r.length,a="",d=0;d<l;d++)a!==""&&s.has(d)&&(e.push(a),a=""),a+=r[d];if(a!==""&&e.push(a),s=e.length,s===0)return[];if(e[0]===r)return[n];var g=e[0];r=n.getParentOrThrow(),d=n.getFormat();let c=n.getStyle(),u=n.__detail;l=!1,n.isSegmented()?(a=Fe(g),a.__format=d,a.__style=c,a.__detail=u,l=!0):(a=n.getWritable(),a.__text=g),n=ue(),a=[a],g=g.length;for(let p=1;p<s;p++){var f=e[p],h=f.length;f=Fe(f).getWritable(),f.__format=d,f.__style=c,f.__detail=u;let m=f.__key;if(h=g+h,V(n)){let x=n.anchor,_=n.focus;x.key===i&&x.type==="text"&&x.offset>g&&x.offset<=h&&(x.key=m,x.offset-=g,n.dirty=!0),_.key===i&&_.type==="text"&&_.offset>g&&_.offset<=h&&(_.key=m,_.offset-=g,n.dirty=!0)}o===i&&Be(m),g=h,a.push(f)}return i=this.getPreviousSibling(),o=this.getNextSibling(),i!==null&&go(i),o!==null&&go(o),i=r.getWritable(),o=this.getIndexWithinParent(),l?(i.splice(o,0,a),this.remove()):i.splice(o,1,a),V(n)&&Eo(n,r,o,s-1),a}mergeWithSibling(e){var n=e===this.getPreviousSibling();n||e===this.getNextSibling()||L(50);var r=this.__key;let i=e.__key,o=this.__text,s=o.length;En()===i&&Be(r);let l=ue();if(V(l)){let a=l.anchor,d=l.focus;a!==null&&a.key===i&&(Tu(a,n,r,e,s),l.dirty=!0),d!==null&&d.key===i&&(Tu(d,n,r,e,s),l.dirty=!0)}return r=e.__text,this.setTextContent(n?r+o:o+r),n=this.getWritable(),e.remove(),n}isTextEntity(){return!1}}function tm(t){let e=t.style.fontWeight==="700",n=t.style.textDecoration==="line-through",r=t.style.fontStyle==="italic",i=t.style.textDecoration==="underline",o=t.style.verticalAlign;return{forChild:s=>(F(s)&&(e&&s.toggleFormat("bold"),n&&s.toggleFormat("strikethrough"),r&&s.toggleFormat("italic"),i&&s.toggleFormat("underline"),o==="sub"&&s.toggleFormat("subscript"),o==="super"&&s.toggleFormat("superscript")),s),node:null}}function nm(){return{node:Ar()}}function rm(t){let e=t.style.fontWeight==="normal";return{forChild:n=>(F(n)&&!e&&n.toggleFormat("bold"),n),node:null}}function im(t,e,n){return t=t.textContent||"",!n&&/\n/.test(t)&&(t=t.replace(/\r?\n/gm," "),t.trim().length===0)?{node:null}:{node:Fe(t)}}let om={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function dn(t){let e=om[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:n=>(F(n)&&!n.hasFormat(e)&&n.toggleFormat(e),n),node:null}}function Fe(t=""){return Vo(new br(t))}function F(t){return t instanceof br}class Ir extends nr{static getType(){return"paragraph"}static clone(e){return new Ir(e.__key)}createDOM(e){let n=document.createElement("p");return e=Vr(e.theme,"paragraph"),e!==void 0&&n.classList.add(...e),n}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:sm,priority:0})}}exportDOM(e){if({element:e}=super.exportDOM(e),e&&this.isEmpty()&&e.append(document.createElement("br")),e){var n=this.getFormatType();e.style.textAlign=n,(n=this.getDirection())&&(e.dir=n),n=this.getIndent(),0<n&&(e.style.textIndent=`${20*n}px`)}return{element:e}}static importJSON(e){let n=Vn();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,n){e=Vn();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,n),e}collapseAtStart(){let e=this.getChildren();if(e.length===0||F(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function sm(t){let e=Vn();return t.style&&(e.setFormat(t.style.textAlign),t=parseInt(t.style.textIndent,10)/20,0<t&&e.setIndent(t)),{node:e}}function Vn(){return Vo(new Ir)}function ef(t,e,n,r){let i=t._keyToDOMMap;i.clear(),t._editorState=ua(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null,r=t._observer,r!==null&&(r.disconnect(),t._observer=null),e!==null&&(e.textContent=""),n!==null&&(n.textContent="",i.set("root",n))}function lm(t){let e=new Map,n=new Set;return t.forEach(r=>{if(r=r.klass.importDOM!=null?r.klass.importDOM.bind(r.klass):null,r!=null&&!n.has(r)){n.add(r);var i=r();i!==null&&Object.keys(i).forEach(o=>{let s=e.get(o);s===void 0&&(s=[],e.set(o,s)),s.push(i[o])})}}),e}class am{constructor(e,n,r,i,o,s,l){this._parentEditor=n,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Sd(),this._onError=o,this._htmlConversions=s,this._editable=l,this._headless=n!==null&&n._headless,this._blockCursorElement=this._window=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){let n=this._listeners.update;return n.add(e),()=>{n.delete(e)}}registerEditableListener(e){let n=this._listeners.editable;return n.add(e),()=>{n.delete(e)}}registerDecoratorListener(e){let n=this._listeners.decorator;return n.add(e),()=>{n.delete(e)}}registerTextContentListener(e){let n=this._listeners.textcontent;return n.add(e),()=>{n.delete(e)}}registerRootListener(e){let n=this._listeners.root;return e(this._rootElement,null),n.add(e),()=>{e(null,this._rootElement),n.delete(e)}}registerCommand(e,n,r){r===void 0&&L(35);let i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);let o=i.get(e);o===void 0&&L(36);let s=o[r];return s.add(n),()=>{s.delete(n),o.every(l=>l.size===0)&&i.delete(e)}}registerMutationListener(e,n){this._nodes.get(e.getType())===void 0&&L(37);let r=this._listeners.mutation;return r.set(n,e),()=>{r.delete(n)}}registerNodeTransformToKlass(e,n){return e=e.getType(),e=this._nodes.get(e),e===void 0&&L(37),e.transforms.add(n),e}registerNodeTransform(e,n){var r=this.registerNodeTransformToKlass(e,n);let i=[r];return r=r.replaceWithKlass,r!=null&&(r=this.registerNodeTransformToKlass(r,n),i.push(r)),bp(this,e.getType()),()=>{i.forEach(o=>o.transforms.delete(n))}}hasNodes(e){for(let n=0;n<e.length;n++){let r=e[n].getType();if(!this._nodes.has(r))return!1}return!0}dispatchCommand(e,n){return P(this,e,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let n=this._rootElement;if(e!==n){let o=Vr(this._config.theme,"root");var r=this._pendingEditorState||this._editorState;if(this._rootElement=e,ef(this,n,e,r),n!==null){if(!this._config.disableEvents){if(Jr!==0&&(Jr--,Jr===0&&n.ownerDocument.removeEventListener("selectionchange",Wd)),r=n.__lexicalEditor,r!=null){if(r._parentEditor!==null){var i=na(r);i=i[i.length-1]._key,Nr.get(i)===r&&Nr.delete(i)}else Nr.delete(r._key);n.__lexicalEditor=null}for(r=Kd(n),i=0;i<r.length;i++)r[i]();n.__lexicalEventHandles=[]}o!=null&&n.classList.remove(...o)}e!==null?(r=(r=e.ownerDocument)&&r.defaultView||null,i=e.style,i.userSelect="text",i.whiteSpace="pre-wrap",i.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=r,this._dirtyType=2,yd(this),this._updateTags.add("history-merge"),Kn(this),this._config.disableEvents||Vp(e,this),o!=null&&e.classList.add(...o)):this._window=null,qr("root",this,!1,e,n)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,n){e.isEmpty()&&L(38),_d(this);let r=this._pendingEditorState,i=this._updateTags;n=n!==void 0?n.tag:null,r===null||r.isEmpty()||(n!=null&&i.add(n),Kn(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,n!=null&&i.add(n),Kn(this)}parseEditorState(e,n){e=typeof e=="string"?JSON.parse(e):e;let r=ua(),i=Le,o=ct,s=Me,l=this._dirtyElements,a=this._dirtyLeaves,d=this._cloneNotNeeded,g=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,Le=r,ct=!1,Me=this;try{aa(e.root,this._nodes),n&&n(),r._readOnly=!0}catch(c){c instanceof Error&&this._onError(c)}finally{this._dirtyElements=l,this._dirtyLeaves=a,this._cloneNotNeeded=d,this._dirtyType=g,Le=i,ct=o,Me=s}return r}update(e,n){pt(this,e,n)}focus(e,n={}){let r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),pt(this,()=>{let i=ue(),o=Wt();i!==null?i.dirty=!0:o.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?o.selectStart():o.selectEnd())},{onUpdate:()=>{r.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){var e=this._rootElement;e!==null&&e.blur(),e=Gt(this._window),e!==null&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,qr("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class ca extends nr{constructor(e,n){super(n),this.__colSpan=e,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}}function zt(t){return t instanceof ca}class tf extends nr{}function da(t){return t instanceof tf}class nf extends nr{}function mi(t){return t instanceof nf}R.$addUpdateTag=function(t){et(),pe()._updateTags.add(t)};R.$applyNodeReplacement=Vo;R.$copyNode=Rd;R.$createLineBreakNode=Ar;R.$createNodeSelection=pl;R.$createParagraphNode=Vn;R.$createRangeSelection=function(){let t=new Kt("root",0,"element"),e=new Kt("root",0,"element");return new tr(t,e,0,"")};R.$createTextNode=Fe;R.$getAdjacentNode=nl;R.$getNearestNodeFromDOMNode=Si;R.$getNearestRootOrShadowRoot=wd;R.$getNodeByKey=ke;R.$getPreviousSelection=Ri;R.$getRoot=Wt;R.$getSelection=ue;R.$getTextContent=function(){let t=ue();return t===null?"":t.getTextContent()};R.$hasAncestor=mo;R.$hasUpdateTag=function(t){return pe()._updateTags.has(t)};R.$insertNodes=function(t,e){let n=ue();return n===null&&(n=Wt().selectEnd()),n.insertNodes(t,e)};R.$isDecoratorNode=ae;R.$isElementNode=O;R.$isInlineElementOrDecoratorNode=function(t){return O(t)&&t.isInline()||ae(t)&&t.isInline()};R.$isLeafNode=xd;R.$isLineBreakNode=pi;R.$isNodeSelection=wi;R.$isParagraphNode=function(t){return t instanceof Ir};R.$isRangeSelection=V;R.$isRootNode=ut;R.$isRootOrShadowRoot=Dt;R.$isTextNode=F;R.$nodesOfType=function(t){var e=Yt();let n=e._readOnly,r=t.getType();e=e._nodeMap;let i=[];for(let[,o]of e)o instanceof t&&o.__type===r&&(n||o.isAttached())&&i.push(o);return i};R.$normalizeSelection__EXPERIMENTAL=kd;R.$parseSerializedNode=function(t){return aa(t,pe()._nodes)};R.$setCompositionKey=Be;R.$setSelection=vn;R.$splitNode=Od;R.BLUR_COMMAND=hd;R.CAN_REDO_COMMAND={};R.CAN_UNDO_COMMAND={};R.CLEAR_EDITOR_COMMAND={};R.CLEAR_HISTORY_COMMAND={};R.CLICK_COMMAND=Xc;R.COMMAND_PRIORITY_CRITICAL=4;R.COMMAND_PRIORITY_EDITOR=0;R.COMMAND_PRIORITY_HIGH=3;R.COMMAND_PRIORITY_LOW=1;R.COMMAND_PRIORITY_NORMAL=2;R.CONTROLLED_TEXT_INSERTION_COMMAND=xr;R.COPY_COMMAND=Vl;R.CUT_COMMAND=Jl;R.DELETE_CHARACTER_COMMAND=ai;R.DELETE_LINE_COMMAND=ci;R.DELETE_WORD_COMMAND=ui;R.DEPRECATED_$computeGridMap=Xd;R.DEPRECATED_$createGridSelection=function(){let t=new Kt("root",0,"element"),e=new Kt("root",0,"element");return new qo("root",t,e)};R.DEPRECATED_$getNodeTriplet=function(t){t instanceof ca||(t instanceof Ai?(t=_o(t,zt),zt(t)||L(114)):(t=_o(t.getNode(),zt),zt(t)||L(114)));let e=t.getParent();mi(e)||L(115);let n=e.getParent();return da(n)||L(116),[t,e,n]};R.DEPRECATED_$isGridCellNode=zt;R.DEPRECATED_$isGridNode=da;R.DEPRECATED_$isGridRowNode=mi;R.DEPRECATED_$isGridSelection=la;R.DEPRECATED_GridCellNode=ca;R.DEPRECATED_GridNode=tf;R.DEPRECATED_GridRowNode=nf;R.DRAGEND_COMMAND=fd;R.DRAGOVER_COMMAND=dd;R.DRAGSTART_COMMAND=cd;R.DROP_COMMAND=ud;R.DecoratorNode=Zd;R.ElementNode=nr;R.FOCUS_COMMAND=gd;R.FORMAT_ELEMENT_COMMAND={};R.FORMAT_TEXT_COMMAND=yn;R.INDENT_CONTENT_COMMAND={};R.INSERT_LINE_BREAK_COMMAND=Yr;R.INSERT_PARAGRAPH_COMMAND=Zs;R.KEY_ARROW_DOWN_COMMAND=rd;R.KEY_ARROW_LEFT_COMMAND=ed;R.KEY_ARROW_RIGHT_COMMAND=Zc;R.KEY_ARROW_UP_COMMAND=nd;R.KEY_BACKSPACE_COMMAND=od;R.KEY_DELETE_COMMAND=ld;R.KEY_DOWN_COMMAND=qc;R.KEY_ENTER_COMMAND=uo;R.KEY_ESCAPE_COMMAND=sd;R.KEY_MODIFIER_COMMAND=pd;R.KEY_SPACE_COMMAND=id;R.KEY_TAB_COMMAND=ad;R.LineBreakNode=Mr;R.MOVE_TO_END=Qc;R.MOVE_TO_START=td;R.OUTDENT_CONTENT_COMMAND={};R.PASTE_COMMAND=Wl;R.ParagraphNode=Ir;R.REDO_COMMAND=Yl;R.REMOVE_TEXT_COMMAND=Qs;R.RootNode=Lr;R.SELECTION_CHANGE_COMMAND=Kl;R.TextNode=br;R.UNDO_COMMAND=Gl;R.createCommand=function(){return{}};R.createEditor=function(t){var e=t||{},n=Me,r=e.theme||{};let i=t===void 0?n:e.parentEditor||null,o=e.disableEvents||!1,s=ua(),l=e.namespace||(i!==null?i._config.namespace:Sd()),a=e.editorState,d=[Lr,br,Mr,Ir,...e.nodes||[]],g=e.onError;if(e=e.editable!==void 0?e.editable:!0,t===void 0&&n!==null)t=n._nodes;else for(t=new Map,n=0;n<d.length;n++){let u=d[n],f=null;var c=null;typeof u!="function"&&(c=u,u=c.replace,f=c.with,c=c.withKlass?c.withKlass:null);let h=u.getType(),p=u.transform(),m=new Set;p!==null&&m.add(p),t.set(h,{klass:u,replace:f,replaceWithKlass:c,transforms:m})}return r=new am(s,i,t,{disableEvents:o,namespace:l,theme:r},g||console.error,lm(t),e),a!==void 0&&(r._pendingEditorState=a,r._dirtyType=2),r};R.getNearestEditorFromDOMNode=ta;R.isSelectionCapturedInDecoratorInput=ea;R.isSelectionWithinEditor=Ti;const um=R;var H=um,z=H;let No=new Map;function $u(t){for(;t!=null;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild}return null}function Du(t){let e=t.parentNode;if(e==null)throw Error("Should never happen");return[e,Array.from(e.childNodes).indexOf(t)]}function rf(t){let e={};t=t.split(";");for(let n of t)if(n!==""){let[r,i]=n.split(/:([^]+)/);e[r.trim()]=i.trim()}return e}function Co(t){let e=No.get(t);return e===void 0&&(e=rf(t),No.set(t,e)),e}function cm(t){let e="";for(let n in t)n&&(e+=`${n}: ${t[n]};`);return e}function or(t,e){var n=Co("getStyle"in t?t.getStyle():t.style);e=Object.entries(e).reduce((r,[i,o])=>(o===null?delete r[i]:r[i]=o,r),{...n}),n=cm(e),t.setStyle(n),No.set(n,e)}function dm(t){for(;t!==null&&!z.$isRootOrShadowRoot(t);){let e=t.getLatest(),n=t.getParent();e.getChildrenSize()===0&&t.remove(!0),t=n}}function As(t,e,n,r,i=null){if(e.length!==0){var o=e[0],s=new Map,l=[];o=z.$isElementNode(o)?o:o.getParentOrThrow(),o.isInline()&&(o=o.getParentOrThrow());for(var a=!1;o!==null;){var d=o.getPreviousSibling();if(d!==null){o=d,a=!0;break}if(o=o.getParentOrThrow(),z.$isRootOrShadowRoot(o))break}d=new Set;for(var g=0;g<n;g++){var c=e[g];z.$isElementNode(c)&&c.getChildrenSize()===0&&d.add(c.getKey())}var u=new Set;for(g=0;g<n;g++){c=e[g];var f=c.getParent();if(f!==null&&f.isInline()&&(f=f.getParent()),f!==null&&z.$isLeafNode(c)&&!u.has(c.getKey())){if(c=f.getKey(),s.get(c)===void 0){let h=r();h.setFormat(f.getFormatType()),h.setIndent(f.getIndent()),l.push(h),s.set(c,h),f.getChildren().forEach(p=>{h.append(p),u.add(p.getKey()),z.$isElementNode(p)&&p.getChildrenKeys().forEach(m=>u.add(m))}),dm(f)}}else d.has(c.getKey())&&(f=r(),f.setFormat(c.getFormatType()),f.setIndent(c.getIndent()),l.push(f),c.remove(!0))}if(i!==null)for(e=0;e<l.length;e++)i.append(l[e]);if(e=null,z.$isRootOrShadowRoot(o))if(a)if(i!==null)o.insertAfter(i);else for(i=l.length-1;0<=i;i--)o.insertAfter(l[i]);else if(a=o.getFirstChild(),z.$isElementNode(a)&&(o=a),a===null)if(i)o.append(i);else for(i=0;i<l.length;i++)a=l[i],o.append(a),e=a;else if(i!==null)a.insertBefore(i);else for(o=0;o<l.length;o++)i=l[o],a.insertBefore(i),e=i;else if(i)o.insertAfter(i);else for(i=l.length-1;0<=i;i--)a=l[i],o.insertAfter(a),e=a;l=z.$getPreviousSelection(),z.$isRangeSelection(l)&&l.anchor.getNode().isAttached()&&l.focus.getNode().isAttached()?z.$setSelection(l.clone()):e!==null?e.selectEnd():t.dirty=!0}}function of(t,e,n,r){t.modify(e?"extend":"move",n,r)}function sf(t){return t=t.anchor.getNode(),(z.$isRootNode(t)?t:t.getParentOrThrow()).getDirection()==="rtl"}be.$addNodeStyle=function(t){t=t.getStyle();let e=rf(t);No.set(t,e)};be.$cloneWithProperties=function(t){t=t.getLatest();let e=t.constructor.clone(t);return e.__parent=t.__parent,e.__next=t.__next,e.__prev=t.__prev,z.$isElementNode(t)&&z.$isElementNode(e)?(e.__first=t.__first,e.__last=t.__last,e.__size=t.__size,e.__format=t.__format,e.__indent=t.__indent,e.__dir=t.__dir,e):(z.$isTextNode(t)&&z.$isTextNode(e)&&(e.__format=t.__format,e.__style=t.__style,e.__mode=t.__mode,e.__detail=t.__detail),e)};be.$getSelectionStyleValueForProperty=function(t,e,n=""){let r=null,i=t.getNodes();var o=t.anchor,s=t.focus,l=t.isBackward();let a=l?s.offset:o.offset;if(o=l?s.getNode():o.getNode(),t.style!==""&&(t=Co(t.style),t!==null&&e in t))return t[e];for(t=0;t<i.length;t++){var d=i[t];if((t===0||a!==0||!d.is(o))&&z.$isTextNode(d)){if(s=e,l=n,d=d.getStyle(),d=Co(d),s=d!==null&&d[s]||l,r===null)r=s;else if(r!==s){r="";break}}}return r===null?n:r};be.$isAtNodeEnd=function(t){return t.type==="text"?t.offset===t.getNode().getTextContentSize():t.offset===t.getNode().getChildrenSize()};be.$isParentElementRTL=sf;be.$moveCaretSelection=of;be.$moveCharacter=function(t,e,n){let r=sf(t);of(t,e,n?!r:r,"character")};be.$patchStyleText=function(t,e){var n=t.getNodes();let r=n.length-1,i=n[0],o=n[r];if(t.isCollapsed())or(t,e);else{var s=t.anchor,l=t.focus,a=i.getTextContent().length,d=l.offset,g=s.offset,c=s.isBefore(l),u=c?g:d;t=c?d:g;var f=c?s.type:l.type,h=c?l.type:s.type;if(s=c?l.key:s.key,z.$isTextNode(i)&&u===a&&(l=i.getNextSibling(),z.$isTextNode(l)&&(u=g=0,i=l)),n.length===1)z.$isTextNode(i)&&(u=f==="element"?0:g>d?d:g,t=h==="element"?a:g>d?g:d,u!==t&&(u===0&&t===a?(or(i,e),i.select(u,t)):(n=i.splitText(u,t),n=u===0?n[0]:n[1],or(n,e),n.select(0,t-u))));else for(z.$isTextNode(i)&&u<i.getTextContentSize()&&(u!==0&&(i=i.splitText(u)[1]),or(i,e)),z.$isTextNode(o)&&(u=o.getTextContent().length,o.__key!==s&&t!==0&&(t=u),t!==u&&([o]=o.splitText(t)),t!==0&&or(o,e)),t=1;t<r;t++)u=n[t],a=u.getKey(),z.$isTextNode(u)&&a!==i.getKey()&&a!==o.getKey()&&!u.isToken()&&or(u,e)}};be.$selectAll=function(t){let e=t.anchor;t=t.focus;var n=e.getNode().getTopLevelElementOrThrow().getParentOrThrow();let r=n.getFirstDescendant();n=n.getLastDescendant();let i="element",o="element",s=0;z.$isTextNode(r)?i="text":z.$isElementNode(r)||r===null||(r=r.getParentOrThrow()),z.$isTextNode(n)?(o="text",s=n.getTextContentSize()):z.$isElementNode(n)||n===null||(n=n.getParentOrThrow()),r&&n&&(e.set(r.getKey(),0,i),t.set(n.getKey(),s,o))};be.$setBlocksType=function(t,e){if(t.anchor.key==="root"){e=e();var n=z.$getRoot();(t=n.getFirstChild())?t.replace(e,!0):n.append(e)}else for(n=t.getNodes(),t=t.anchor.getNode().getParentOrThrow(),n.indexOf(t)===-1&&n.push(t),t.isInline()&&(t=t.getParentOrThrow(),n.indexOf(t)===-1&&n.push(t)),t=0;t<n.length;t++){let o=n[t];var r=o;if(!z.$isElementNode(r)||z.$isRootOrShadowRoot(r))r=!1;else{var i=r.getFirstChild();i=i===null||z.$isTextNode(i)||i.isInline(),r=!r.isInline()&&r.canBeEmpty()!==!1&&i}r&&(r=e(),r.setFormat(o.getFormatType()),r.setIndent(o.getIndent()),o.replace(r,!0))}};be.$shouldOverrideDefaultCharacterSelection=function(t,e){return t=z.$getAdjacentNode(t.focus,e),z.$isDecoratorNode(t)&&!t.isIsolated()||z.$isElementNode(t)&&!t.isInline()&&!t.canBeEmpty()};be.$sliceSelectedTextNodeContent=function(t,e){if(e.isSelected()&&!e.isSegmented()&&!e.isToken()&&(z.$isRangeSelection(t)||z.DEPRECATED_$isGridSelection(t))){var n=t.anchor.getNode(),r=t.focus.getNode(),i=e.is(n),o=e.is(r);if(i||o){i=t.isBackward();let[s,l]=t.getCharacterOffsets();t=n.is(r),o=e.is(i?r:n),r=e.is(i?n:r),n=0;let a;t?(n=s>l?l:s,a=s>l?s:l):o?(n=i?l:s,a=void 0):r&&(i=i?s:l,n=0,a=i),e.__text=e.__text.slice(n,a)}}return e};be.$wrapNodes=function(t,e,n=null){var r=t.getNodes();let i=r.length;var o=t.anchor;if(i===0||i===1&&o.type==="element"&&o.getNode().getChildrenSize()===0){t=o.type==="text"?o.getNode().getParentOrThrow():o.getNode(),r=t.getChildren();let l=e();l.setFormat(t.getFormatType()),l.setIndent(t.getIndent()),r.forEach(a=>l.append(a)),n&&(l=n.append(l)),t.replace(l)}else{o=null;var s=[];for(let l=0;l<i;l++){let a=r[l];z.$isRootOrShadowRoot(a)?(As(t,s,s.length,e,n),s=[],o=a):o===null||o!==null&&z.$hasAncestor(a,o)?s.push(a):(As(t,s,s.length,e,n),s=[a])}As(t,s,s.length,e,n)}};be.createDOMRange=function(t,e,n,r,i){let o=e.getKey(),s=r.getKey(),l=document.createRange(),a=t.getElementByKey(o);if(t=t.getElementByKey(s),z.$isTextNode(e)&&(a=$u(a)),z.$isTextNode(r)&&(t=$u(t)),e===void 0||r===void 0||a===null||t===null)return null;a.nodeName==="BR"&&([a,n]=Du(a)),t.nodeName==="BR"&&([t,i]=Du(t)),e=a.firstChild,a===t&&e!=null&&e.nodeName==="BR"&&n===0&&i===0&&(i=1);try{l.setStart(a,n),l.setEnd(t,i)}catch{return null}return!l.collapsed||n===i&&o===s||(l.setStart(t,i),l.setEnd(a,n)),l};be.createRectsFromDOMRange=function(t,e){var n=t.getRootElement();if(n===null)return[];t=n.getBoundingClientRect(),n=getComputedStyle(n),n=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e=Array.from(e.getClientRects());let r=e.length,i;for(let o=0;o<r;o++){let s=e[o],l=s.width+n===t.width;i&&i.top===s.top&&i.left===s.left&&i.width===s.width&&i.height===s.height||l?(e.splice(o--,1),r--):i=s}return e};be.getStyleObjectFromCSS=Co;be.trimTextContentFromAnchor=function(t,e,n){let r=e.getNode();if(z.$isElementNode(r)){var i=r.getDescendantByIndex(e.offset);i!==null&&(r=i)}for(;0<n&&r!==null;){var o=r.getPreviousSibling(),s=0;if(o===null){i=r.getParentOrThrow();for(var l=i.getPreviousSibling();l===null;){if(i=i.getParent(),i===null){o=null;break}l=i.getPreviousSibling()}i!==null&&(s=i.isInline()?0:2,o=z.$isElementNode(l)?l.getLastDescendant():l)}if(l=r.getTextContent(),l===""&&z.$isElementNode(r)&&!r.isInline()&&(l=`

`),i=r.getTextContentSize(),!z.$isTextNode(r)||n>=i)l=r.getParent(),r.remove(),l==null||l.getChildrenSize()!==0||z.$isRootNode(l)||l.remove(),n-=i+s,r=o;else{let a=r.getKey();s=t.getEditorState().read(()=>{const g=z.$getNodeByKey(a);return z.$isTextNode(g)&&g.isSimpleText()?g.getTextContent():null}),o=i-n;let d=l.slice(0,o);s!==null&&s!==l?(n=z.$getPreviousSelection(),i=r,r.isSimpleText()?r.setTextContent(s):(i=z.$createTextNode(s),r.replace(i)),z.$isRangeSelection(n)&&n.isCollapsed()&&(n=n.anchor.offset,i.select(n,n))):r.isSimpleText()?(s=e.key===a,l=e.offset,l<n&&(l=i),n=s?l-n:0,i=s?l:o,s&&n===0?([n]=r.splitText(n,i),n.remove()):([,n]=r.splitText(n,i),n.remove())):(n=z.$createTextNode(d),r.replace(n)),n=0}}};const fm=be;var Nt=fm,ku=Nt,pr=H;function lf(t,e,n,r=null){let i=r!=null?e.isSelected():!0,o=pr.$isElementNode(e)&&e.excludeFromCopy("html");var s=e;r!==null&&(s=ku.$cloneWithProperties(e),s=pr.$isTextNode(s)&&r!=null?ku.$sliceSelectedTextNodeContent(r,s):s);let l=pr.$isElementNode(s)?s.getChildren():[],{element:a,after:d}=s.exportDOM(t);if(!a)return!1;let g=document.createDocumentFragment();for(let c=0;c<l.length;c++){let u=l[c],f=lf(t,u,g,r);!i&&pr.$isElementNode(e)&&f&&e.extractWithChild(u,r,"html")&&(i=!0)}return i&&!o?(a.append(g),n.append(a),d&&(t=d.call(s,a))&&a.replaceWith(t)):n.append(g),i}let af=new Set(["STYLE","SCRIPT"]);function uf(t,e,n=new Map,r,i=!1){let o=[];if(af.has(t.nodeName))return o;let s=null;var{nodeName:l}=t,a=e._htmlConversions.get(l.toLowerCase());if(l=null,a!==void 0)for(d of a)a=d(t),a!==null&&(l===null||l.priority<a.priority)&&(l=a);var d=(d=l!==null?l.conversion:null)?d(t,void 0,i):null;if(l=null,d!==null){if(l=d.after,s=d.node,s!==null){for(var[,g]of n)if(s=g(s,r),!s)break;s&&o.push(s)}d.forChild!=null&&n.set(t.nodeName,d.forChild)}for(t=t.childNodes,r=[],g=0;g<t.length;g++)r.push(...uf(t[g],e,new Map(n),s,i||(d&&d.preformatted)===!0));return l!=null&&(r=l(r)),s==null?o=o.concat(r):pr.$isElementNode(s)&&s.append(...r),o}Hl.$generateHtmlFromNodes=function(t,e){if(typeof document>"u"||typeof window>"u")throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let n=document.createElement("div"),r=pr.$getRoot().getChildren();for(let i=0;i<r.length;i++)lf(t,r[i],n,e);return n.innerHTML};Hl.$generateNodesFromDOM=function(t,e){let n=[];e=e.body?e.body.childNodes:[];for(let i=0;i<e.length;i++){var r=e[i];af.has(r.nodeName)||(r=uf(r,t),r!==null&&(n=n.concat(r)))}return n};const gm=Hl;var cf=gm,df={},Qo={},ff=C;let gf=ff.createContext(null);Qo.LexicalComposerContext=gf;Qo.createLexicalComposerContext=function(t,e){let n=null;return t!=null&&(n=t[1]),{getTheme:function(){return e??(n!=null?n.getTheme():null)}}};Qo.useLexicalComposerContext=function(){let t=ff.useContext(gf);if(t==null)throw Error("Minified Lexical error #8; visit https://lexical.dev/docs/error?code=8 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return t};const hm=Qo;var Ge=hm,Lu=Ge,Wr=H,vo=C;let hf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";var pm=hf?vo.useLayoutEffect:vo.useEffect;let bi={tag:"history-merge"};function mm(t,e){if(e!==null){if(e===void 0)t.update(()=>{var n=Wr.$getRoot();if(n.isEmpty()){let r=Wr.$createParagraphNode();n.append(r),n=hf?document.activeElement:null,(Wr.$getSelection()!==null||n!==null&&n===t.getRootElement())&&r.select()}},bi);else if(e!==null)switch(typeof e){case"string":let n=t.parseEditorState(e);t.setEditorState(n,bi);break;case"object":t.setEditorState(e,bi);break;case"function":t.update(()=>{Wr.$getRoot().isEmpty()&&e(t)},bi)}}}df.LexicalComposer=function({initialConfig:t,children:e}){let n=vo.useMemo(()=>{const{theme:r,namespace:i,editor__DEPRECATED:o,nodes:s,onError:l,editorState:a}=t,d=Lu.createLexicalComposerContext(null,r);let g=o||null;if(g===null){const c=Wr.createEditor({editable:t.editable,namespace:i,nodes:s,onError:u=>l(u,c),theme:r});mm(c,a),g=c}return[g,d]},[]);return pm(()=>{let r=t.editable,[i]=n;i.setEditable(r!==void 0?r:!0)},[]),vo.createElement(Lu.LexicalComposerContext.Provider,{value:n},e)};const _m=df;var ym=_m,pf={},Em=Ge,Zr=C,xm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Zr.useLayoutEffect:Zr.useEffect;function Nm(t){let[e]=Em.useLexicalComposerContext(),n=Zr.useMemo(()=>t(e),[e,t]),r=Zr.useRef(n.initialValueFn()),[i,o]=Zr.useState(r.current);return xm(()=>{let{initialValueFn:s,subscribe:l}=n,a=s();return r.current!==a&&(r.current=a,o(a)),l(d=>{r.current=d,o(d)})},[n,t]),i}function Cm(t){return{initialValueFn:()=>t.isEditable(),subscribe:e=>t.registerEditableListener(e)}}var vm=function(){return Nm(Cm)};const Tm=vm;var Sm=Tm,An={},Ze=H;function fa(t,e=!0){return t?!1:(t=mf(),e&&(t=t.trim()),t==="")}function mf(){return Ze.$getRoot().getTextContent()}function _f(t){if(!fa(t,!1))return!1;t=Ze.$getRoot().getChildren();let e=t.length;if(1<e)return!1;for(let r=0;r<e;r++){var n=t[r];if(Ze.$isDecoratorNode(n))return!1;if(Ze.$isElementNode(n)){if(!Ze.$isParagraphNode(n)||n.__indent!==0)return!1;n=n.getChildren();let i=n.length;for(let o=0;o<i;o++)if(!Ze.$isTextNode(n[r]))return!1}}return!0}An.$canShowPlaceholder=_f;An.$canShowPlaceholderCurry=function(t){return()=>_f(t)};An.$findTextIntersectionFromCharacters=function(t,e){var n=t.getFirstChild();t=0;e:for(;n!==null;){if(Ze.$isElementNode(n)){var r=n.getFirstChild();if(r!==null){n=r;continue}}else if(Ze.$isTextNode(n)){if(r=n.getTextContentSize(),t+r>e)return{node:n,offset:e-t};t+=r}if(r=n.getNextSibling(),r!==null)n=r;else{for(n=n.getParent();n!==null;){if(r=n.getNextSibling(),r!==null){n=r;continue e}n=n.getParent()}break}}return null};An.$isRootTextContentEmpty=fa;An.$isRootTextContentEmptyCurry=function(t,e){return()=>fa(t,e)};An.$rootTextContent=mf;An.registerLexicalTextEntity=function(t,e,n,r){let i=s=>{const l=Ze.$createTextNode(s.getTextContent());l.setFormat(s.getFormat()),s.replace(l)},o=t.registerNodeTransform(Ze.TextNode,s=>{if(s.isSimpleText()){var l=s.getPreviousSibling(),a=s.getTextContent(),d=s;if(Ze.$isTextNode(l)){var g=l.getTextContent(),c=e(g+a);if(l instanceof n){if(c===null||l.getLatest().__mode!==0){i(l);return}if(c=c.end-g.length,0<c){d=a.slice(0,c),d=g+d,l.select(),l.setTextContent(d),c===a.length?s.remove():(l=a.slice(c),s.setTextContent(l));return}}else if(c===null||c.start<g.length)return}for(;;){if(s=e(a),a=c=s===null?"":a.slice(s.end),c===""){if(g=d.getNextSibling(),Ze.$isTextNode(g)){if(c=d.getTextContent()+g.getTextContent(),c=e(c),c===null){g instanceof n?i(g):g.markDirty();break}else if(c.start!==0)break}}else if(g=e(c),g!==null&&g.start===0)break;if(s===null)break;if(s.start===0&&Ze.$isTextNode(l)&&l.isTextEntity())continue;let u;if(s.start===0?[u,d]=d.splitText(s.end):[,u,d]=d.splitText(s.start,s.end),s=r(u),u.replace(s),d==null)break}}});return t=t.registerNodeTransform(n,s=>{var l=s.getTextContent();const a=e(l);a===null||a.start!==0?i(s):l.length>a.end?s.splitText(a.end):(l=s.getPreviousSibling(),Ze.$isTextNode(l)&&l.isTextEntity()&&(i(l),i(s)),l=s.getNextSibling(),Ze.$isTextNode(l)&&l.isTextEntity()&&(i(l),s instanceof n&&i(s)))}),[o,t]};const Am=An;var wm=Am,He={},Rm=Nt,De=H;function yf(t,e){for(let n of e)if(t.type.startsWith(n))return!0;return!1}function Ef(t,e){for(;t!==De.$getRoot()&&t!=null;){if(e(t))return t;t=t.getParent()}return null}function xf(t){return t.nodeType===1}He.$splitNode=De.$splitNode;He.$dfs=function(t,e){let n=[];t=(t||De.$getRoot()).getLatest(),e=e||(De.$isElementNode(t)?t.getLastDescendant():t);for(var r=t,i=0;(r=r.getParent())!==null;)i++;for(r=i;t!==null&&!t.is(e);)if(n.push({depth:r,node:t}),De.$isElementNode(t)&&0<t.getChildrenSize())t=t.getFirstChild(),r++;else for(i=null;i===null&&t!==null;)i=t.getNextSibling(),i===null?(t=t.getParent(),r--):t=i;return t!==null&&t.is(e)&&n.push({depth:r,node:t}),n};He.$findMatchingParent=Ef;He.$getNearestBlockElementAncestorOrThrow=function(t){if(t=Ef(t,e=>De.$isElementNode(e)&&!e.isInline()),!De.$isElementNode(t))throw Error("Minified Lexical error #4; visit https://lexical.dev/docs/error?code=4 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return t};He.$getNearestNodeOfType=function(t,e){for(;t!=null;){if(t instanceof e)return t;t=t.getParent()}return null};He.$insertNodeToNearestRoot=function(t){var e=De.$getSelection();if(De.$isRangeSelection(e)){var{focus:n}=e;if(e=n.getNode(),n=n.offset,De.$isRootOrShadowRoot(e))n=e.getChildAtIndex(n),n==null?e.append(t):n.insertBefore(t),t.selectNext();else{let r,i;De.$isTextNode(e)?(r=e.getParentOrThrow(),i=e.getIndexWithinParent(),0<n&&(i+=1,e.splitText(n))):(r=e,i=n),[,e]=De.$splitNode(r,i),e.insertBefore(t),e.selectStart()}}else De.$isNodeSelection(e)||De.DEPRECATED_$isGridSelection(e)?(e=e.getNodes(),e[e.length-1].getTopLevelElementOrThrow().insertAfter(t)):De.$getRoot().append(t),e=De.$createParagraphNode(),t.insertAfter(e),e.select();return t.getLatest()};He.$restoreEditorState=function(t,e){let n=new Map,r=t._pendingEditorState;for(let[i,o]of e._nodeMap){let s=Rm.$cloneWithProperties(o);De.$isTextNode(s)&&(s.__text=o.__text),n.set(i,s)}r&&(r._nodeMap=n),t._dirtyType=2,t=e._selection,De.$setSelection(t===null?null:t.clone())};He.$wrapNodeInElement=function(t,e){return e=e(),t.replace(e),e.append(t),e};He.addClassNamesToElement=function(t,...e){e.forEach(n=>{typeof n=="string"&&(n=n.split(" ").filter(r=>r!==""),t.classList.add(...n))})};He.isHTMLAnchorElement=function(t){return xf(t)&&t.tagName==="A"};He.isHTMLElement=xf;He.isMimeType=yf;He.mediaFileReader=function(t,e){let n=t[Symbol.iterator]();return new Promise((r,i)=>{let o=[],s=()=>{const{done:l,value:a}=n.next();if(l)return r(o);const d=new FileReader;d.addEventListener("error",i),d.addEventListener("load",()=>{const g=d.result;typeof g=="string"&&o.push({file:a,result:g}),s()}),yf(a,e)?d.readAsDataURL(a):s()};s()})};He.mergeRegister=function(...t){return()=>{t.forEach(e=>e())}};He.registerNestedElementResolver=function(t,e,n,r){return t.registerNodeTransform(e,i=>{e:{for(var o=i.getChildren(),s=0;s<o.length;s++)if(o[s]instanceof e){o=null;break e}for(o=i;o!==null;)if(s=o,o=o.getParent(),o instanceof e){o={child:s,parent:o};break e}o=null}if(o!==null){const{child:l,parent:a}=o;if(l.is(i)){if(r(a,i),i=l.getNextSiblings(),o=i.length,a.insertAfter(l),o!==0){s=n(a),l.insertAfter(s);for(let d=0;d<o;d++)s.append(i[d])}a.canBeEmpty()||a.getChildrenSize()!==0||a.remove()}}})};He.removeClassNamesFromElement=function(t,...e){e.forEach(n=>{typeof n=="string"&&t.classList.remove(...n.split(" "))})};const Om=He;var nt=Om,Nf={},Ii=H;Nf.registerDragonSupport=function(t){let e=window.location.origin,n=r=>{if(r.origin===e){var i=t.getRootElement();if(document.activeElement===i&&(i=r.data,typeof i=="string")){try{var o=JSON.parse(i)}catch{return}if(o&&o.protocol==="nuanria_messaging"&&o.type==="request"&&(o=o.payload)&&o.functionId==="makeChanges"&&(o=o.args)){const[s,l,a,d,g]=o;t.update(()=>{const c=Ii.$getSelection();if(Ii.$isRangeSelection(c)){var u=c.anchor;let f=u.getNode(),h=0,p=0;Ii.$isTextNode(f)&&0<=s&&0<=l&&(h=s,p=s+l,c.setTextNodeRange(f,h,f,p)),(h!==p||a!=="")&&(c.insertRawText(a),f=u.getNode()),Ii.$isTextNode(f)&&(h=d,p=d+g,u=f.getTextContentSize(),h=h>u?u:h,p=p>u?u:p,c.setTextNodeRange(f,h,f,p)),r.stopImmediatePropagation()}})}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}};const $m=Nf;var Dm=$m,Vt={},un={},Cf=cf,ml=Nt,Qr=nt,G=H;function rn(t){throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?code=${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function vf(t){let e=G.$getSelection();if(e==null)throw Error("Expected valid LexicalSelection");return G.$isRangeSelection(e)&&e.isCollapsed()||e.getNodes().length===0?"":Cf.$generateHtmlFromNodes(t,e)}function Tf(t){let e=G.$getSelection();if(e==null)throw Error("Expected valid LexicalSelection");return G.$isRangeSelection(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(Af(t,e))}function _l(t,e,n){(G.DEPRECATED_$isGridSelection(n)||Qr.$findMatchingParent(n.anchor.getNode(),r=>G.DEPRECATED_$isGridCellNode(r))!==null&&Qr.$findMatchingParent(n.focus.getNode(),r=>G.DEPRECATED_$isGridCellNode(r))!==null)&&e.length===1&&G.DEPRECATED_$isGridNode(e[0])?Lm(e,n,!1,t):km(e,n)}function km(t,e){let n=[],r=null;for(let i=0;i<t.length;i++){let o=t[i],s=G.$isLineBreakNode(o);if(s||G.$isDecoratorNode(o)&&o.isInline()||G.$isElementNode(o)&&o.isInline()||G.$isTextNode(o)||o.isParentRequired()){if(r===null&&(r=o.createParentElementNode(),n.push(r),s))continue;r!==null&&r.append(o)}else n.push(o),r=null}G.$isRangeSelection(e)?e.insertNodes(n):G.DEPRECATED_$isGridSelection(e)&&(t=e.anchor.getNode(),G.DEPRECATED_$isGridCellNode(t)||rn(41),t.append(...n))}function Lm(t,e,n,r){t.length===1&&G.DEPRECATED_$isGridNode(t[0])||rn(42);var i=t[0];t=i.getChildren(),n=i.getFirstChildOrThrow().getChildrenSize();var o=i.getChildrenSize(),s=Qr.$findMatchingParent(e.anchor.getNode(),f=>G.DEPRECATED_$isGridCellNode(f));e=(i=s&&Qr.$findMatchingParent(s,f=>G.DEPRECATED_$isGridRowNode(f)))&&Qr.$findMatchingParent(i,f=>G.DEPRECATED_$isGridNode(f)),G.DEPRECATED_$isGridCellNode(s)&&G.DEPRECATED_$isGridRowNode(i)&&G.DEPRECATED_$isGridNode(e)||rn(43);var l=i.getIndexWithinParent(),a=Math.min(e.getChildrenSize()-1,l+o-1);o=s.getIndexWithinParent(),s=Math.min(i.getChildrenSize()-1,o+n-1),n=Math.min(o,s),i=Math.min(l,a),o=Math.max(o,s),l=Math.max(l,a),a=e.getChildren(),s=0;let d,g;for(let f=i;f<=l;f++){var c=a[f];G.DEPRECATED_$isGridRowNode(c)||rn(24);var u=t[s];G.DEPRECATED_$isGridRowNode(u)||rn(24),c=c.getChildren(),u=u.getChildren();let h=0;for(let p=n;p<=o;p++){let m=c[p];G.DEPRECATED_$isGridCellNode(m)||rn(25);let x=u[h];G.DEPRECATED_$isGridCellNode(x)||rn(25),f===i&&p===n?d=m.getKey():f===l&&p===o&&(g=m.getKey());let _=m.getChildren();x.getChildren().forEach(E=>{G.$isTextNode(E)&&G.$createParagraphNode().append(E),m.append(E)}),_.forEach(E=>E.remove()),h++}s++}d&&g&&(t=G.DEPRECATED_$createGridSelection(),t.set(e.getKey(),d,g),G.$setSelection(t),r.dispatchCommand(G.SELECTION_CHANGE_COMMAND,void 0))}function Sf(t,e,n,r=[]){let i=e!=null?n.isSelected(e):!0,o=G.$isElementNode(n)&&n.excludeFromCopy("html");var s=n;if(e!==null){var l=ml.$cloneWithProperties(n);s=l=G.$isTextNode(l)&&e!=null?ml.$sliceSelectedTextNodeContent(e,l):l}let a=G.$isElementNode(s)?s.getChildren():[];var d=s;l=d.exportJSON(),l.type!==d.constructor.getType()&&rn(58);var g=l.children;for(G.$isElementNode(d)&&(Array.isArray(g)||rn(59)),G.$isTextNode(s)&&(s=s.__text,0<s.length?l.text=s:i=!1),s=0;s<a.length;s++)d=a[s],g=Sf(t,e,d,l.children),!i&&G.$isElementNode(n)&&g&&n.extractWithChild(d,e,"clone")&&(i=!0);if(i&&!o)r.push(l);else if(Array.isArray(l.children))for(t=0;t<l.children.length;t++)r.push(l.children[t]);return i}function Af(t,e){let n=[],r=G.$getRoot().getChildren();for(let i=0;i<r.length;i++)Sf(t,e,r[i],n);return{namespace:t._config.namespace,nodes:n}}function wf(t){let e=[];for(let n=0;n<t.length;n++){let r=G.$parseSerializedNode(t[n]);G.$isTextNode(r)&&ml.$addNodeStyle(r),e.push(r)}return e}let sr=null;function Mu(t,e){var n=window.getSelection();if(!n)return!1;var r=n.anchorNode;if(n=n.focusNode,r!==null&&n!==null&&!G.isSelectionWithinEditor(t,r,n)||(e.preventDefault(),e=e.clipboardData,r=G.$getSelection(),e===null||r===null))return!1;n=vf(t),t=Tf(t);let i="";return r!==null&&(i=r.getTextContent()),n!==null&&e.setData("text/html",n),t!==null&&e.setData("application/x-lexical-editor",t),e.setData("text/plain",i),!0}un.$generateJSONFromSelectedNodes=Af;un.$generateNodesFromSerializedNodes=wf;un.$getHtmlContent=vf;un.$getLexicalContent=Tf;un.$insertDataTransferForPlainText=function(t,e){t=t.getData("text/plain"),t!=null&&e.insertRawText(t)};un.$insertDataTransferForRichText=function(t,e,n){var r=t.getData("application/x-lexical-editor");if(r)try{let o=JSON.parse(r);if(o.namespace===n._config.namespace&&Array.isArray(o.nodes)){let s=wf(o.nodes);return _l(n,s,e)}}catch{}if(r=t.getData("text/html"))try{var i=new DOMParser().parseFromString(r,"text/html");let o=Cf.$generateNodesFromDOM(n,i);return _l(n,o,e)}catch{}if(t=t.getData("text/plain"),t!=null)if(G.$isRangeSelection(e))for(t=t.split(/\r?\n/),n=t.length,i=0;i<n;i++)e.insertText(t[i]),i<n-1&&e.insertParagraph();else e.insertRawText(t)};un.$insertGeneratedNodes=_l;un.copyToClipboard=async function(t,e){if(sr!==null)return!1;if(e!==null)return new Promise(o=>{t.update(()=>{o(Mu(t,e))})});var n=t.getRootElement();let r=document.getSelection();if(n===null||r===null)return!1;let i=document.createElement("span");return i.style.cssText="position: fixed; top: -1000px;",i.append(document.createTextNode("#")),n.append(i),n=new Range,n.setStart(i,0),n.setEnd(i,1),r.removeAllRanges(),r.addRange(n),new Promise(o=>{let s=t.registerCommand(G.COPY_COMMAND,l=>(l instanceof ClipboardEvent&&(s(),sr!==null&&(window.clearTimeout(sr),sr=null),o(Mu(t,l))),!0),G.COMMAND_PRIORITY_CRITICAL);sr=window.setTimeout(()=>{s(),sr=null,o(!1)},50),document.execCommand("copy"),i.remove()})};const Mm=un;var bm=Mm,To=bm,Pi=Nt,Cr=nt,S=H;function bu(t,e){return typeof document.caretRangeFromPoint<"u"?(t=document.caretRangeFromPoint(t,e),t===null?null:{node:t.startContainer,offset:t.startOffset}):document.caretPositionFromPoint!=="undefined"?(t=document.caretPositionFromPoint(t,e),t===null?null:{node:t.offsetNode,offset:t.offset}):null}let Pr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Im=Pr&&"documentMode"in document?document.documentMode:null,Pm=Pr&&"InputEvent"in window&&!Im?"getTargetRanges"in new window.InputEvent("input"):!1,Fm=Pr&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Bm=Pr&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Um=Pr&&/^(?=.*Chrome).*/i.test(navigator.userAgent),jm=Pr&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Um,yl=S.createCommand("DRAG_DROP_PASTE_FILE"),ga=class Rf extends S.ElementNode{static getType(){return"quote"}static clone(e){return new Rf(e.__key)}constructor(e){super(e)}createDOM(e){let n=document.createElement("blockquote");return Cr.addClassNamesToElement(n,e.theme.quote),n}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:zm,priority:0})}}static importJSON(e){let n=ha();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(e,n){e=S.$createParagraphNode();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,n),e}collapseAtStart(){let e=S.$createParagraphNode();return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}};function ha(){return S.$applyNodeReplacement(new ga)}let pa=class Of extends S.ElementNode{static getType(){return"heading"}static clone(e){return new Of(e.__tag,e.__key)}constructor(e,n){super(n),this.__tag=e}getTag(){return this.__tag}createDOM(e){let n=this.__tag,r=document.createElement(n);return e=e.theme.heading,e!==void 0&&Cr.addClassNamesToElement(r,e[n]),r}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:lr,priority:0}),h2:()=>({conversion:lr,priority:0}),h3:()=>({conversion:lr,priority:0}),h4:()=>({conversion:lr,priority:0}),h5:()=>({conversion:lr,priority:0}),h6:()=>({conversion:lr,priority:0}),p:e=>(e=e.firstChild,e!==null&&Iu(e)?{conversion:()=>({node:null}),priority:3}:null),span:e=>Iu(e)?{conversion:()=>({node:mr("h1")}),priority:3}:null}}static importJSON(e){let n=mr(e.tag);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(e,n=!0){e=e?e.anchor.offset:0,e=0<e&&e<this.getTextContentSize()?mr(this.getTag()):S.$createParagraphNode();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,n),e}collapseAtStart(){let e=this.isEmpty()?S.$createParagraphNode():mr(this.getTag());return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}extractWithChild(){return!0}};function Iu(t){return t.nodeName.toLowerCase()==="span"?t.style.fontSize==="26pt":!1}function lr(t){t=t.nodeName.toLowerCase();let e=null;return(t==="h1"||t==="h2"||t==="h3"||t==="h4"||t==="h5"||t==="h6")&&(e=mr(t)),{node:e}}function zm(){return{node:ha()}}function mr(t){return S.$applyNodeReplacement(new pa(t))}function Hm(t,e){t.preventDefault(),e.update(()=>{let n=S.$getSelection(),r=t instanceof InputEvent||t instanceof KeyboardEvent?null:t.clipboardData;r!=null&&(S.$isRangeSelection(n)||S.DEPRECATED_$isGridSelection(n))&&To.$insertDataTransferForRichText(r,n,e)},{tag:"paste"})}async function Km(t,e){await To.copyToClipboard(e,t instanceof ClipboardEvent?t:null),e.update(()=>{let n=S.$getSelection();S.$isRangeSelection(n)?n.removeText():S.$isNodeSelection(n)&&n.getNodes().forEach(r=>r.remove())})}function Gr(t){let e=null;if(t instanceof DragEvent?e=t.dataTransfer:t instanceof ClipboardEvent&&(e=t.clipboardData),e===null)return[!1,[],!1];var n=e.types;return t=n.includes("Files"),n=n.includes("text/html")||n.includes("text/plain"),[t,Array.from(e.files),n]}function Pu(t,e){var n=S.$getSelection();if(S.$isRangeSelection(n)){var r=new Set;n=n.getNodes();for(let i=0;i<n.length;i++){let o=n[i],s=o.getKey();if(r.has(s))continue;let l=Cr.$getNearestBlockElementAncestorOrThrow(o),a=l.getKey();l.canInsertTab()?(t(o),r.add(s)):l.canIndent()&&!r.has(a)&&(r.add(a),e(l))}}}function Fi(t){return t=S.$getNearestNodeFromDOMNode(t),S.$isDecoratorNode(t)}Vt.$createHeadingNode=mr;Vt.$createQuoteNode=ha;Vt.$isHeadingNode=function(t){return t instanceof pa};Vt.$isQuoteNode=function(t){return t instanceof ga};Vt.DRAG_DROP_PASTE=yl;Vt.HeadingNode=pa;Vt.QuoteNode=ga;Vt.eventFiles=Gr;Vt.registerRichText=function(t){return Cr.mergeRegister(t.registerCommand(S.CLICK_COMMAND,()=>{const e=S.$getSelection();return S.$isNodeSelection(e)?(e.clear(),!0):!1},0),t.registerCommand(S.DELETE_CHARACTER_COMMAND,e=>{const n=S.$getSelection();return S.$isRangeSelection(n)?(n.deleteCharacter(e),!0):!1},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.DELETE_WORD_COMMAND,e=>{const n=S.$getSelection();return S.$isRangeSelection(n)?(n.deleteWord(e),!0):!1},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.DELETE_LINE_COMMAND,e=>{const n=S.$getSelection();return S.$isRangeSelection(n)?(n.deleteLine(e),!0):!1},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.CONTROLLED_TEXT_INSERTION_COMMAND,e=>{const n=S.$getSelection();if(typeof e=="string")S.$isRangeSelection(n)?n.insertText(e):S.DEPRECATED_$isGridSelection(n);else{if(!S.$isRangeSelection(n)&&!S.DEPRECATED_$isGridSelection(n))return!1;const r=e.dataTransfer;r!=null?To.$insertDataTransferForRichText(r,n,t):S.$isRangeSelection(n)&&(e=e.data)&&n.insertText(e)}return!0},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.REMOVE_TEXT_COMMAND,()=>{const e=S.$getSelection();return S.$isRangeSelection(e)?(e.removeText(),!0):!1},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.FORMAT_TEXT_COMMAND,e=>{const n=S.$getSelection();return S.$isRangeSelection(n)?(n.formatText(e),!0):!1},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.FORMAT_ELEMENT_COMMAND,e=>{var n=S.$getSelection();if(!S.$isRangeSelection(n)&&!S.$isNodeSelection(n))return!1;n=n.getNodes();for(const r of n)Cr.$getNearestBlockElementAncestorOrThrow(r).setFormat(e);return!0},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.INSERT_LINE_BREAK_COMMAND,e=>{const n=S.$getSelection();return S.$isRangeSelection(n)?(n.insertLineBreak(e),!0):!1},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.INSERT_PARAGRAPH_COMMAND,()=>{const e=S.$getSelection();return S.$isRangeSelection(e)?(e.insertParagraph(),!0):!1},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.INDENT_CONTENT_COMMAND,()=>(Pu(()=>{t.dispatchCommand(S.CONTROLLED_TEXT_INSERTION_COMMAND,"	")},e=>{const n=e.getIndent();n!==10&&e.setIndent(n+1)}),!0),S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.OUTDENT_CONTENT_COMMAND,()=>(Pu(e=>{S.$isTextNode(e)&&(e=e.getTextContent(),e[e.length-1]==="	"&&t.dispatchCommand(S.DELETE_CHARACTER_COMMAND,!0))},e=>{const n=e.getIndent();n!==0&&e.setIndent(n-1)}),!0),S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.KEY_ARROW_UP_COMMAND,e=>{var n=S.$getSelection();if(S.$isNodeSelection(n)&&!Fi(e.target)){if(e=n.getNodes(),0<e.length)return e[0].selectPrevious(),!0}else if(S.$isRangeSelection(n)){if(n=S.$getAdjacentNode(n.focus,!0),S.$isDecoratorNode(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0;if(S.$isElementNode(n)&&!n.isInline()&&!n.canBeEmpty())return n.select(),e.preventDefault(),!0}return!1},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.KEY_ARROW_DOWN_COMMAND,e=>{var n=S.$getSelection();if(S.$isNodeSelection(n)){if(e=n.getNodes(),0<e.length)return e[0].selectNext(0,0),!0}else if(S.$isRangeSelection(n)){let r=n.focus;if(r.key==="root"&&r.offset===S.$getRoot().getChildrenSize())return e.preventDefault(),!0;if(n=S.$getAdjacentNode(n.focus,!1),S.$isDecoratorNode(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.KEY_ARROW_LEFT_COMMAND,e=>{const n=S.$getSelection();if(S.$isNodeSelection(n)){var r=n.getNodes();if(0<r.length)return e.preventDefault(),r[0].selectPrevious(),!0}return S.$isRangeSelection(n)&&Pi.$shouldOverrideDefaultCharacterSelection(n,!0)?(r=e.shiftKey,e.preventDefault(),Pi.$moveCharacter(n,r,!0),!0):!1},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.KEY_ARROW_RIGHT_COMMAND,e=>{const n=S.$getSelection();if(S.$isNodeSelection(n)&&!Fi(e.target)){var r=n.getNodes();if(0<r.length)return e.preventDefault(),r[0].selectNext(0,0),!0}return S.$isRangeSelection(n)?(r=e.shiftKey,Pi.$shouldOverrideDefaultCharacterSelection(n,!1)?(e.preventDefault(),Pi.$moveCharacter(n,r,!1),!0):!1):!1},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.KEY_BACKSPACE_COMMAND,e=>{if(Fi(e.target))return!1;const n=S.$getSelection();if(!S.$isRangeSelection(n))return!1;e.preventDefault(),{anchor:e}=n;const r=e.getNode();return n.isCollapsed()&&e.offset===0&&!S.$isRootNode(r)&&0<Cr.$getNearestBlockElementAncestorOrThrow(r).getIndent()?t.dispatchCommand(S.OUTDENT_CONTENT_COMMAND,void 0):t.dispatchCommand(S.DELETE_CHARACTER_COMMAND,!0)},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.KEY_DELETE_COMMAND,e=>{if(Fi(e.target))return!1;const n=S.$getSelection();return S.$isRangeSelection(n)?(e.preventDefault(),t.dispatchCommand(S.DELETE_CHARACTER_COMMAND,!1)):!1},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.KEY_ENTER_COMMAND,e=>{const n=S.$getSelection();if(!S.$isRangeSelection(n))return!1;if(e!==null){if((Bm||Fm||jm)&&Pm)return!1;if(e.preventDefault(),e.shiftKey)return t.dispatchCommand(S.INSERT_LINE_BREAK_COMMAND,!1)}return t.dispatchCommand(S.INSERT_PARAGRAPH_COMMAND,void 0)},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.KEY_ESCAPE_COMMAND,()=>{const e=S.$getSelection();return S.$isRangeSelection(e)?(t.blur(),!0):!1},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.DROP_COMMAND,e=>{const[,n]=Gr(e);if(0<n.length){var r=bu(e.clientX,e.clientY);if(r!==null){const{offset:o,node:s}=r;var i=S.$getNearestNodeFromDOMNode(s);if(i!==null){if(r=S.$createRangeSelection(),S.$isTextNode(i))r.anchor.set(i.getKey(),o,"text"),r.focus.set(i.getKey(),o,"text");else{const l=i.getParentOrThrow().getKey();i=i.getIndexWithinParent()+1,r.anchor.set(l,i,"element"),r.focus.set(l,i,"element")}r=S.$normalizeSelection__EXPERIMENTAL(r),S.$setSelection(r)}t.dispatchCommand(yl,n)}return e.preventDefault(),!0}return e=S.$getSelection(),!!S.$isRangeSelection(e)},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.DRAGSTART_COMMAND,e=>{[e]=Gr(e);const n=S.$getSelection();return!(e&&!S.$isRangeSelection(n))},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.DRAGOVER_COMMAND,e=>{var[n]=Gr(e);const r=S.$getSelection();return n&&!S.$isRangeSelection(r)?!1:(n=bu(e.clientX,e.clientY),n!==null&&(n=S.$getNearestNodeFromDOMNode(n.node),S.$isDecoratorNode(n)&&e.preventDefault()),!0)},S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.COPY_COMMAND,e=>(To.copyToClipboard(t,e instanceof ClipboardEvent?e:null),!0),S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.CUT_COMMAND,e=>(Km(e,t),!0),S.COMMAND_PRIORITY_EDITOR),t.registerCommand(S.PASTE_COMMAND,e=>{const[,n,r]=Gr(e);if(0<n.length&&!r)return t.dispatchCommand(yl,n),!0;if(S.isSelectionCapturedInDecoratorInput(e.target))return!1;const i=S.$getSelection();return S.$isRangeSelection(i)||S.DEPRECATED_$isGridSelection(i)?(Hm(e,t),!0):!1},S.COMMAND_PRIORITY_EDITOR))};const Wm=Vt;var Nn=Wm,$f=Ge,Gm=Sm,xt=C,Ym=wm,Df=nt,Fu=Gs,Vm=Dm,Jm=Nn,ma=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?xt.useLayoutEffect:xt.useEffect;function Bu(t){return t.getEditorState().read(Ym.$canShowPlaceholderCurry(t.isComposing()))}function Xm(t){let[e,n]=xt.useState(()=>Bu(t));return ma(()=>{function r(){let i=Bu(t);n(i)}return r(),Df.mergeRegister(t.registerUpdateListener(()=>{r()}),t.registerEditableListener(()=>{r()}))},[t]),e}function qm(t,e){let[n,r]=xt.useState(()=>t.getDecorators());return ma(()=>t.registerDecoratorListener(i=>{Fu.flushSync(()=>{r(i)})}),[t]),xt.useEffect(()=>{r(t.getDecorators())},[t]),xt.useMemo(()=>{let i=[],o=Object.keys(n);for(let l=0;l<o.length;l++){var s=o[l];let a=xt.createElement(e,{onError:d=>t._onError(d)},xt.createElement(xt.Suspense,{fallback:null},n[s]));s=t.getElementByKey(s),s!==null&&i.push(Fu.createPortal(a,s))}return i},[e,n,t])}function Zm(t){ma(()=>Df.mergeRegister(Jm.registerRichText(t),Vm.registerDragonSupport(t)),[t])}function Qm({content:t}){var[e]=$f.useLexicalComposerContext();e=Xm(e);let n=Gm();return e?typeof t=="function"?t(n):t:null}pf.RichTextPlugin=function({contentEditable:t,placeholder:e,ErrorBoundary:n}){let[r]=$f.useLexicalComposerContext();return n=qm(r,n),Zm(r),xt.createElement(xt.Fragment,null,t,xt.createElement(Qm,{content:e}),n)};const e_=pf;var t_=e_,kf={},n_=Ge,ei=C,r_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ei.useLayoutEffect:ei.useEffect;kf.ContentEditable=function({ariaActiveDescendant:t,ariaAutoComplete:e,ariaControls:n,ariaDescribedBy:r,ariaExpanded:i,ariaLabel:o,ariaLabelledBy:s,ariaMultiline:l,ariaOwns:a,ariaRequired:d,autoCapitalize:g,className:c,id:u,role:f="textbox",spellCheck:h=!0,style:p,tabIndex:m,"data-testid":x}){let[_]=n_.useLexicalComposerContext(),[E,T]=ei.useState(!1),w=ei.useCallback(A=>{_.setRootElement(A)},[_]);return r_(()=>(T(_.isEditable()),_.registerEditableListener(A=>{T(A)})),[_]),ei.createElement("div",{"aria-activedescendant":E?t:void 0,"aria-autocomplete":E?e:"none","aria-controls":E?n:void 0,"aria-describedby":r,"aria-expanded":E&&f==="combobox"?!!i:void 0,"aria-label":o,"aria-labelledby":s,"aria-multiline":l,"aria-owns":E?a:void 0,"aria-required":d,autoCapitalize:g,className:c,contentEditable:E,"data-testid":x,id:u,ref:w,role:E?f:void 0,spellCheck:h,style:p,tabIndex:m})};const i_=kf;var o_=i_,_a={},ya={},s_=nt,oe=H;function l_(t,e,n,r,i){if(t===null||n.size===0&&r.size===0&&!i)return 0;var o=e._selection,s=t._selection;if(i)return 1;if(!(oe.$isRangeSelection(o)&&oe.$isRangeSelection(s)&&s.isCollapsed()&&o.isCollapsed()))return 0;i=e._nodeMap;let l=[];for(let a of n)n=i.get(a),n!==void 0&&l.push(n);for(let[a,d]of r)d&&(r=i.get(a),r===void 0||oe.$isRootNode(r)||l.push(r));return l.length===0?0:1<l.length?(r=e._nodeMap,e=r.get(o.anchor.key),s=r.get(s.anchor.key),e&&s&&!t._nodeMap.has(e.__key)&&oe.$isTextNode(e)&&e.__text.length===1&&o.anchor.offset===1?2:0):(e=l[0],t=t._nodeMap.get(e.__key),!oe.$isTextNode(t)||!oe.$isTextNode(e)||t.__mode!==e.__mode||(t=t.__text,e=e.__text,t===e)||(o=o.anchor,s=s.anchor,o.key!==s.key||o.type!=="text")?0:(o=o.offset,s=s.offset,t=e.length-t.length,t===1&&s===o-1?2:t===-1&&s===o+1?3:t===-1&&s===o?4:0))}function a_(t,e){let n=Date.now(),r=0;return(i,o,s,l,a,d)=>{let g=Date.now();if(d.has("historic"))return r=0,n=g,2;let c=l_(i,o,l,a,t.isComposing()),u=(()=>{var f=s===null||s.editor===t,h=d.has("history-push");if(!h&&f&&d.has("history-merge"))return 0;if(i===null)return 1;var p=o._selection;if(!(0<l.size||0<a.size))return p!==null?0:2;if(h===!1&&c!==0&&c===r&&g<n+e&&f)return 0;if(l.size===1){{h=Array.from(l)[0],f=i._nodeMap.get(h),h=o._nodeMap.get(h),p=i._selection;let m=o._selection,x=!1;oe.$isRangeSelection(p)&&oe.$isRangeSelection(m)&&(x=p.anchor.type==="element"&&p.focus.type==="element"&&m.anchor.type==="text"&&m.focus.type==="text"),f=!x&&oe.$isTextNode(f)&&oe.$isTextNode(h)?f.__type===h.__type&&f.__text===h.__text&&f.__mode===h.__mode&&f.__detail===h.__detail&&f.__style===h.__style&&f.__format===h.__format&&f.__parent===h.__parent:!1}if(f)return 0}return 1})();return n=g,r=c,u}}ya.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}};ya.registerHistory=function(t,e,n){let r=a_(t,n);n=({editorState:s,prevEditorState:l,dirtyLeaves:a,dirtyElements:d,tags:g})=>{const c=e.current,u=e.redoStack,f=e.undoStack,h=c===null?null:c.editorState;if(c===null||s!==h){if(a=r(l,s,c,a,d,g),a===1)u.length!==0&&(e.redoStack=[],t.dispatchCommand(oe.CAN_REDO_COMMAND,!1)),c!==null&&(f.push({...c,undoSelection:l.read(oe.$getSelection)}),t.dispatchCommand(oe.CAN_UNDO_COMMAND,!0));else if(a===2)return;e.current={editor:t,editorState:s}}};let i=s_.mergeRegister(t.registerCommand(oe.UNDO_COMMAND,()=>{let s=e.redoStack,l=e.undoStack;if(l.length!==0){let a=e.current,d=l.pop();a!==null&&(s.push(a),t.dispatchCommand(oe.CAN_REDO_COMMAND,!0)),l.length===0&&t.dispatchCommand(oe.CAN_UNDO_COMMAND,!1),e.current=d||null,d&&d.editor.setEditorState(d.editorState.clone(d.undoSelection),{tag:"historic"})}return!0},oe.COMMAND_PRIORITY_EDITOR),t.registerCommand(oe.REDO_COMMAND,()=>{let s=e.redoStack;var l=e.undoStack;if(s.length!==0){let a=e.current;a!==null&&(l.push(a),t.dispatchCommand(oe.CAN_UNDO_COMMAND,!0)),l=s.pop(),s.length===0&&t.dispatchCommand(oe.CAN_REDO_COMMAND,!1),e.current=l||null,l&&l.editor.setEditorState(l.editorState,{tag:"historic"})}return!0},oe.COMMAND_PRIORITY_EDITOR),t.registerCommand(oe.CLEAR_EDITOR_COMMAND,()=>(e.undoStack=[],e.redoStack=[],e.current=null,!1),oe.COMMAND_PRIORITY_EDITOR),t.registerCommand(oe.CLEAR_HISTORY_COMMAND,()=>(e.undoStack=[],e.redoStack=[],e.current=null,t.dispatchCommand(oe.CAN_REDO_COMMAND,!1),t.dispatchCommand(oe.CAN_UNDO_COMMAND,!1),!0),oe.COMMAND_PRIORITY_EDITOR),t.registerUpdateListener(n)),o=t.registerUpdateListener(n);return()=>{i(),o()}};const u_=ya;var c_=u_,d_=Ge,El=c_,Uu=C;function f_(t,e,n=1e3){let r=Uu.useMemo(()=>e||El.createEmptyHistoryState(),[e]);Uu.useEffect(()=>El.registerHistory(t,r,n),[n,t,r])}_a.createEmptyHistoryState=El.createEmptyHistoryState;_a.HistoryPlugin=function({externalHistoryState:t}){let[e]=d_.useLexicalComposerContext();return f_(e,t),null};const g_=_a;var h_=g_,Lf={},p_=Ge,ju=C,m_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ju.useLayoutEffect:ju.useEffect;Lf.OnChangePlugin=function({ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:e=!1,onChange:n}){let[r]=p_.useLexicalComposerContext();return m_(()=>{if(n)return r.registerUpdateListener(({editorState:i,dirtyElements:o,dirtyLeaves:s,prevEditorState:l,tags:a})=>{e&&o.size===0&&s.size===0||t&&a.has("history-merge")||l.isEmpty()||n(i,r,a)})},[r,t,e,n]),null};const __=Lf;var y_=__,ti=C;function xl(t,e){return xl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},xl(t,e)}function E_(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,xl(t,e)}function x_(t,e){return t===void 0&&(t=[]),e===void 0&&(e=[]),t.length!==e.length||t.some(function(n,r){return!Object.is(n,e[r])})}var zu={error:null},N_=function(t){function e(){for(var r,i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.state=zu,r.resetErrorBoundary=function(){for(var l,a=arguments.length,d=Array(a),g=0;g<a;g++)d[g]=arguments[g];r.props.onReset==null||(l=r.props).onReset.apply(l,d),r.reset()},r}E_(e,t),e.getDerivedStateFromError=function(r){return{error:r}};var n=e.prototype;return n.reset=function(){this.setState(zu)},n.componentDidCatch=function(r,i){var o,s;(o=(s=this.props).onError)==null||o.call(s,r,i)},n.componentDidUpdate=function(r,i){var o=this.props.resetKeys;if(this.state.error!==null&&i.error!==null&&x_(r.resetKeys,o)){var s,l;(s=(l=this.props).onResetKeysChange)==null||s.call(l,r.resetKeys,o),this.reset()}},n.render=function(){var r=this.state.error,i=this.props,o=i.fallbackRender,s=i.FallbackComponent;if(i=i.fallback,r!==null){if(r={error:r,resetErrorBoundary:this.resetErrorBoundary},ti.isValidElement(i))return i;if(typeof o=="function")return o(r);if(s)return ti.createElement(s,r);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},e}(ti.Component),C_=function({children:t,onError:e}){return ti.createElement(N_,{fallback:ti.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:e},t)};const v_=C_;var T_=v_,Mf={},cn={},bf=nt,Ht=H;let S_=new Set(["http:","https:","mailto:","sms:","tel:"]),es=class If extends Ht.ElementNode{static getType(){return"link"}static clone(e){return new If(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e,n={},r){super(r);let{target:i=null,rel:o=null,title:s=null}=n;this.__url=e,this.__target=i,this.__rel=o,this.__title=s}createDOM(e){let n=document.createElement("a");return n.href=this.sanitizeUrl(this.__url),this.__target!==null&&(n.target=this.__target),this.__rel!==null&&(n.rel=this.__rel),this.__title!==null&&(n.title=this.__title),bf.addClassNamesToElement(n,e.theme.link),n}updateDOM(e,n){let r=this.__url,i=this.__target,o=this.__rel,s=this.__title;return r!==e.__url&&(n.href=r),i!==e.__target&&(i?n.target=i:n.removeAttribute("target")),o!==e.__rel&&(o?n.rel=o:n.removeAttribute("rel")),s!==e.__title&&(s?n.title=s:n.removeAttribute("title")),!1}static importDOM(){return{a:()=>({conversion:A_,priority:1})}}static importJSON(e){let n=_i(e.url,{rel:e.rel,target:e.target,title:e.title});return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}sanitizeUrl(e){try{let n=new URL(e);if(!S_.has(n.protocol))return"about:blank"}catch{return"https://"}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(e){this.getWritable().__url=e}getTarget(){return this.getLatest().__target}setTarget(e){this.getWritable().__target=e}getRel(){return this.getLatest().__rel}setRel(e){this.getWritable().__rel=e}getTitle(){return this.getLatest().__title}setTitle(e){this.getWritable().__title=e}insertNewAfter(e,n=!0){return e=this.getParentOrThrow().insertNewAfter(e,n),Ht.$isElementNode(e)?(n=_i(this.__url,{rel:this.__rel,target:this.__target,title:this.__title}),e.append(n),n):null}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,n){if(!Ht.$isRangeSelection(n))return!1;e=n.anchor.getNode();let r=n.focus.getNode();return this.isParentOf(e)&&this.isParentOf(r)&&0<n.getTextContent().length}};function A_(t){let e=null;if(bf.isHTMLAnchorElement(t)){let n=t.textContent;n!==null&&n!==""&&(e=_i(t.getAttribute("href")||"",{rel:t.getAttribute("rel"),target:t.getAttribute("target"),title:t.getAttribute("title")}))}return{node:e}}function _i(t,e){return Ht.$applyNodeReplacement(new es(t,e))}function bn(t){return t instanceof es}let Ea=class Pf extends es{static getType(){return"autolink"}static clone(e){return new Pf(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}static importJSON(e){let n=Nl(e.url,{rel:e.rel,target:e.target,title:e.title});return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),type:"autolink",version:1}}insertNewAfter(e,n=!0){return e=this.getParentOrThrow().insertNewAfter(e,n),Ht.$isElementNode(e)?(n=Nl(this.__url,{rel:this._rel,target:this.__target,title:this.__title}),e.append(n),n):null}};function Nl(t,e){return Ht.$applyNodeReplacement(new Ea(t,e))}let w_=Ht.createCommand("TOGGLE_LINK_COMMAND");function R_(t,e){for(;t!==null&&(t=t.getParent())!==null&&!e(t););return t}cn.$createAutoLinkNode=Nl;cn.$createLinkNode=_i;cn.$isAutoLinkNode=function(t){return t instanceof Ea};cn.$isLinkNode=bn;cn.AutoLinkNode=Ea;cn.LinkNode=es;cn.TOGGLE_LINK_COMMAND=w_;cn.toggleLink=function(t,e={}){let{target:n,title:r}=e,i=e.rel===void 0?"noopener":e.rel;if(e=Ht.$getSelection(),Ht.$isRangeSelection(e))if(e=e.extract(),t===null)e.forEach(s=>{if(s=s.getParent(),bn(s)){let l=s.getChildren();for(let a=0;a<l.length;a++)s.insertBefore(l[a]);s.remove()}});else{if(e.length===1){var o=e[0];if(o=bn(o)?o:R_(o,bn),o!==null){o.setURL(t),n!==void 0&&o.setTarget(n),i!==null&&o.setRel(i),r!==void 0&&o.setTitle(r);return}}let s=null,l=null;e.forEach(a=>{var d=a.getParent();if(d!==l&&d!==null&&(!Ht.$isElementNode(a)||a.isInline()))if(bn(d))l=d,d.setURL(t),n!==void 0&&d.setTarget(n),i!==null&&l.setRel(i),r!==void 0&&l.setTitle(r);else if(d.is(s)||(s=d,l=_i(t,{rel:i,target:n}),bn(d)?a.getPreviousSibling()===null?d.insertBefore(l):d.insertAfter(l):a.insertBefore(l)),bn(a)){if(!a.is(l)){if(l!==null){d=a.getChildren();for(let g=0;g<d.length;g++)l.append(d[g])}a.remove()}}else l!==null&&l.append(a)})}};const O_=cn;var Ct=O_,ar=Ct,$_=Ge,D_=nt,ur=H,k_=C;Mf.LinkPlugin=function({validateUrl:t}){let[e]=$_.useLexicalComposerContext();return k_.useEffect(()=>{if(!e.hasNodes([ar.LinkNode]))throw Error("LinkPlugin: LinkNode not registered on editor");return D_.mergeRegister(e.registerCommand(ar.TOGGLE_LINK_COMMAND,n=>{if(n===null)return ar.toggleLink(n),!0;if(typeof n=="string")return t===void 0||t(n)?(ar.toggleLink(n),!0):!1;let{url:r,target:i,rel:o,title:s}=n;return ar.toggleLink(r,{rel:o,target:i,title:s}),!0},ur.COMMAND_PRIORITY_LOW),t!==void 0?e.registerCommand(ur.PASTE_COMMAND,n=>{let r=ur.$getSelection();if(!ur.$isRangeSelection(r)||r.isCollapsed()||!(n instanceof ClipboardEvent)||n.clipboardData==null)return!1;let i=n.clipboardData.getData("text");return t(i)?r.getNodes().some(o=>ur.$isElementNode(o))?!1:(e.dispatchCommand(ar.TOGGLE_LINK_COMMAND,i),n.preventDefault(),!0):!1},ur.COMMAND_PRIORITY_LOW):()=>{})},[e,t]),null};const L_=Mf;var M_=L_,ne={},v=H,he=nt;let ce={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1},xa=class Ff extends v.DEPRECATED_GridCellNode{static getType(){return"tablecell"}static clone(e){let n=new Ff(e.__headerState,e.__colSpan,e.__width,e.__key);return n.__rowSpan=e.__rowSpan,n.__backgroundColor=e.__backgroundColor,n}static importDOM(){return{td:()=>({conversion:Hu,priority:0}),th:()=>({conversion:Hu,priority:0})}}static importJSON(e){let n=vt(e.headerState,e.colSpan,e.width||void 0);return n.__rowSpan=e.rowSpan,n.__backgroundColor=e.backgroundColor||null,n}constructor(e=ce.NO_STATUS,n=1,r,i){super(n,i),this.__headerState=e,this.__width=r,this.__backgroundColor=null}createDOM(e){let n=document.createElement(this.getTag());return this.__width&&(n.style.width=`${this.__width}px`),1<this.__colSpan&&(n.colSpan=this.__colSpan),1<this.__rowSpan&&(n.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(n.style.backgroundColor=this.__backgroundColor),he.addClassNamesToElement(n,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),n}exportDOM(e){if({element:e}=super.exportDOM(e),e){var n=this.getParentOrThrow().getChildrenSize();e.style.border="1px solid black",1<this.__colSpan&&(e.colSpan=this.__colSpan),1<this.__rowSpan&&(e.rowSpan=this.__rowSpan),e.style.width=`${this.getWidth()||Math.max(90,700/n)}px`,e.style.verticalAlign="top",e.style.textAlign="start",n=this.getBackgroundColor(),n!==null?e.style.backgroundColor=n:this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return{element:e}}exportJSON(){return{...super.exportJSON(),backgroundColor:this.getBackgroundColor(),headerState:this.__headerState,type:"tablecell",width:this.getWidth()}}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e){return this.getWritable().__headerState=e,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){return this.getWritable().__width=e,this.__width}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){this.getWritable().__backgroundColor=e}toggleHeaderStyle(e){let n=this.getWritable();return n.__headerState=(n.__headerState&e)===e?n.__headerState-e:n.__headerState+e,n}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==ce.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}};function Hu(t){var e=t.nodeName.toLowerCase();return e=vt(e==="th"?ce.ROW:ce.NO_STATUS),e.__colSpan=t.colSpan,e.__rowSpan=t.rowSpan,t=t.style.backgroundColor,t!==""&&(e.__backgroundColor=t),{forChild:(n,r)=>Z(r)&&!v.$isElementNode(n)?(r=v.$createParagraphNode(),v.$isLineBreakNode(n)&&n.getTextContent()===`
`?null:(r.append(n),r)):n,node:e}}function vt(t,e=1,n){return v.$applyNodeReplacement(new xa(t,e,n))}function Z(t){return t instanceof xa}let Na=class Bf extends v.DEPRECATED_GridRowNode{static getType(){return"tablerow"}static clone(e){return new Bf(e.__height,e.__key)}static importDOM(){return{tr:()=>({conversion:b_,priority:0})}}static importJSON(e){return Jn(e.height)}constructor(e,n){super(n),this.__height=e}exportJSON(){return{...super.exportJSON(),type:"tablerow",version:1}}createDOM(e){let n=document.createElement("tr");return this.__height&&(n.style.height=`${this.__height}px`),he.addClassNamesToElement(n,e.theme.tableRow),n}isShadowRoot(){return!0}setHeight(e){return this.getWritable().__height=e,this.__height}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}};function b_(){return{node:Jn()}}function Jn(t){return v.$applyNodeReplacement(new Na(t))}function Xn(t){return t instanceof Na}function Ue(t){throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?code=${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let I_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uf=class{constructor(e,n){this.isHighlightingCells=!1,this.focusY=this.focusX=this.anchorY=this.anchorX=-1,this.listenersToRemove=new Set,this.tableNodeKey=n,this.editor=e,this.grid={cells:[],columns:0,rows:0},this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.trackTableGrid()}getGrid(){return this.grid}removeListeners(){Array.from(this.listenersToRemove).forEach(e=>e())}trackTableGrid(){let e=new MutationObserver(n=>{this.editor.update(()=>{var r=!1;for(let i=0;i<n.length;i++){const o=n[i].target.nodeName;if(o==="TABLE"||o==="TR"){r=!0;break}}if(r){if(r=this.editor.getElementByKey(this.tableNodeKey),!r)throw Error("Expected to find TableElement in DOM");this.grid=Qi(r)}})});this.editor.update(()=>{let n=this.editor.getElementByKey(this.tableNodeKey);if(!n)throw Error("Expected to find TableElement in DOM");this.grid=Qi(n),e.observe(n,{childList:!0,subtree:!0})})}clearHighlight(){let e=this.editor;this.isHighlightingCells=!1,this.focusY=this.focusX=this.anchorY=this.anchorX=-1,this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.enableHighlightStyle(),e.update(()=>{var n=v.$getNodeByKey(this.tableNodeKey);if(!vr(n))throw Error("Expected TableNode.");if(n=e.getElementByKey(this.tableNodeKey),!n)throw Error("Expected to find TableElement in DOM");n=Qi(n),Bi(e,n,null),v.$setSelection(null),e.dispatchCommand(v.SELECTION_CHANGE_COMMAND,void 0)})}enableHighlightStyle(){let e=this.editor;e.update(()=>{let n=e.getElementByKey(this.tableNodeKey);if(!n)throw Error("Expected to find TableElement in DOM");n.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1})}disableHighlightStyle(){let e=this.editor;e.update(()=>{let n=e.getElementByKey(this.tableNodeKey);if(!n)throw Error("Expected to find TableElement in DOM");n.classList.add("disable-selection"),this.hasHijackedSelectionStyles=!0})}updateTableGridSelection(e){if(e!=null&&e.gridKey===this.tableNodeKey){let n=this.editor;this.gridSelection=e,this.isHighlightingCells=!0,this.disableHighlightStyle(),Bi(n,this.grid,this.gridSelection)}else e==null&&this.clearHighlight()}setFocusCellForSelection(e,n=!1){let r=this.editor;r.update(()=>{var i=v.$getNodeByKey(this.tableNodeKey);if(!vr(i))throw Error("Expected TableNode.");if(!r.getElementByKey(this.tableNodeKey))throw Error("Expected to find TableElement in DOM");i=e.x;let o=e.y;if(this.focusCell=e,this.anchorCell!==null){let s=I_?(r._window||window).getSelection():null;s&&s.setBaseAndExtent(this.anchorCell.elem,0,this.focusCell.elem,0)}if(!this.isHighlightingCells&&(this.anchorX!==i||this.anchorY!==o||n))this.isHighlightingCells=!0,this.disableHighlightStyle();else if(i===this.focusX&&o===this.focusY)return;this.focusX=i,this.focusY=o,this.isHighlightingCells&&(i=v.$getNearestNodeFromDOMNode(e.elem),this.gridSelection!=null&&this.anchorCellNodeKey!=null&&Z(i)&&(i=i.getKey(),this.gridSelection=this.gridSelection.clone()||v.DEPRECATED_$createGridSelection(),this.focusCellNodeKey=i,this.gridSelection.set(this.tableNodeKey,this.anchorCellNodeKey,this.focusCellNodeKey),v.$setSelection(this.gridSelection),r.dispatchCommand(v.SELECTION_CHANGE_COMMAND,void 0),Bi(r,this.grid,this.gridSelection)))})}setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y,this.editor.update(()=>{var n=v.$getNearestNodeFromDOMNode(e.elem);Z(n)&&(n=n.getKey(),this.gridSelection=v.DEPRECATED_$createGridSelection(),this.anchorCellNodeKey=n)})}formatCells(e){this.editor.update(()=>{let n=v.$getSelection();v.DEPRECATED_$isGridSelection(n)||Ue(11);let r=v.$createRangeSelection(),i=r.anchor,o=r.focus;n.getNodes().forEach(s=>{Z(s)&&s.getTextContentSize()!==0&&(i.set(s.getKey(),0,"element"),o.set(s.getKey(),s.getChildrenSize(),"element"),r.formatText(e))}),v.$setSelection(n),this.editor.dispatchCommand(v.SELECTION_CHANGE_COMMAND,void 0)})}clearText(){let e=this.editor;e.update(()=>{let n=v.$getNodeByKey(this.tableNodeKey);if(!vr(n))throw Error("Expected TableNode.");var r=v.$getSelection();v.DEPRECATED_$isGridSelection(r)||Ue(11),r=r.getNodes().filter(Z),r.length===this.grid.columns*this.grid.rows?(n.selectPrevious(),n.remove(),v.$getRoot().selectStart()):(r.forEach(i=>{if(v.$isElementNode(i)){let o=v.$createParagraphNode(),s=v.$createTextNode();o.append(s),i.append(o),i.getChildren().forEach(l=>{l!==o&&l.remove()})}}),Bi(e,this.grid,null),v.$setSelection(null),e.dispatchCommand(v.SELECTION_CHANGE_COMMAND,void 0))})}};function Zi(t){for(;t!=null;){let e=t.nodeName;if(e==="TD"||e==="TH"){if(t=t._cell,t===void 0)break;return t}t=t.parentNode}return null}function Qi(t){let e=[],n={cells:e,columns:0,rows:0};var r=t.firstChild;let i=t=0;for(e.length=0;r!=null;){var o=r.nodeName;if(o==="TD"||o==="TH")o=r,o={elem:o,hasBackgroundColor:o.style.backgroundColor!=="",highlighted:!1,x:t,y:i},r._cell=o,e[i]===void 0&&(e[i]=[]),e[i][t]=o;else if(o=r.firstChild,o!=null){r=o;continue}if(o=r.nextSibling,o!=null)t++,r=o;else if(o=r.parentNode,o!=null){if(r=o.nextSibling,r==null)break;i++,t=0}}return n.columns=t+1,n.rows=i+1,n}function Bi(t,e,n){let r=[],i=new Set(n?n.getNodes():[]);return Ca(e,(o,s)=>{let l=o.elem;i.has(s)?(o.highlighted=!0,jf(t,o),r.push(o)):(o.highlighted=!1,zf(t,o),l.getAttribute("style")||l.removeAttribute("style"))}),r}function Ca(t,e){({cells:t}=t);for(let n=0;n<t.length;n++){let r=t[n];for(let i=0;i<r.length;i++){let o=r[i],s=v.$getNearestNodeFromDOMNode(o.elem);s!==null&&e(o,s,{x:i,y:n})}}}function Ku(t,e){e.disableHighlightStyle(),Ca(e.grid,n=>{n.highlighted=!0,jf(t,n)})}function P_(t,e){e.enableHighlightStyle(),Ca(e.grid,n=>{let r=n.elem;n.highlighted=!1,zf(t,n),r.getAttribute("style")||r.removeAttribute("style")})}let Ur=(t,e,n,r,i)=>{const o=i==="forward";switch(i){case"backward":case"forward":return n!==(o?t.grid.columns-1:0)?Ui(e.getCellNodeFromCordsOrThrow(n+(o?1:-1),r,t.grid)):r!==(o?t.grid.rows-1:0)?Ui(e.getCellNodeFromCordsOrThrow(o?0:t.grid.columns-1,r+(o?1:-1),t.grid)):o?e.selectNext():e.selectPrevious(),!0;case"up":return r!==0?Ui(e.getCellNodeFromCordsOrThrow(n,r-1,t.grid)):e.selectPrevious(),!0;case"down":return r!==t.grid.rows-1?Ui(e.getCellNodeFromCordsOrThrow(n,r+1,t.grid)):e.selectNext(),!0;default:return!1}},fn=(t,e,n,r,i)=>{const o=i==="forward";switch(i){case"backward":case"forward":return n!==(o?t.grid.columns-1:0)&&t.setFocusCellForSelection(e.getCellFromCordsOrThrow(n+(o?1:-1),r,t.grid)),!0;case"up":return r!==0?(t.setFocusCellForSelection(e.getCellFromCordsOrThrow(n,r-1,t.grid)),!0):!1;case"down":return r!==t.grid.rows-1?(t.setFocusCellForSelection(e.getCellFromCordsOrThrow(n,r+1,t.grid)),!0):!1;default:return!1}};function en(t,e){if(v.$isRangeSelection(t)||v.DEPRECATED_$isGridSelection(t)){let n=e.isParentOf(t.anchor.getNode());return t=e.isParentOf(t.focus.getNode()),n&&t}return!1}function Ui(t){let e=t.getChildren().find(n=>v.$isParagraphNode(n));v.$isParagraphNode(e)?e.selectEnd():t.selectEnd()}function jf(t,e){if(t=e.elem,e=v.$getNearestNodeFromDOMNode(t),!Z(e))throw Error("Expected to find LexicalNode from Table Cell DOMNode");e.getBackgroundColor()===null?t.style.setProperty("background-color","rgb(172,206,247)"):t.style.setProperty("background-image","linear-gradient(to right, rgba(172,206,247,0.85), rgba(172,206,247,0.85))"),t.style.setProperty("caret-color","transparent")}function zf(t,e){if(t=e.elem,e=v.$getNearestNodeFromDOMNode(t),!Z(e))throw Error("Expected to find LexicalNode from Table Cell DOMNode");e.getBackgroundColor()===null&&t.style.removeProperty("background-color"),t.style.removeProperty("background-image"),t.style.removeProperty("caret-color")}let va=class Hf extends v.DEPRECATED_GridNode{static getType(){return"table"}static clone(e){return new Hf(e.__key)}static importDOM(){return{table:()=>({conversion:F_,priority:1})}}static importJSON(){return ts()}constructor(e){super(e)}exportJSON(){return{...super.exportJSON(),type:"table",version:1}}createDOM(e){let n=document.createElement("table");return he.addClassNamesToElement(n,e.theme.table),n}updateDOM(){return!1}exportDOM(e){return{...super.exportDOM(e),after:n=>{if(n){let r=n.cloneNode(),i=document.createElement("colgroup"),o=document.createElement("tbody");if(o.append(...n.children),n=this.getFirstChildOrThrow(),!Xn(n))throw Error("Expected to find row node.");n=n.getChildrenSize();for(let s=0;s<n;s++){let l=document.createElement("col");i.append(l)}return r.replaceChildren(i,o),r}}}}canExtractContents(){return!1}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,n){let{rows:r,cells:i}=n;for(n=0;n<r;n++){var o=i[n];if(o==null)throw Error(`Row not found at y:${n}`);if(o=o.findIndex(({elem:s})=>v.$getNearestNodeFromDOMNode(s)===e),o!==-1)return{x:o,y:n}}throw Error("Cell not found in table.")}getCellFromCords(e,n,r){return{cells:r}=r,n=r[n],n==null?null:(e=n[e],e??null)}getCellFromCordsOrThrow(e,n,r){if(e=this.getCellFromCords(e,n,r),!e)throw Error("Cell not found at cords.");return e}getCellNodeFromCords(e,n,r){return e=this.getCellFromCords(e,n,r),e==null?null:(e=v.$getNearestNodeFromDOMNode(e.elem),Z(e)?e:null)}getCellNodeFromCordsOrThrow(e,n,r){if(e=this.getCellNodeFromCords(e,n,r),!e)throw Error("Node at cords not TableCellNode.");return e}canSelectBefore(){return!0}canIndent(){return!1}};function F_(){return{node:ts()}}function ts(){return v.$applyNodeReplacement(new va)}function vr(t){return t instanceof va}function Ta(t){if(t=he.$findMatchingParent(t,e=>Xn(e)),Xn(t))return t;throw Error("Expected table cell to be inside of table row.")}function Sa(t){if(t=he.$findMatchingParent(t,e=>vr(e)),vr(t))return t;throw Error("Expected table cell to be inside of table.")}function Kf(t,e){let n=Sa(t),{x:r,y:i}=n.getCordsFromCellNode(t,e);return{above:n.getCellNodeFromCords(r,i-1,e),below:n.getCellNodeFromCords(r,i+1,e),left:n.getCellNodeFromCords(r-1,i,e),right:n.getCellNodeFromCords(r+1,i,e)}}function yi(t){t=t.getFirstDescendant(),t===null&&Ue(124),t.getParentOrThrow().selectStart()}function Aa(t,e){let n=t.getFirstChild();n!==null?n.insertBefore(e):t.append(e)}let B_=v.createCommand("INSERT_TABLE_COMMAND");ne.$createTableCellNode=vt;ne.$createTableNode=ts;ne.$createTableNodeWithDimensions=function(t,e,n=!0){let r=ts();for(let o=0;o<t;o++){let s=Jn();for(let l=0;l<e;l++){var i=ce.NO_STATUS;typeof n=="object"?(o===0&&n.rows&&(i|=ce.ROW),l===0&&n.columns&&(i|=ce.COLUMN)):n&&(o===0&&(i|=ce.ROW),l===0&&(i|=ce.COLUMN)),i=vt(i);let a=v.$createParagraphNode();a.append(v.$createTextNode()),i.append(a),s.append(i)}r.append(s)}return r};ne.$createTableRowNode=Jn;ne.$deleteTableColumn=function(t,e){let n=t.getChildren();for(let i=0;i<n.length;i++){var r=n[i];if(Xn(r)){if(r=r.getChildren(),e>=r.length||0>e)throw Error("Table column target index out of range");r[e].remove()}}return t};ne.$deleteTableColumn__EXPERIMENTAL=function(){var t=v.$getSelection();v.$isRangeSelection(t)||v.DEPRECATED_$isGridSelection(t)||Ue(118);var e=t.anchor.getNode();t=t.focus.getNode();let[n,,r]=v.DEPRECATED_$getNodeTriplet(e);[e]=v.DEPRECATED_$getNodeTriplet(t);let[i,o,s]=v.DEPRECATED_$computeGridMap(r,n,e);var{startColumn:l}=o;let{startRow:a,startColumn:d}=s;t=Math.min(l,d),l=Math.max(l+n.__colSpan-1,d+e.__colSpan-1);let g=l-t+1;if(i[0].length===l-t+1)r.selectPrevious(),r.remove();else{var c=i.length;for(let u=0;u<c;u++)for(let f=t;f<=l;f++){let{cell:h,startColumn:p}=i[u][f];p<t?f===t&&h.setColSpan(h.__colSpan-Math.min(g,h.__colSpan-(t-p))):p+h.__colSpan-1>l?f===l&&h.setColSpan(h.__colSpan-(l-p+1)):h.remove()}t=i[a],e=t[d+e.__colSpan],e!==void 0?({cell:e}=e,yi(e)):({cell:e}=t[d-1],yi(e))}};ne.$deleteTableRow__EXPERIMENTAL=function(){var t=v.$getSelection();v.$isRangeSelection(t)||v.DEPRECATED_$isGridSelection(t)||Ue(118);var e=t.anchor.getNode();t=t.focus.getNode();let[n,,r]=v.DEPRECATED_$getNodeTriplet(e);[t]=v.DEPRECATED_$getNodeTriplet(t);let[i,o,s]=v.DEPRECATED_$computeGridMap(r,n,t);({startRow:e}=o);var{startRow:l}=s;if(t=l+t.__rowSpan-1,i.length===t-e+1)r.remove();else{l=i[0].length;var a=i[t+1],d=r.getChildAtIndex(t+1);for(let c=t;c>=e;c--){for(var g=l-1;0<=g;g--){let{cell:u,startRow:f,startColumn:h}=i[c][g];if(h===g&&(c===e&&f<e&&u.setRowSpan(u.__rowSpan-(f-e)),f>=e&&f+u.__rowSpan-1>t))if(u.setRowSpan(u.__rowSpan-(t-f+1)),d===null&&Ue(122),g===0)Aa(d,u);else{let{cell:p}=a[g-1];p.insertAfter(u)}}g=r.getChildAtIndex(c),v.DEPRECATED_$isGridRowNode(g)||Ue(123),g.remove()}a!==void 0?({cell:e}=a[0],yi(e)):({cell:e}=i[e-1][0],yi(e))}};ne.$getElementGridForTableNode=function(t,e){if(t=t.getElementByKey(e.getKey()),t==null)throw Error("Table Element Not Found");return Qi(t)};ne.$getTableCellNodeFromLexicalNode=function(t){return t=he.$findMatchingParent(t,e=>Z(e)),Z(t)?t:null};ne.$getTableColumnIndexFromTableCellNode=function(t){return Ta(t).getChildren().findIndex(e=>e.is(t))};ne.$getTableNodeFromLexicalNodeOrThrow=Sa;ne.$getTableRowIndexFromTableCellNode=function(t){let e=Ta(t);return Sa(e).getChildren().findIndex(n=>n.is(e))};ne.$getTableRowNodeFromTableCellNodeOrThrow=Ta;ne.$insertTableColumn=function(t,e,n=!0,r,i){let o=t.getChildren();for(let a=0;a<o.length;a++){let d=o[a];if(Xn(d))for(let g=0;g<r;g++){var s=d.getChildren();if(e>=s.length||0>e)throw Error("Table column target index out of range");s=s[e],Z(s)||Ue(12);let{left:c,right:u}=Kf(s,i);var l=ce.NO_STATUS;(c&&c.hasHeaderState(ce.ROW)||u&&u.hasHeaderState(ce.ROW))&&(l|=ce.ROW),l=vt(l),l.append(v.$createParagraphNode()),n?s.insertAfter(l):s.insertBefore(l)}}return t};ne.$insertTableColumn__EXPERIMENTAL=function(t=!0){function e(){let g=vt(ce.NO_STATUS).append(v.$createParagraphNode());return a===null&&(a=g),g}var n=v.$getSelection();v.$isRangeSelection(n)||v.DEPRECATED_$isGridSelection(n)||Ue(118),n=n.focus.getNode();let[r,,i]=v.DEPRECATED_$getNodeTriplet(n),[o,s]=v.DEPRECATED_$computeGridMap(i,r,r);n=o.length;var{startColumn:l}=s;t=t?l+r.__colSpan-1:l-1,l=i.getFirstChild(),v.DEPRECATED_$isGridRowNode(l)||Ue(120);let a=null;var d=l;e:for(l=0;l<n;l++){l!==0&&(d=d.getNextSibling(),v.DEPRECATED_$isGridRowNode(d)||Ue(121));let g=o[l];if(0>t){Aa(d,e());continue}let{cell:c,startColumn:u,startRow:f}=g[t];if(u+c.__colSpan-1<=t){let h=c,p=f,m=t;for(;p!==l&&1<h.__rowSpan;)if(m-=c.__colSpan,0<=m){let{cell:x,startRow:_}=g[m];h=x,p=_}else{d.append(e());continue e}h.insertAfter(e())}else c.setColSpan(c.__colSpan+1)}a!==null&&yi(a)};ne.$insertTableRow=function(t,e,n=!0,r,i){var o=t.getChildren();if(e>=o.length||0>e)throw Error("Table row target index out of range");if(e=o[e],Xn(e))for(o=0;o<r;o++){let l=e.getChildren(),a=l.length,d=Jn();for(let g=0;g<a;g++){var s=l[g];Z(s)||Ue(12);let{above:c,below:u}=Kf(s,i);s=ce.NO_STATUS;let f=c&&c.getWidth()||u&&u.getWidth()||void 0;(c&&c.hasHeaderState(ce.COLUMN)||u&&u.hasHeaderState(ce.COLUMN))&&(s|=ce.COLUMN),s=vt(s,1,f),s.append(v.$createParagraphNode()),d.append(s)}n?e.insertAfter(d):e.insertBefore(d)}else throw Error("Row before insertion index does not exist.");return t};ne.$insertTableRow__EXPERIMENTAL=function(t=!0){var e=v.$getSelection();v.$isRangeSelection(e)||v.DEPRECATED_$isGridSelection(e)||Ue(118),e=e.focus.getNode();let[n,,r]=v.DEPRECATED_$getNodeTriplet(e),[i,o]=v.DEPRECATED_$computeGridMap(r,n,n);e=i[0].length;var{startRow:s}=o;if(t){t=s+n.__rowSpan-1;var l=i[t];s=Jn();for(var a=0;a<e;a++){let{cell:d,startRow:g}=l[a];g+d.__rowSpan-1<=t?s.append(vt(ce.NO_STATUS)):d.setRowSpan(d.__rowSpan+1)}e=r.getChildAtIndex(t),v.DEPRECATED_$isGridRowNode(e)||Ue(119),e.insertAfter(s)}else{for(l=i[s],t=Jn(),a=0;a<e;a++){let{cell:d,startRow:g}=l[a];g===s?t.append(vt(ce.NO_STATUS)):d.setRowSpan(d.__rowSpan+1)}e=r.getChildAtIndex(s),v.DEPRECATED_$isGridRowNode(e)||Ue(119),e.insertBefore(t)}};ne.$isTableCellNode=Z;ne.$isTableNode=vr;ne.$isTableRowNode=Xn;ne.$removeTableRowAtIndex=function(t,e){let n=t.getChildren();if(e>=n.length||0>e)throw Error("Expected table cell to be inside of table row.");return n[e].remove(),t};ne.$unmergeCell=function(){var t=v.$getSelection();v.$isRangeSelection(t)||v.DEPRECATED_$isGridSelection(t)||Ue(118),t=t.anchor.getNode();let[e,n,r]=v.DEPRECATED_$getNodeTriplet(t);t=e.__colSpan;let i=e.__rowSpan;if(1<t){for(var o=1;o<t;o++)e.insertAfter(vt(ce.NO_STATUS));e.setColSpan(1)}if(1<i){let[a,d]=v.DEPRECATED_$computeGridMap(r,e,e),{startColumn:g,startRow:c}=d;for(o=1;o<i;o++){let u=c+o,f=a[u];var s=n.getNextSibling();v.DEPRECATED_$isGridRowNode(s)||Ue(125);var l=null;for(let h=0;h<g;h++){let p=f[h],m=p.cell;p.startRow===u&&(l=m),1<m.__colSpan&&(h+=m.__colSpan-1)}if(l===null)for(l=0;l<t;l++)Aa(s,vt(ce.NO_STATUS));else for(s=0;s<t;s++)l.insertAfter(vt(ce.NO_STATUS))}e.setRowSpan(1)}};ne.INSERT_TABLE_COMMAND=B_;ne.TableCellHeaderStates=ce;ne.TableCellNode=xa;ne.TableNode=va;ne.TableRowNode=Na;ne.TableSelection=Uf;ne.applyTableHandlers=function(t,e,n){let r=n.getRootElement();if(r===null)throw Error("No root element.");let i=new Uf(n,t.getKey());e.__lexicalTableSelection=i;let o=!1,s=!1;e.addEventListener("dblclick",c=>{let u=Zi(c.target);u!==null&&(c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),i.setAnchorCellForSelection(u),i.setFocusCellForSelection(u,!0),o=!1)}),e.addEventListener("mousedown",c=>{setTimeout(()=>{if(c.button===0){var u=Zi(c.target);u!==null&&(c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation(),i.setAnchorCellForSelection(u))}},0)}),e.addEventListener("mousemove",c=>{if(s&&(c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation()),o){let u=Zi(c.target);if(u!==null){let f=u.x,h=u.y;o&&(i.anchorX!==f||i.anchorY!==h||i.isHighlightingCells)&&(c.preventDefault(),i.setFocusCellForSelection(u))}}}),e.addEventListener("mouseleave",()=>{});let l=c=>{c.button===0&&n.update(()=>{var u=v.$getSelection();const f=c.target;if(f instanceof Node){if(v.DEPRECATED_$isGridSelection(u)&&u.gridKey===i.tableNodeKey&&r.contains(f))return i.clearHighlight();u=v.$getNearestNodeFromDOMNode(f),u!==null&&he.$findMatchingParent(u,v.DEPRECATED_$isGridNode)&&(o=!0)}})};window.addEventListener("mousedown",l),i.listenersToRemove.add(()=>window.removeEventListener("mousedown",l));let a=c=>{var u;(u=o)&&(u=c.target,u=u!==null&&u.nodeName==="SPAN",u=!u),u&&(c.preventDefault(),c.stopPropagation()),o=!1};window.addEventListener("mouseup",a),i.listenersToRemove.add(()=>window.removeEventListener("mouseup",a)),e.addEventListener("mouseup",a),i.listenersToRemove.add(()=>e.removeEventListener("mouseup",a)),i.listenersToRemove.add(n.registerCommand(v.KEY_ARROW_DOWN_COMMAND,c=>{var u=v.$getSelection();if(!en(u,t))return!1;if(v.$isRangeSelection(u)){if(u.isCollapsed()){var f=he.$findMatchingParent(u.anchor.getNode(),p=>Z(p));if(!Z(f))return!1;var h=t.getCordsFromCellNode(f,i.grid);if(u=he.$findMatchingParent(u.anchor.getNode(),p=>v.$isElementNode(p)),u==null)throw Error("Expected BlockNode Parent");if((f=f.getLastChild())&&u.isParentOf(f)||u===f||c.shiftKey)return c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),c.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(h.x,h.y,i.grid)),fn(i,t,h.x,h.y,"down")):Ur(i,t,h.x,h.y,"down")}}else if(v.DEPRECATED_$isGridSelection(u)&&c.shiftKey)return h=u.focus.getNode(),Z(h)?(h=t.getCordsFromCellNode(h,i.grid),c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),fn(i,t,h.x,h.y,"down")):!1;return!1},v.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(v.KEY_ARROW_UP_COMMAND,c=>{var u=v.$getSelection();if(!en(u,t))return!1;if(v.$isRangeSelection(u)){if(u.isCollapsed()){var f=he.$findMatchingParent(u.anchor.getNode(),p=>Z(p));if(!Z(f))return!1;var h=t.getCordsFromCellNode(f,i.grid);if(u=he.$findMatchingParent(u.anchor.getNode(),p=>v.$isElementNode(p)),u==null)throw Error("Expected BlockNode Parent");if((f=f.getLastChild())&&u.isParentOf(f)||u===f||c.shiftKey)return c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),c.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(h.x,h.y,i.grid)),fn(i,t,h.x,h.y,"up")):Ur(i,t,h.x,h.y,"up")}}else if(v.DEPRECATED_$isGridSelection(u)&&c.shiftKey)return h=u.focus.getNode(),Z(h)?(h=t.getCordsFromCellNode(h,i.grid),c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),fn(i,t,h.x,h.y,"up")):!1;return!1},v.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(v.KEY_ARROW_LEFT_COMMAND,c=>{var u=v.$getSelection();if(!en(u,t))return!1;if(v.$isRangeSelection(u)){if(u.isCollapsed()){var f=he.$findMatchingParent(u.anchor.getNode(),h=>Z(h));if(!Z(f))return!1;if(f=t.getCordsFromCellNode(f,i.grid),he.$findMatchingParent(u.anchor.getNode(),h=>v.$isElementNode(h))==null)throw Error("Expected BlockNode Parent");if(u.anchor.offset===0||c.shiftKey)return c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),c.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(f.x,f.y,i.grid)),fn(i,t,f.x,f.y,"backward")):Ur(i,t,f.x,f.y,"backward")}}else if(v.DEPRECATED_$isGridSelection(u)&&c.shiftKey)return u=u.focus.getNode(),Z(u)?(u=t.getCordsFromCellNode(u,i.grid),c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),fn(i,t,u.x,u.y,"backward")):!1;return!1},v.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(v.KEY_ARROW_RIGHT_COMMAND,c=>{var u=v.$getSelection();if(!en(u,t))return!1;if(v.$isRangeSelection(u)){if(u.isCollapsed()){var f=he.$findMatchingParent(u.anchor.getNode(),h=>Z(h));if(!Z(f))return!1;if(f=t.getCordsFromCellNode(f,i.grid),he.$findMatchingParent(u.anchor.getNode(),h=>v.$isElementNode(h))==null)throw Error("Expected BlockNode Parent");if(u.anchor.offset===u.anchor.getNode().getTextContentSize()||c.shiftKey)return c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),c.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(f.x,f.y,i.grid)),fn(i,t,f.x,f.y,"forward")):Ur(i,t,f.x,f.y,"forward")}}else if(v.DEPRECATED_$isGridSelection(u)&&c.shiftKey)return u=u.focus.getNode(),Z(u)?(u=t.getCordsFromCellNode(u,i.grid),c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),fn(i,t,u.x,u.y,"forward")):!1;return!1},v.COMMAND_PRIORITY_HIGH));let d=c=>()=>{var u=v.$getSelection();if(!en(u,t))return!1;if(v.DEPRECATED_$isGridSelection(u))return i.clearText(),!0;if(v.$isRangeSelection(u)){const p=he.$findMatchingParent(u.anchor.getNode(),m=>Z(m));if(!Z(p))return!1;var f=u.anchor.getNode(),h=u.focus.getNode();if(f=t.isParentOf(f),h=t.isParentOf(h),f&&!h||h&&!f)return i.clearText(),!0;if(f=(h=he.$findMatchingParent(u.anchor.getNode(),m=>v.$isElementNode(m)))&&he.$findMatchingParent(h,m=>v.$isElementNode(m)&&Z(m.getParent())),!v.$isElementNode(f)||!v.$isElementNode(h))return!1;if(c===v.DELETE_LINE_COMMAND&&f.getPreviousSibling()===null)return!0;if((c===v.DELETE_CHARACTER_COMMAND||c===v.DELETE_WORD_COMMAND)&&u.isCollapsed()&&u.anchor.offset===0&&h!==f){u=h.getChildren();const m=v.$createParagraphNode();return u.forEach(x=>m.append(x)),h.replace(m),h.getWritable().__parent=p.getKey(),!0}}return!1};[v.DELETE_WORD_COMMAND,v.DELETE_LINE_COMMAND,v.DELETE_CHARACTER_COMMAND].forEach(c=>{i.listenersToRemove.add(n.registerCommand(c,d(c),v.COMMAND_PRIORITY_CRITICAL))});let g=c=>{const u=v.$getSelection();return en(u,t)?v.DEPRECATED_$isGridSelection(u)?(c.preventDefault(),c.stopPropagation(),i.clearText(),!0):(v.$isRangeSelection(u)&&(c=he.$findMatchingParent(u.anchor.getNode(),f=>Z(f)),Z(c)),!1):!1};return i.listenersToRemove.add(n.registerCommand(v.KEY_BACKSPACE_COMMAND,g,v.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(n.registerCommand(v.KEY_DELETE_COMMAND,g,v.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(n.registerCommand(v.FORMAT_TEXT_COMMAND,c=>{let u=v.$getSelection();return en(u,t)?v.DEPRECATED_$isGridSelection(u)?(i.formatCells(c),!0):(v.$isRangeSelection(u)&&(c=he.$findMatchingParent(u.anchor.getNode(),f=>Z(f)),Z(c)),!1):!1},v.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(n.registerCommand(v.CONTROLLED_TEXT_INSERTION_COMMAND,()=>{var c=v.$getSelection();return en(c,t)&&(v.DEPRECATED_$isGridSelection(c)?i.clearHighlight():v.$isRangeSelection(c)&&(c=he.$findMatchingParent(c.anchor.getNode(),u=>Z(u)),Z(c))),!1},v.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(n.registerCommand(v.KEY_TAB_COMMAND,c=>{var u=v.$getSelection();if(!en(u,t))return!1;if(v.$isRangeSelection(u)){let f=he.$findMatchingParent(u.anchor.getNode(),h=>Z(h));if(!Z(f))return!1;if(u.isCollapsed())return u=t.getCordsFromCellNode(f,i.grid),c.preventDefault(),Ur(i,t,u.x,u.y,c.shiftKey?"backward":"forward"),!0}return!1},v.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(v.FOCUS_COMMAND,()=>t.isSelected(),v.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(v.SELECTION_CHANGE_COMMAND,()=>{let c=v.$getSelection();var u=v.$getPreviousSelection();if(c&&v.$isRangeSelection(c)&&!c.isCollapsed()){var f=c.anchor.getNode(),h=c.focus.getNode();f=t.isParentOf(f);var p=t.isParentOf(h);if(h=f&&!p||p&&!f,f=f&&p&&!t.isSelected(),h)return u=c.isBackward(),f=v.$createRangeSelection(),h=t.getKey(),f.anchor.set(c.anchor.key,c.anchor.offset,c.anchor.type),f.focus.set(h,u?0:t.getChildrenSize(),"element"),s=!0,v.$setSelection(f),Ku(n,i),!0;if(f&&({grid:f}=i,c.getNodes().filter(Z).length===f.rows*f.columns)){f=v.DEPRECATED_$createGridSelection(),h=t.getKey(),p=t.getFirstChildOrThrow().getFirstChild();let m=t.getLastChildOrThrow().getLastChild();if(p!=null&&m!=null)return f.set(h,p.getKey(),m.getKey()),v.$setSelection(f),i.updateTableGridSelection(f),!0}}return c&&!c.is(u)&&(v.DEPRECATED_$isGridSelection(c)||v.DEPRECATED_$isGridSelection(u))&&i.gridSelection&&!i.gridSelection.is(u)?(v.DEPRECATED_$isGridSelection(c)&&c.gridKey===i.tableNodeKey?i.updateTableGridSelection(c):!v.DEPRECATED_$isGridSelection(c)&&v.DEPRECATED_$isGridSelection(u)&&u.gridKey===i.tableNodeKey&&i.updateTableGridSelection(null),!1):(i.hasHijackedSelectionStyles&&!t.isSelected()?(P_(n,i),s=!1):!i.hasHijackedSelectionStyles&&t.isSelected()&&Ku(n,i),!1)},v.COMMAND_PRIORITY_CRITICAL)),i};ne.getCellFromTarget=Zi;ne.getTableSelectionFromTableElement=function(t){return t.__lexicalTableSelection};const U_=ne;var ws=U_,it={},re=H,qn=nt;function wr(t){throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?code=${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Wf(t){let e=1;for(t=t.getParent();t!=null;){if(ge(t)){if(t=t.getParent(),Q(t)){e++,t=t.getParent();continue}wr(40)}break}return e}function Cl(t){t=t.getParent(),Q(t)||wr(40);let e=t;for(;e!==null;)e=e.getParent(),Q(e)&&(t=e);return t}function Gf(t){let e=[];t=t.getChildren().filter(ge);for(let n=0;n<t.length;n++){let r=t[n],i=r.getFirstChild();Q(i)?e=e.concat(Gf(i)):e.push(r)}return e}function Ut(t){return ge(t)&&Q(t.getFirstChild())}function j_(t){for(;t.getNextSibling()==null&&t.getPreviousSibling()==null;){let e=t.getParent();if(e==null||!ge(t)&&!Q(t))break;t=e}t.remove()}function Wu(t){return Tt().append(t)}function Yf(t,e){return ge(t)&&(e.length===0||e.length===1&&t.is(e[0])&&t.getChildrenSize()===0)}function Zn(t,e){t.splice(t.getChildrenSize(),0,e)}function Gu(t,e){if(Q(t))return t;let n=t.getPreviousSibling(),r=t.getNextSibling(),i=Tt();return i.setFormat(t.getFormatType()),i.setIndent(t.getIndent()),Zn(i,t.getChildren()),Q(n)&&e===n.getListType()?(n.append(i),t.remove(),Q(r)&&e===r.getListType()&&(Zn(n,r.getChildren()),r.remove()),n):Q(r)&&e===r.getListType()?(r.getFirstChildOrThrow().insertBefore(i),t.remove(),r):(e=tt(e),e.append(i),t.replace(e),qe(e),e)}function Vf(t,e){var n=t.getLastChild();let r=e.getFirstChild();n&&r&&Ut(n)&&Ut(r)&&(Vf(n.getFirstChild(),r.getFirstChild()),r.remove()),n=e.getChildren(),0<n.length&&(t.append(...n),qe(t)),e.remove()}function qe(t,e){if(t=e||t.getChildren(),t!==void 0)for(e=0;e<t.length;e++){let o=t[e];if(ge(o)){let s=o.getValue();var n=o,r=n.getParent(),i=1;for(r!=null&&(Q(r)?i=r.getStart():wr(44)),n=n.getPreviousSiblings(),r=0;r<n.length;r++){let l=n[r];ge(l)&&!Q(l.getFirstChild())&&i++}s!==i&&o.setValue(i)}}}function z_(t){if(!Ut(t)){var e=t.getParent(),n=e?e.getParent():void 0,r=n?n.getParent():void 0;if(Q(r)&&ge(n)&&Q(e)){var i=e?e.getFirstChild():void 0,o=e?e.getLastChild():void 0;if(t.is(i))n.insertBefore(t),e.isEmpty()&&n.remove();else if(t.is(o))n.insertAfter(t),e.isEmpty()&&n.remove();else{var s=e.getListType();i=Tt();let l=tt(s);i.append(l),t.getPreviousSiblings().forEach(a=>l.append(a)),o=Tt(),s=tt(s),o.append(s),Zn(s,t.getNextSiblings()),n.insertBefore(i),n.insertAfter(o),n.replace(t)}qe(e),qe(r)}}}let ns=class vl extends re.ElementNode{static getType(){return"listitem"}static clone(e){return new vl(e.__value,e.__checked,e.__key)}constructor(e,n,r){super(r),this.__value=e===void 0?1:e,this.__checked=n}createDOM(e){let n=document.createElement("li"),r=this.getParent();return Q(r)&&r.getListType()==="check"&&Vu(n,this,null),n.value=this.__value,Yu(n,e.theme,this),n}updateDOM(e,n,r){let i=this.getParent();return Q(i)&&i.getListType()==="check"&&Vu(n,this,e),n.value=this.__value,Yu(n,r.theme,this),!1}static transform(){return e=>{let n=e.getParent();Q(n)&&(qe(n),n.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0))}}static importDOM(){return{li:()=>({conversion:H_,priority:0})}}static importJSON(e){let n=new vl(e.value,e.checked);return n.setFormat(e.format),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...e){for(let n=0;n<e.length;n++){let r=e[n];if(re.$isElementNode(r)&&this.canMergeWith(r)){let i=r.getChildren();this.append(...i),r.remove()}else super.append(r)}return this}replace(e,n){if(ge(e))return super.replace(e);this.setIndent(0);let r=this.getParentOrThrow();if(!Q(r))return e;if(r.__first===this.getKey())r.insertBefore(e);else if(r.__last===this.getKey())r.insertAfter(e);else{let i=tt(r.getListType()),o=this.getNextSibling();for(;o;){let s=o;o=o.getNextSibling(),i.append(s)}r.insertAfter(e),e.insertAfter(i)}return n&&this.getChildren().forEach(i=>{e.append(i)}),this.remove(),r.getChildrenSize()===0&&r.remove(),e}insertAfter(e,n=!0){var r=this.getParentOrThrow();Q(r)||wr(39);var i=this.getNextSiblings();if(ge(e))return n=super.insertAfter(e,n),e=e.getParentOrThrow(),Q(e)&&qe(e),n;if(Q(e)&&e.getListType()===r.getListType()){for(r=e,e=e.getChildren(),i=e.length-1;0<=i;i--)r=e[i],this.insertAfter(r,n);return r}if(r.insertAfter(e,n),i.length!==0){let o=tt(r.getListType());i.forEach(s=>o.append(s)),e.insertAfter(o,n)}return e}remove(e){let n=this.getPreviousSibling(),r=this.getNextSibling();super.remove(e),n&&r&&Ut(n)&&Ut(r)?(Vf(n.getFirstChild(),r.getFirstChild()),r.remove()):r&&(e=r.getParent(),Q(e)&&qe(e))}insertNewAfter(e,n=!0){return e=Tt(this.__checked==null?void 0:!1),this.insertAfter(e,n),e}collapseAtStart(e){let n=re.$createParagraphNode();this.getChildren().forEach(s=>n.append(s));var r=this.getParentOrThrow(),i=r.getParentOrThrow();let o=ge(i);return r.getChildrenSize()===1?o?(r.remove(),i.select()):(r.insertBefore(n),r.remove(),r=e.anchor,e=e.focus,i=n.getKey(),r.type==="element"&&r.getNode().is(this)&&r.set(i,r.offset,"element"),e.type==="element"&&e.getNode().is(this)&&e.set(i,e.offset,"element")):(r.insertBefore(n),this.remove()),!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getChecked(){return this.getLatest().__checked}setChecked(e){this.getWritable().__checked=e}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){var e=this.getParent();if(e===null)return this.getLatest().__indent;e=e.getParentOrThrow();let n=0;for(;ge(e);)e=e.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(e){typeof e=="number"&&-1<e||wr(117);let n=this.getIndent();for(;n!==e;)if(n<e){e:{var r=new Set;if(Ut(this)||r.has(this.getKey()))break e;let l=this.getParent();var i=this.getNextSibling(),o=this.getPreviousSibling();if(Ut(i)&&Ut(o)){if(o=o.getFirstChild(),Q(o)){o.append(this);var s=i.getFirstChild();Q(s)&&(s=s.getChildren(),Zn(o,s),i.remove(),r.add(i.getKey())),qe(o)}}else Ut(i)?(i=i.getFirstChild(),Q(i)&&(r=i.getFirstChild(),r!==null&&r.insertBefore(this),qe(i))):Ut(o)?(i=o.getFirstChild(),Q(i)&&(i.append(this),qe(i))):Q(l)&&(r=Tt(),s=tt(l.getListType()),r.append(s),s.append(this),o?o.insertAfter(r):i?i.insertBefore(r):l.append(r),qe(s));Q(l)&&qe(l)}n++}else z_(this),n--;return this}insertBefore(e){if(ge(e)){let n=this.getParentOrThrow();if(Q(n)){let r=this.getNextSiblings();qe(n,r)}}return super.insertBefore(e)}canInsertAfter(e){return ge(e)}canReplaceWith(e){return ge(e)}canMergeWith(e){return re.$isParagraphNode(e)||ge(e)}extractWithChild(e,n){if(!re.$isRangeSelection(n))return!1;e=n.anchor.getNode();let r=n.focus.getNode();return this.isParentOf(e)&&this.isParentOf(r)&&this.getTextContent().length===n.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return tt("bullet")}};function Yu(t,e,n){let r=[],i=[];var o=(e=e.list)?e.listitem:void 0;if(e&&e.nested)var s=e.nested.listitem;if(o!==void 0&&(o=o.split(" "),r.push(...o)),e){o=n.getParent(),o=Q(o)&&o.getListType()==="check";let l=n.getChecked();o&&!l||i.push(e.listitemUnchecked),o&&l||i.push(e.listitemChecked),o&&r.push(l?e.listitemChecked:e.listitemUnchecked)}s!==void 0&&(s=s.split(" "),n.getChildren().some(l=>Q(l))?r.push(...s):i.push(...s)),0<i.length&&qn.removeClassNamesFromElement(t,...i),0<r.length&&qn.addClassNamesToElement(t,...r)}function Vu(t,e,n){Q(e.getFirstChild())?(t.removeAttribute("role"),t.removeAttribute("tabIndex"),t.removeAttribute("aria-checked")):(t.setAttribute("role","checkbox"),t.setAttribute("tabIndex","-1"),n&&e.__checked===n.__checked||t.setAttribute("aria-checked",e.getChecked()?"true":"false"))}function H_(t){return t=qn.isHTMLElement(t)&&t.getAttribute("aria-checked")==="true",{node:Tt(t)}}function Tt(t){return re.$applyNodeReplacement(new ns(void 0,t))}function ge(t){return t instanceof ns}let wa=class Jf extends re.ElementNode{static getType(){return"list"}static clone(e){return new Jf(e.__listType||qu[e.__tag],e.__start,e.__key)}constructor(e,n,r){super(r),this.__listType=e=qu[e]||e,this.__tag=e==="number"?"ol":"ul",this.__start=n}getTag(){return this.__tag}getListType(){return this.__listType}getStart(){return this.__start}createDOM(e){let n=document.createElement(this.__tag);return this.__start!==1&&n.setAttribute("start",String(this.__start)),n.__lexicalListType=this.__listType,Ju(n,e.theme,this),n}updateDOM(e,n,r){return e.__tag!==this.__tag?!0:(Ju(n,r.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:Xu,priority:0}),ul:()=>({conversion:Xu,priority:0})}}static importJSON(e){let n=tt(e.listType,e.start);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportDOM(e){return{element:e}=super.exportDOM(e),e&&(this.__start!==1&&e.setAttribute("start",String(this.__start)),this.__listType==="check"&&e.setAttribute("__lexicalListType","check")),{element:e}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...e){for(let r=0;r<e.length;r++){var n=e[r];if(ge(n))super.append(n);else{let i=Tt();Q(n)||re.$isElementNode(n)&&(n=re.$createTextNode(n.getTextContent())),i.append(n),super.append(i)}}return qe(this),this}extractWithChild(e){return ge(e)}};function Ju(t,e,n){let r=[],i=[];var o=e.list;if(o!==void 0){let l=o[`${n.__tag}Depth`]||[];e=Wf(n)-1;let a=e%l.length;var s=l[a];let d=o[n.__tag],g;if(o=o.nested,o!==void 0&&o.list&&(g=o.list),d!==void 0&&r.push(d),s!==void 0)for(s=s.split(" "),r.push(...s),s=0;s<l.length;s++)s!==a&&i.push(n.__tag+s);g!==void 0&&(n=g.split(" "),1<e?r.push(...n):i.push(...n))}0<i.length&&qn.removeClassNamesFromElement(t,...i),0<r.length&&qn.addClassNamesToElement(t,...r)}function K_(t){let e=[];for(let r=0;r<t.length;r++){var n=t[r];ge(n)?(e.push(n),n=n.getChildren(),1<n.length&&n.forEach(i=>{Q(i)&&e.push(Wu(i))})):e.push(Wu(n))}return e}function Xu(t){let e=t.nodeName.toLowerCase(),n=null;return e==="ol"?n=tt("number",t.start):e==="ul"&&(n=qn.isHTMLElement(t)&&t.getAttribute("__lexicallisttype")==="check"?tt("check"):tt("bullet")),{after:K_,node:n}}let qu={ol:"number",ul:"bullet"};function tt(t,e=1){return re.$applyNodeReplacement(new wa(t,e))}function Q(t){return t instanceof wa}let W_=re.createCommand("INSERT_UNORDERED_LIST_COMMAND"),G_=re.createCommand("INSERT_ORDERED_LIST_COMMAND"),Y_=re.createCommand("INSERT_CHECK_LIST_COMMAND"),V_=re.createCommand("REMOVE_LIST_COMMAND");it.$createListItemNode=Tt;it.$createListNode=tt;it.$getListDepth=Wf;it.$handleListInsertParagraph=function(){var t=re.$getSelection();if(!re.$isRangeSelection(t)||!t.isCollapsed()||(t=t.anchor.getNode(),!ge(t)||t.getTextContent()!==""))return!1;var e=Cl(t),n=t.getParent();Q(n)||wr(40);let r=n.getParent(),i;if(re.$isRootOrShadowRoot(r))i=re.$createParagraphNode(),e.insertAfter(i);else if(ge(r))i=Tt(),r.insertAfter(i);else return!1;if(i.select(),e=t.getNextSiblings(),0<e.length){let o=tt(n.getListType());re.$isParagraphNode(i)?i.insertAfter(o):(n=Tt(),n.append(o),i.insertAfter(n)),e.forEach(s=>{s.remove(),o.append(s)})}return j_(t),!0};it.$isListItemNode=ge;it.$isListNode=Q;it.INSERT_CHECK_LIST_COMMAND=Y_;it.INSERT_ORDERED_LIST_COMMAND=G_;it.INSERT_UNORDERED_LIST_COMMAND=W_;it.ListItemNode=ns;it.ListNode=wa;it.REMOVE_LIST_COMMAND=V_;it.insertList=function(t,e){t.update(()=>{var n=re.$getSelection();if(re.$isRangeSelection(n)||re.DEPRECATED_$isGridSelection(n)){var r=n.getNodes();n=n.anchor.getNode();var i=n.getParent();if(Yf(n,r))r=tt(e),re.$isRootOrShadowRoot(i)?(n.replace(r),i=Tt(),re.$isElementNode(n)&&(i.setFormat(n.getFormatType()),i.setIndent(n.getIndent())),r.append(i)):ge(n)&&(n=n.getParentOrThrow(),Zn(r,n.getChildren()),n.replace(r));else for(n=new Set,i=0;i<r.length;i++){var o=r[i];if(re.$isElementNode(o)&&o.isEmpty()&&!n.has(o.getKey()))Gu(o,e);else if(re.$isLeafNode(o))for(o=o.getParent();o!=null;){let l=o.getKey();if(Q(o)){if(!n.has(l)){var s=tt(e);Zn(s,o.getChildren()),o.replace(s),qe(s),n.add(l)}break}else{if(s=o.getParent(),re.$isRootOrShadowRoot(s)&&!n.has(l)){n.add(l),Gu(o,e);break}o=s}}}}})};it.removeList=function(t){t.update(()=>{let e=re.$getSelection();if(re.$isRangeSelection(e)){var n=new Set,r=e.getNodes(),i=e.anchor.getNode();if(Yf(i,r))n.add(Cl(i));else for(i=0;i<r.length;i++){var o=r[i];re.$isLeafNode(o)&&(o=qn.$getNearestNodeOfType(o,ns),o!=null&&n.add(Cl(o)))}for(let s of n){n=s,r=Gf(s);for(let l of r)r=re.$createParagraphNode(),Zn(r,l.getChildren()),n.insertAfter(r),n=r,l.__key===e.anchor.key&&e.anchor.set(r.getKey(),0,"element"),l.__key===e.focus.key&&e.focus.set(r.getKey(),0,"element"),l.remove();s.remove()}}})};const J_=it;var on=J_,xe={},Tl={},X_={get exports(){return Tl},set exports(t){Tl=t}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,s={},l={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function _(E){return E instanceof a?new a(E.type,_(E.content),E.alias):Array.isArray(E)?E.map(_):E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(_){return Object.prototype.toString.call(_).slice(8,-1)},objId:function(_){return _.__id||Object.defineProperty(_,"__id",{value:++o}),_.__id},clone:function _(E,T){T=T||{};var w,A;switch(l.util.type(E)){case"Object":if(A=l.util.objId(E),T[A])return T[A];w={},T[A]=w;for(var k in E)E.hasOwnProperty(k)&&(w[k]=_(E[k],T));return w;case"Array":return A=l.util.objId(E),T[A]?T[A]:(w=[],T[A]=w,E.forEach(function(K,M){w[M]=_(K,T)}),w);default:return E}},getLanguage:function(_){for(;_;){var E=i.exec(_.className);if(E)return E[1].toLowerCase();_=_.parentElement}return"none"},setLanguage:function(_,E){_.className=_.className.replace(RegExp(i,"gi"),""),_.classList.add("language-"+E)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(w){var _=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(w.stack)||[])[1];if(_){var E=document.getElementsByTagName("script");for(var T in E)if(E[T].src==_)return E[T]}return null}},isActive:function(_,E,T){for(var w="no-"+E;_;){var A=_.classList;if(A.contains(E))return!0;if(A.contains(w))return!1;_=_.parentElement}return!!T}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(_,E){var T=l.util.clone(l.languages[_]);for(var w in E)T[w]=E[w];return T},insertBefore:function(_,E,T,w){w=w||l.languages;var A=w[_],k={};for(var K in A)if(A.hasOwnProperty(K)){if(K==E)for(var M in T)T.hasOwnProperty(M)&&(k[M]=T[M]);T.hasOwnProperty(K)||(k[K]=A[K])}var J=w[_];return w[_]=k,l.languages.DFS(l.languages,function(te,se){se===J&&te!=_&&(this[te]=k)}),k},DFS:function _(E,T,w,A){A=A||{};var k=l.util.objId;for(var K in E)if(E.hasOwnProperty(K)){T.call(E,K,E[K],w||K);var M=E[K],J=l.util.type(M);J==="Object"&&!A[k(M)]?(A[k(M)]=!0,_(M,T,null,A)):J==="Array"&&!A[k(M)]&&(A[k(M)]=!0,_(M,T,K,A))}}},plugins:{},highlightAll:function(_,E){l.highlightAllUnder(document,_,E)},highlightAllUnder:function(_,E,T){var w={callback:T,container:_,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",w),w.elements=Array.prototype.slice.apply(w.container.querySelectorAll(w.selector)),l.hooks.run("before-all-elements-highlight",w);for(var A=0,k;k=w.elements[A++];)l.highlightElement(k,E===!0,w.callback)},highlightElement:function(_,E,T){var w=l.util.getLanguage(_),A=l.languages[w];l.util.setLanguage(_,w);var k=_.parentElement;k&&k.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(k,w);var K=_.textContent,M={element:_,language:w,grammar:A,code:K};function J(se){M.highlightedCode=se,l.hooks.run("before-insert",M),M.element.innerHTML=M.highlightedCode,l.hooks.run("after-highlight",M),l.hooks.run("complete",M),T&&T.call(M.element)}if(l.hooks.run("before-sanity-check",M),k=M.element.parentElement,k&&k.nodeName.toLowerCase()==="pre"&&!k.hasAttribute("tabindex")&&k.setAttribute("tabindex","0"),!M.code){l.hooks.run("complete",M),T&&T.call(M.element);return}if(l.hooks.run("before-highlight",M),!M.grammar){J(l.util.encode(M.code));return}if(E&&r.Worker){var te=new Worker(l.filename);te.onmessage=function(se){J(se.data)},te.postMessage(JSON.stringify({language:M.language,code:M.code,immediateClose:!0}))}else J(l.highlight(M.code,M.grammar,M.language))},highlight:function(_,E,T){var w={code:_,grammar:E,language:T};if(l.hooks.run("before-tokenize",w),!w.grammar)throw new Error('The language "'+w.language+'" has no grammar.');return w.tokens=l.tokenize(w.code,w.grammar),l.hooks.run("after-tokenize",w),a.stringify(l.util.encode(w.tokens),w.language)},tokenize:function(_,E){var T=E.rest;if(T){for(var w in T)E[w]=T[w];delete E.rest}var A=new c;return u(A,A.head,_),g(_,A,E,A.head,0),h(A)},hooks:{all:{},add:function(_,E){var T=l.hooks.all;T[_]=T[_]||[],T[_].push(E)},run:function(_,E){var T=l.hooks.all[_];if(!(!T||!T.length))for(var w=0,A;A=T[w++];)A(E)}},Token:a};r.Prism=l;function a(_,E,T,w){this.type=_,this.content=E,this.alias=T,this.length=(w||"").length|0}a.stringify=function _(E,T){if(typeof E=="string")return E;if(Array.isArray(E)){var w="";return E.forEach(function(J){w+=_(J,T)}),w}var A={type:E.type,content:_(E.content,T),tag:"span",classes:["token",E.type],attributes:{},language:T},k=E.alias;k&&(Array.isArray(k)?Array.prototype.push.apply(A.classes,k):A.classes.push(k)),l.hooks.run("wrap",A);var K="";for(var M in A.attributes)K+=" "+M+'="'+(A.attributes[M]||"").replace(/"/g,"&quot;")+'"';return"<"+A.tag+' class="'+A.classes.join(" ")+'"'+K+">"+A.content+"</"+A.tag+">"};function d(_,E,T,w){_.lastIndex=E;var A=_.exec(T);if(A&&w&&A[1]){var k=A[1].length;A.index+=k,A[0]=A[0].slice(k)}return A}function g(_,E,T,w,A,k){for(var K in T)if(!(!T.hasOwnProperty(K)||!T[K])){var M=T[K];M=Array.isArray(M)?M:[M];for(var J=0;J<M.length;++J){if(k&&k.cause==K+","+J)return;var te=M[J],se=te.inside,ot=!!te.lookbehind,dt=!!te.greedy,ft=te.alias;if(dt&&!te.pattern.global){var Ke=te.pattern.toString().match(/[imsuy]*$/)[0];te.pattern=RegExp(te.pattern.source,Ke+"g")}for(var _e=te.pattern||te,I=w.next,q=A;I!==E.tail&&!(k&&q>=k.reach);q+=I.value.length,I=I.next){var Y=I.value;if(E.length>_.length)return;if(!(Y instanceof a)){var Se=1,W;if(dt){if(W=d(_e,q,_,ot),!W||W.index>=_.length)break;var st=W.index,ye=W.index+W[0].length,Ae=q;for(Ae+=I.value.length;st>=Ae;)I=I.next,Ae+=I.value.length;if(Ae-=I.value.length,q=Ae,I.value instanceof a)continue;for(var Ye=I;Ye!==E.tail&&(Ae<ye||typeof Ye.value=="string");Ye=Ye.next)Se++,Ae+=Ye.value.length;Se--,Y=_.slice(q,Ae),W.index-=q}else if(W=d(_e,0,Y,ot),!W)continue;var st=W.index,At=W[0],wt=Y.slice(0,st),lt=Y.slice(st+At.length),Ee=q+Y.length;k&&Ee>k.reach&&(k.reach=Ee);var Lt=I.prev;wt&&(Lt=u(E,Lt,wt),q+=wt.length),f(E,Lt,Se);var Jt=new a(K,se?l.tokenize(At,se):At,ft,At);if(I=u(E,Lt,Jt),lt&&u(E,I,lt),Se>1){var mt={cause:K+","+J,reach:Ee};g(_,E,T,I.prev,q,mt),k&&mt.reach>k.reach&&(k.reach=mt.reach)}}}}}}function c(){var _={value:null,prev:null,next:null},E={value:null,prev:_,next:null};_.next=E,this.head=_,this.tail=E,this.length=0}function u(_,E,T){var w=E.next,A={value:T,prev:E,next:w};return E.next=A,w.prev=A,_.length++,A}function f(_,E,T){for(var w=E.next,A=0;A<T&&w!==_.tail;A++)w=w.next;E.next=w,w.prev=E,_.length-=A}function h(_){for(var E=[],T=_.head.next;T!==_.tail;)E.push(T.value),T=T.next;return E}if(!r.document)return r.addEventListener&&(l.disableWorkerMessageHandler||r.addEventListener("message",function(_){var E=JSON.parse(_.data),T=E.language,w=E.code,A=E.immediateClose;r.postMessage(l.highlight(w,l.languages[T],T)),A&&r.close()},!1)),l;var p=l.util.currentScript();p&&(l.filename=p.src,p.hasAttribute("data-manual")&&(l.manual=!0));function m(){l.manual||l.highlightAll()}if(!l.manual){var x=document.readyState;x==="loading"||x==="interactive"&&p&&p.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return l}(e);t.exports&&(t.exports=n),typeof Ja<"u"&&(Ja.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(i,o){var s={};s["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[o]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};l["language-"+o]={pattern:/[\s\S]+/,inside:n.languages[o]};var a={};a[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:l},n.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,i){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:n.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(r){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var o=r.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",i=function(p,m){return"✖ Error "+p+" while fetching file: "+m},o="✖ Error: File does not exist or is empty",s={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",a="loading",d="loaded",g="failed",c="pre[data-src]:not(["+l+'="'+d+'"]):not(['+l+'="'+a+'"])';function u(p,m,x){var _=new XMLHttpRequest;_.open("GET",p,!0),_.onreadystatechange=function(){_.readyState==4&&(_.status<400&&_.responseText?m(_.responseText):_.status>=400?x(i(_.status,_.statusText)):x(o))},_.send(null)}function f(p){var m=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(p||"");if(m){var x=Number(m[1]),_=m[2],E=m[3];return _?E?[x,Number(E)]:[x,void 0]:[x,x]}}n.hooks.add("before-highlightall",function(p){p.selector+=", "+c}),n.hooks.add("before-sanity-check",function(p){var m=p.element;if(m.matches(c)){p.code="",m.setAttribute(l,a);var x=m.appendChild(document.createElement("CODE"));x.textContent=r;var _=m.getAttribute("data-src"),E=p.language;if(E==="none"){var T=(/\.(\w+)$/.exec(_)||[,"none"])[1];E=s[T]||T}n.util.setLanguage(x,E),n.util.setLanguage(m,E);var w=n.plugins.autoloader;w&&w.loadLanguages(E),u(_,function(A){m.setAttribute(l,d);var k=f(m.getAttribute("data-range"));if(k){var K=A.split(/\r\n?|\n/g),M=k[0],J=k[1]==null?K.length:k[1];M<0&&(M+=K.length),M=Math.max(0,Math.min(M-1,K.length)),J<0&&(J+=K.length),J=Math.max(0,Math.min(J,K.length)),A=K.slice(M,J).join(`
`),m.hasAttribute("data-start")||m.setAttribute("data-start",String(M+1))}x.textContent=A,n.highlightElement(x)},function(A){m.setAttribute(l,g),x.textContent=A})}}),n.plugins.fileHighlight={highlight:function(m){for(var x=(m||document).querySelectorAll(c),_=0,E;E=x[_++];)n.highlightElement(E)}};var h=!1;n.fileHighlight=function(){h||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),h=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(X_);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:Prism.languages[n]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",o)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(t,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(g){return g=g.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+g+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(g){["url","bold","italic","strike","code-snippet"].forEach(function(c){g!==c&&(t.languages.markdown[g].inside.content.inside[c]=t.languages.markdown[c])})}),t.hooks.add("after-tokenize",function(g){if(g.language!=="markdown"&&g.language!=="md")return;function c(u){if(!(!u||typeof u=="string"))for(var f=0,h=u.length;f<h;f++){var p=u[f];if(p.type!=="code"){c(p.content);continue}var m=p.content[1],x=p.content[3];if(m&&x&&m.type==="code-language"&&x.type==="code-block"&&typeof m.content=="string"){var _=m.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");_=(/[a-z][\w-]*/i.exec(_)||[""])[0].toLowerCase();var E="language-"+_;x.alias?typeof x.alias=="string"?x.alias=[x.alias,E]:x.alias.push(E):x.alias=[E]}}}c(g.tokens)}),t.hooks.add("wrap",function(g){if(g.type==="code-block"){for(var c="",u=0,f=g.classes.length;u<f;u++){var h=g.classes[u],p=/language-(.+)/.exec(h);if(p){c=p[1];break}}var m=t.languages[c];if(m)g.content=t.highlight(d(g.content),m,c);else if(c&&c!=="none"&&t.plugins.autoloader){var x="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);g.attributes.id=x,t.plugins.autoloader.loadLanguages(c,function(){var _=document.getElementById(x);_&&(_.innerHTML=t.highlight(_.textContent,t.languages[c],c))})}}});var s=RegExp(t.languages.markup.tag.pattern.source,"gi"),l={amp:"&",lt:"<",gt:">",quot:'"'},a=String.fromCodePoint||String.fromCharCode;function d(g){var c=g.replace(s,"");return c=c.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(u,f){if(f=f.toLowerCase(),f[0]==="#"){var h;return f[1]==="x"?h=parseInt(f.slice(2),16):h=Number(f.slice(1)),a(h)}else{var p=l[f];return p||u}}),c}t.languages.md=t.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(t){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=Prism.languages.swift});(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript})(Prism);(function(t){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};t.languages.java=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:e,function:[t.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),t.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);(function(t){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])})(Prism);var Tr=Tl,Sr=nt,B=H;let Zu=t=>t!=null&&Tr.languages.hasOwnProperty(t)?t:void 0;function Xf(t,e){for(let n of t.childNodes){if(Sr.isHTMLElement(n)&&n.tagName===e)return!0;Xf(n,e)}return!1}class Cn extends B.ElementNode{static getType(){return"code"}static clone(e){return new Cn(e.__language,e.__key)}constructor(e,n){super(n),this.__language=Zu(e)}createDOM(e){let n=document.createElement("code");return Sr.addClassNamesToElement(n,e.theme.code),n.setAttribute("spellcheck","false"),(e=this.getLanguage())&&n.setAttribute("data-highlight-language",e),n}updateDOM(e,n){let r=this.__language;return e=e.__language,r?r!==e&&n.setAttribute("data-highlight-language",r):e&&n.removeAttribute("data-highlight-language"),!1}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||Xf(e,"BR"))?{conversion:Qu,priority:1}:null,div:()=>({conversion:q_,priority:1}),pre:()=>({conversion:Qu,priority:0}),table:e=>Rs(e)?{conversion:Z_,priority:3}:null,td:e=>{let n=e.closest("table");return e.classList.contains("js-file-line")?{conversion:Q_,priority:3}:n&&Rs(n)?{conversion:ec,priority:3}:null},tr:e=>(e=e.closest("table"))&&Rs(e)?{conversion:ec,priority:3}:null}}static importJSON(e){let n=Fr(e.language);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),type:"code",version:1}}insertNewAfter(e,n=!0){var r=this.getChildren(),i=r.length;if(2<=i&&r[i-1].getTextContent()===`
`&&r[i-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===i)return r[i-1].remove(),r[i-2].remove(),e=B.$createParagraphNode(),this.insertAfter(e,n),e;if(n=e.anchor.getNode(),i=xi(n),i!=null){for(r=0,i=i.getTextContent();r<i.length&&/[\t ]/.test(i[r]);)r+=1;if(0<r)return r=i.substring(0,r),r=Wn(r),n.insertAfter(r),e.insertNodes([B.$createLineBreakNode()]),r.select(),r}return null}canInsertTab(){let e=B.$getSelection();return!!(B.$isRangeSelection(e)&&e.isCollapsed())}canIndent(){return!1}collapseAtStart(){let e=B.$createParagraphNode();return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}setLanguage(e){this.getWritable().__language=Zu(e)}getLanguage(){return this.getLatest().__language}}function Fr(t){return B.$applyNodeReplacement(new Cn(t))}function rs(t){return t instanceof Cn}function Qu(){return{node:Fr(),preformatted:!0}}function q_(t){let e=t.style.fontFamily.match("monospace")!==null;return e||ey(t)?{after:n=>{let r=t.parentNode;return r!=null&&t!==r.lastChild&&n.push(B.$createLineBreakNode()),n},node:e?Fr():null,preformatted:e}:{node:null}}function Z_(){return{node:Fr(),preformatted:!0}}function ec(){return{node:null}}function Q_(t){return{after:e=>(t.parentNode&&t.parentNode.nextSibling&&e.push(B.$createLineBreakNode()),e),node:null}}function ey(t){for(t=t.parentElement;t!==null;){if(t.style.fontFamily.match("monospace")!==null)return!0;t=t.parentElement}return!1}function Rs(t){return t.classList.contains("js-file-line-container")}let qf={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},Zf={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function Qf(t){return Zf[t]||t}let Ei=class eg extends B.TextNode{constructor(e,n,r){super(e,r),this.__highlightType=n}static getType(){return"code-highlight"}static clone(e){return new eg(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}createDOM(e){let n=super.createDOM(e);return e=Os(e.theme,this.__highlightType),Sr.addClassNamesToElement(n,e),n}updateDOM(e,n,r){let i=super.updateDOM(e,n,r);return e=Os(r.theme,e.__highlightType),r=Os(r.theme,this.__highlightType),e!==r&&(e&&Sr.removeClassNamesFromElement(n,e),r&&Sr.addClassNamesToElement(n,r)),i}static importJSON(e){let n=Wn(e.text,e.highlightType);return n.setFormat(e.format),n.setDetail(e.detail),n.setMode(e.mode),n.setStyle(e.style),n}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType(),type:"code-highlight",version:1}}setFormat(){return this}isParentRequired(){return!0}createParentElementNode(){return Fr()}};function Os(t,e){return e&&t&&t.codeHighlight&&t.codeHighlight[e]}function Wn(t,e){return B.$applyNodeReplacement(new Ei(t,e))}function je(t){return t instanceof Ei}function xi(t){let e=null,n=t.getPreviousSiblings();for(n.push(t);0<n.length&&(t=n.pop(),je(t)&&(e=t),!B.$isLineBreakNode(t)););return e}function Sl(t){let e=null,n=t.getNextSiblings();for(n.unshift(t);0<n.length&&(t=n.shift(),je(t)&&(e=t),!B.$isLineBreakNode(t)););return e}let tg={defaultLanguage:"javascript",tokenize(t,e){return Tr.tokenize(t,Tr.languages[e||""]||Tr.languages[this.defaultLanguage])}};function So(t,e){var n=t.length;let r=-1;if(e)for(e=0;e<n;e++){let i=t[e];if(i!==" "&&i!=="	"){r=e;break}}else for(--n;-1<n;n--)if(e=t[n],e!==" "&&e!=="	"){r=n;break}return r}function ng(t){let e=null,n=-1;var r=t.getPreviousSiblings();for(r.push(t);0<r.length;){var i=r.pop();if(je(i)){var o=i.getTextContent();o=So(o,!0),o!==-1&&(e=i,n=o)}if(B.$isLineBreakNode(i))break}if(e===null)for(t=t.getNextSiblings();0<t.length;){if(r=t.shift(),je(r)&&(i=r.getTextContent(),i=So(i,!0),i!==-1)){e=r,n=i;break}if(B.$isLineBreakNode(r))break}return{node:e,offset:n}}function rg(t){let e=null,n=-1;var r=t.getNextSiblings();for(r.unshift(t);0<r.length;){var i=r.shift();if(je(i)){var o=i.getTextContent();o=So(o,!1),o!==-1&&(e=i,n=o+1)}if(B.$isLineBreakNode(i))break}if(e===null)for(t=t.getPreviousSiblings();0<t.length;){if(r=t.pop(),je(r)&&(i=r.getTextContent(),i=So(i,!1),i!==-1)){e=r,n=i+1;break}if(B.$isLineBreakNode(r))break}return{node:e,offset:n}}function tc(t,e,n){let r=t.getParent();rs(r)?ig(r,e,n):je(t)&&t.replace(B.$createTextNode(t.__text))}let $s=new Set;function ig(t,e,n){let r=t.getKey();$s.has(r)||($s.add(r),t.getLanguage()===void 0&&t.setLanguage(n.defaultLanguage),e.update(()=>{ty(r,()=>{var i=B.$getNodeByKey(r);if(!rs(i)||!i.isAttached())return!1;var o=i.getTextContent();o=n.tokenize(o,i.getLanguage()||n.defaultLanguage),o=og(o);var s=i.getChildren();for(i=0;i<s.length&&nc(s[i],o[i]);)i++;var l=s.length;let a=o.length,d=Math.min(l,a)-i,g=0;for(;g<d;)if(g++,!nc(s[l-g],o[a-g])){g--;break}s=i,l-=g,o=o.slice(i,a-g);let{from:c,to:u,nodesForReplacement:f}={from:s,nodesForReplacement:o,to:l};return c!==u||f.length?(t.splice(c,u-c,f),!0):!1})},{onUpdate:()=>{$s.delete(r)},skipTransforms:!0}))}function og(t){let e=[];return t.forEach(n=>{if(typeof n=="string"){n=n.split(`
`);for(var r=0;r<n.length;r++){let i=n[r];i.length&&e.push(Wn(i)),r<n.length-1&&e.push(B.$createLineBreakNode())}}else({content:r}=n),typeof r=="string"?e.push(Wn(r,n.type)):Array.isArray(r)&&r.length===1&&typeof r[0]=="string"?e.push(Wn(r[0],n.type)):Array.isArray(r)&&e.push(...og(r))}),e}function ty(t,e){if(t=B.$getNodeByKey(t),rs(t)&&t.isAttached()){var n=B.$getSelection();if(B.$isRangeSelection(n)){n=n.anchor;var r=n.offset,i=n.type==="element"&&B.$isLineBreakNode(t.getChildAtIndex(n.offset-1)),o=0;if(!i){let s=n.getNode();o=r+s.getPreviousSiblings().reduce((l,a)=>l+a.getTextContentSize(),0)}e()&&(i?n.getNode().select(r,r):t.getChildren().some(s=>{let l=B.$isTextNode(s);if(l||B.$isLineBreakNode(s)){let a=s.getTextContentSize();if(l&&a>=o)return s.select(o,o),!0;o-=a}return!1}))}else e()}}function nc(t,e){return je(t)&&je(e)?t.__text===e.__text&&t.__highlightType===e.__highlightType:!!(B.$isLineBreakNode(t)&&B.$isLineBreakNode(e))}function rc(t){var e=B.$getSelection();if(!B.$isRangeSelection(e)||e.isCollapsed())return!1;e=e.getNodes();for(var n=0;n<e.length;n++){var r=e[n];if(!je(r)&&!B.$isLineBreakNode(r))return!1}for(n=xi(e[0]),n!=null&&ic(n,t),n=1;n<e.length;n++)r=e[n],B.$isLineBreakNode(e[n-1])&&je(r)&&ic(r,t);return!0}function ic(t,e){let n=t.getTextContent();e===B.INDENT_CONTENT_COMMAND?0<n.length&&/\s/.test(n[0])?t.setTextContent("	"+n):(e=Wn("	"),t.insertBefore(e)):n.indexOf("	")===0&&(n.length===1?t.remove():t.setTextContent(n.substring(1)))}function oc(t,e){let n=B.$getSelection();if(!B.$isRangeSelection(n))return!1;let{anchor:r,focus:i}=n,o=r.offset,s=i.offset,l=r.getNode(),a=i.getNode();var d=t===B.KEY_ARROW_UP_COMMAND;if(!je(l)||!je(a))return!1;if(!e.altKey){if(n.isCollapsed()){if(t=l.getParentOrThrow(),d&&o===0&&l.getPreviousSibling()===null){if(t.getPreviousSibling()===null)return t.selectPrevious(),e.preventDefault(),!0}else if(!d&&o===l.getTextContentSize()&&l.getNextSibling()===null&&t.getNextSibling()===null)return t.selectNext(),e.preventDefault(),!0}return!1}var g=xi(l);let c=Sl(a);if(g==null||c==null)return!1;let u=g.getNodesBetween(c);for(let h=0;h<u.length;h++){let p=u[h];if(!je(p)&&!B.$isLineBreakNode(p))return!1}if(e.preventDefault(),e.stopPropagation(),e=d?g.getPreviousSibling():c.getNextSibling(),!B.$isLineBreakNode(e)||(g=d?e.getPreviousSibling():e.getNextSibling(),g==null))return!0;d=d?xi(g):Sl(g);let f=d??g;return e.remove(),u.forEach(h=>h.remove()),t===B.KEY_ARROW_UP_COMMAND?(u.forEach(h=>f.insertBefore(h)),f.insertBefore(e)):(f.insertAfter(e),f=e,u.forEach(h=>{f.insertAfter(h),f=h})),n.setTextNodeRange(l,o,a,s),!0}function sc(t,e){let n=B.$getSelection();if(!B.$isRangeSelection(n))return!1;let{anchor:r,focus:i}=n,o=r.getNode(),s=i.getNode();if(t=t===B.MOVE_TO_START,!je(o)||!je(s))return!1;let l,a;return t?{node:l,offset:a}=ng(s):{node:l,offset:a}=rg(s),l!==null&&a!==-1&&n.setTextNodeRange(l,a,l,a),e.preventDefault(),e.stopPropagation(),!0}xe.$createCodeHighlightNode=Wn;xe.$createCodeNode=Fr;xe.$isCodeHighlightNode=je;xe.$isCodeNode=rs;xe.CODE_LANGUAGE_FRIENDLY_NAME_MAP=qf;xe.CODE_LANGUAGE_MAP=Zf;xe.CodeHighlightNode=Ei;xe.CodeNode=Cn;xe.DEFAULT_CODE_LANGUAGE="javascript";xe.PrismTokenizer=tg;xe.getCodeLanguages=()=>Object.keys(Tr.languages).filter(t=>typeof Tr.languages[t]!="function").sort();xe.getDefaultCodeLanguage=()=>"javascript";xe.getEndOfCodeInLine=rg;xe.getFirstCodeHighlightNodeOfLine=xi;xe.getLanguageFriendlyName=function(t){return t=Qf(t),qf[t]||t};xe.getLastCodeHighlightNodeOfLine=Sl;xe.getStartOfCodeInLine=ng;xe.normalizeCodeLang=Qf;xe.registerCodeHighlighting=function(t,e){if(!t.hasNodes([Cn,Ei]))throw Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return e==null&&(e=tg),Sr.mergeRegister(t.registerMutationListener(Cn,n=>{t.update(()=>{for(let[o,s]of n)if(s!=="destroyed"){var r=B.$getNodeByKey(o);if(r!==null)e:{var i=r;if(r=t.getElementByKey(i.getKey()),r===null)break e;i=i.getChildren();let l=i.length;if(l===r.__cachedChildrenLength)break e;r.__cachedChildrenLength=l;let a="1",d=1;for(let g=0;g<l;g++)B.$isLineBreakNode(i[g])&&(a+=`
`+ ++d);r.setAttribute("data-gutter",a)}}})}),t.registerNodeTransform(Cn,n=>ig(n,t,e)),t.registerNodeTransform(B.TextNode,n=>tc(n,t,e)),t.registerNodeTransform(Ei,n=>tc(n,t,e)),t.registerCommand(B.INDENT_CONTENT_COMMAND,()=>rc(B.INDENT_CONTENT_COMMAND),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.OUTDENT_CONTENT_COMMAND,()=>rc(B.OUTDENT_CONTENT_COMMAND),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.KEY_ARROW_UP_COMMAND,n=>oc(B.KEY_ARROW_UP_COMMAND,n),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.KEY_ARROW_DOWN_COMMAND,n=>oc(B.KEY_ARROW_DOWN_COMMAND,n),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.MOVE_TO_END,n=>sc(B.MOVE_TO_END,n),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.MOVE_TO_START,n=>sc(B.MOVE_TO_START,n),B.COMMAND_PRIORITY_LOW))};const ny=xe;var sn=ny,Ra={},de={},ee=H,ni=sn,ze=on,xn=Nn,ry=nt,Ds=Ct;function Al(t,e){let n={};for(let r of t)t=e(r),n[t]?n[t].push(r):n[t]=[r];return n}function Oa(t){return t=Al(t,e=>e.type),{element:t.element||[],textFormat:t["text-format"]||[],textMatch:t["text-match"]||[]}}let Ao=/[!-/:-@[-`{-~\s]/;function iy(t){let e=Oa(t),n=e.textFormat.filter(r=>r.format.length===1);return r=>{let i=[];r=(r||ee.$getRoot()).getChildren();for(let o of r)r=oy(o,e.element,n,e.textMatch),r!=null&&i.push(r);return i.join(`

`)}}function oy(t,e,n,r){for(let i of e)if(e=i.export(t,o=>wo(o,n,r)),e!=null)return e;return ee.$isElementNode(t)?wo(t,n,r):ee.$isDecoratorNode(t)?t.getTextContent():null}function wo(t,e,n){let r=[];t=t.getChildren();e:for(let i of t){for(let o of n)if(t=o.export(i,s=>wo(s,e,n),(s,l)=>lc(s,l,e)),t!=null){r.push(t);continue e}ee.$isLineBreakNode(i)?r.push(`
`):ee.$isTextNode(i)?r.push(lc(i,i.getTextContent(),e)):ee.$isElementNode(i)?r.push(wo(i,e,n)):ee.$isDecoratorNode(i)&&r.push(i.getTextContent())}return r.join("")}function lc(t,e,n){let r=e.trim(),i=r,o=new Set;for(let l of n){n=l.format[0];let a=l.tag;if(ks(t,n)&&!o.has(n)){o.add(n);var s=ac(t,!0);ks(s,n)||(i=a+i),s=ac(t,!1),ks(s,n)||(i+=a)}}return e.replace(r,i)}function ac(t,e){let n=e?t.getPreviousSibling():t.getNextSibling();for(n||(t=t.getParentOrThrow(),t.isInline()&&(n=e?t.getPreviousSibling():t.getNextSibling()));n;){if(ee.$isElementNode(n)){if(!n.isInline())break;if(t=e?n.getLastDescendant():n.getFirstDescendant(),ee.$isTextNode(t))return t;n=e?n.getPreviousSibling():n.getNextSibling()}if(ee.$isTextNode(n))return n;if(!ee.$isElementNode(n))break}return null}function ks(t,e){return ee.$isTextNode(t)&&t.hasFormat(e)}let Br=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sy=Br&&"documentMode"in document?document.documentMode:null;Br&&"InputEvent"in window&&!sy&&"getTargetRanges"in new window.InputEvent("input");let uc=Br&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),cc=Br&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ly=Br&&/^(?=.*Chrome).*/i.test(navigator.userAgent),dc=Br&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!ly,ay=/^\s{0,3}$/,fc=/^```(\w{1,10})?\s?$/;function uy(t){let e=Oa(t),n=dy(e.textFormat);return(r,i)=>{r=r.split(`
`);var o=r.length;i=i||ee.$getRoot(),i.clear();for(let h=0;h<o;h++){var s=r[h];e:{var l=r,a=h,d=i,g=l[a].match(fc);if(g){for(var c=a,u=l.length;++c<u;)if(l[c].match(fc)){g=ni.$createCodeNode(g[1]),l=ee.$createTextNode(l.slice(a+1,c).join(`
`)),g.append(l),d.append(g),d=[g,c];break e}}d=[null,a]}let[p,m]=d;if(p!=null)h=m;else{d=s,u=i;var f=e.element;c=n,l=e.textMatch,a=d.trim(),g=ee.$createTextNode(a),s=ee.$createParagraphNode(),s.append(g),u.append(s);for(let{regExp:x,replace:_}of f)if(u=d.match(x)){g.setTextContent(d.slice(u[0].length)),_(s,[g],u,!0);break}eo(g,c,l),s.isAttached()&&0<a.length&&(d=s.getPreviousSibling(),ee.$isParagraphNode(d)||xn.$isQuoteNode(d)||ze.$isListNode(d))&&(c=d,ze.$isListNode(d)&&(d=d.getLastDescendant(),c=d==null?null:ry.$findMatchingParent(d,ze.$isListItemNode)),c!=null&&0<c.getTextContentSize()&&(c.splice(c.getChildrenSize(),0,[ee.$createLineBreakNode(),...s.getChildren()]),s.remove()))}}r=i.getChildren();for(let h of r)r=h,ee.$isParagraphNode(r)?(o=r.getFirstChild(),r=o==null||r.getChildrenSize()===1&&ee.$isTextNode(o)&&ay.test(o.getTextContent())):r=!1,r&&h.remove();ee.$getSelection()!==null&&i.selectEnd()}}function eo(t,e,n){var r=t.getTextContent();let i=cy(r,e);if(i){var o,s;if(i[0]===r)var l=t;else{r=i.index||0;let a=r+i[0].length;r===0?[l,o]=t.splitText(a):[s,l,o]=t.splitText(r,a)}if(l.setTextContent(i[2]),t=e.transformersByTag[i[1]])for(let a of t.format)l.hasFormat(a)||l.toggleFormat(a);l.hasFormat("code")||eo(l,e,n),s&&eo(s,e,n),o&&eo(o,e,n)}else sg(t,n)}function sg(t,e){e:for(;t;){for(let n of e){let r=t.getTextContent().match(n.importRegExp);if(!r)continue;let i=r.index||0,o=i+r[0].length,s,l,a;i===0?[s,t]=t.splitText(o):[l,s,a]=t.splitText(i,o),l&&sg(l,e),a&&(t=a),n.replace(s,r);continue e}break}}function cy(t,e){var n=t.match(e.openTagsRegExp);if(n==null)return null;for(let o of n){var r=o.replace(/^\s/,"");if(n=e.fullMatchRegExpByTag[r],n!=null&&(n=t.match(n),r=e.transformersByTag[r],n!=null&&r!=null)){if(r.intraword!==!1)return n;var{index:i=0}=n;if(r=t[i-1],i=t[i+n[0].length],!(r&&!Ao.test(r)||i&&!Ao.test(i)))return n}}return null}function dy(t){let e={},n={},r=[];for(let i of t){({tag:t}=i),e[t]=i;let o=t.replace(/(\*|\^|\+)/g,"\\$1");r.push(o),n[t]=uc||cc||dc?new RegExp(`(${o})(?![${o}\\s])(.*?[^${o}\\s])${o}(?!${o})`):new RegExp(`(?<![\\\\${o}])(${o})((\\\\${o})?.*?[^${o}\\s](\\\\${o})?)((?<!\\\\)|(?<=\\\\\\\\))(${o})(?![\\\\${o}])`)}return{fullMatchRegExpByTag:n,openTagsRegExp:new RegExp((uc||cc||dc?"":"(?<![\\\\])")+"("+r.join("|")+")","g"),transformersByTag:e}}function gc(t,e,n){let r=n.length;for(;e>=r;e--){let i=e-r;if(lg(t,i,n,0,r)&&t[i+r]!==" ")return i}return-1}function lg(t,e,n,r,i){for(let o=0;o<i;o++)if(t[e+o]!==n[r+o])return!1;return!0}let ag=t=>(e,n,r)=>{r=t(r),r.append(...n),e.replace(r),r.select(0,0)},$a=t=>(e,n,r)=>{var i=e.getPreviousSibling();const o=ze.$createListItemNode(t==="check"?r[3]==="x":void 0);ze.$isListNode(i)&&i.getListType()===t?(i.append(o),e.remove()):(i=ze.$createListNode(t,t==="number"?Number(r[2]):void 0),i.append(o),e.replace(i)),o.append(...n),o.select(0,0),(e=Math.floor(r[1].length/4))&&o.setIndent(e)},is=(t,e,n)=>{const r=[];var i=t.getChildren();let o=0;for(const l of i)if(ze.$isListItemNode(l)){if(l.getChildrenSize()===1&&(i=l.getFirstChild(),ze.$isListNode(i))){r.push(is(i,e,n+1));continue}i=" ".repeat(4*n);var s=t.getListType();s=s==="number"?`${t.getStart()+o}. `:s==="check"?`- [${l.getChecked()?"x":" "}] `:"- ",r.push(i+s+e(l)),o++}return r.join(`
`)},ug={dependencies:[xn.HeadingNode],export:(t,e)=>{if(!xn.$isHeadingNode(t))return null;const n=Number(t.getTag().slice(1));return"#".repeat(n)+" "+e(t)},regExp:/^(#{1,6})\s/,replace:ag(t=>xn.$createHeadingNode("h"+t[1].length)),type:"element"},cg={dependencies:[xn.QuoteNode],export:(t,e)=>{if(!xn.$isQuoteNode(t))return null;t=e(t).split(`
`),e=[];for(const n of t)e.push("> "+n);return e.join(`
`)},regExp:/^>\s/,replace:(t,e,n,r)=>{if(r&&(n=t.getPreviousSibling(),xn.$isQuoteNode(n))){n.splice(n.getChildrenSize(),0,[ee.$createLineBreakNode(),...e]),n.select(0,0),t.remove();return}n=xn.$createQuoteNode(),n.append(...e),t.replace(n),n.select(0,0)},type:"element"},dg={dependencies:[ni.CodeNode],export:t=>{if(!ni.$isCodeNode(t))return null;const e=t.getTextContent();return"```"+(t.getLanguage()||"")+(e?`
`+e:"")+"\n```"},regExp:/^```(\w{1,10})?\s/,replace:ag(t=>ni.$createCodeNode(t?t[1]:void 0)),type:"element"},fg={dependencies:[ze.ListNode,ze.ListItemNode],export:(t,e)=>ze.$isListNode(t)?is(t,e,0):null,regExp:/^(\s*)[-*+]\s/,replace:$a("bullet"),type:"element"},fy={dependencies:[ze.ListNode,ze.ListItemNode],export:(t,e)=>ze.$isListNode(t)?is(t,e,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:$a("check"),type:"element"},gg={dependencies:[ze.ListNode,ze.ListItemNode],export:(t,e)=>ze.$isListNode(t)?is(t,e,0):null,regExp:/^(\s*)(\d{1,})\.\s/,replace:$a("number"),type:"element"},hg={format:["code"],tag:"`",type:"text-format"},pg={format:["highlight"],tag:"==",type:"text-format"},mg={format:["bold","italic"],tag:"***",type:"text-format"},_g={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},yg={format:["bold"],tag:"**",type:"text-format"},Eg={format:["bold"],intraword:!1,tag:"__",type:"text-format"},xg={format:["strikethrough"],tag:"~~",type:"text-format"},Ng={format:["italic"],tag:"*",type:"text-format"},Cg={format:["italic"],intraword:!1,tag:"_",type:"text-format"},vg={dependencies:[Ds.LinkNode],export:(t,e,n)=>{if(!Ds.$isLinkNode(t))return null;e=(e=t.getTitle())?`[${t.getTextContent()}](${t.getURL()} "${e}")`:`[${t.getTextContent()}](${t.getURL()})`;const r=t.getFirstChild();return t.getChildrenSize()===1&&ee.$isTextNode(r)?n(r,e):e},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(t,e)=>{const[,n,r,i]=e;e=Ds.$createLinkNode(r,{title:i});const o=ee.$createTextNode(n);o.setFormat(t.getFormat()),e.append(o),t.replace(e)},trigger:")",type:"text-match"},Tg=[ug,cg,dg,fg,gg],Sg=[hg,mg,_g,yg,Eg,pg,Ng,Cg,xg],Ag=[vg],os=[...Tg,...Sg,...Ag];de.$convertFromMarkdownString=function(t,e=os,n){return uy(e)(t,n)};de.$convertToMarkdownString=function(t=os,e){return iy(t)(e)};de.BOLD_ITALIC_STAR=mg;de.BOLD_ITALIC_UNDERSCORE=_g;de.BOLD_STAR=yg;de.BOLD_UNDERSCORE=Eg;de.CHECK_LIST=fy;de.CODE=dg;de.ELEMENT_TRANSFORMERS=Tg;de.HEADING=ug;de.HIGHLIGHT=pg;de.INLINE_CODE=hg;de.ITALIC_STAR=Ng;de.ITALIC_UNDERSCORE=Cg;de.LINK=vg;de.ORDERED_LIST=gg;de.QUOTE=cg;de.STRIKETHROUGH=xg;de.TEXT_FORMAT_TRANSFORMERS=Sg;de.TEXT_MATCH_TRANSFORMERS=Ag;de.TRANSFORMERS=os;de.UNORDERED_LIST=fg;de.registerMarkdownShortcuts=function(t,e=os){let n=Oa(e),r=Al(n.textFormat,({tag:o})=>o[o.length-1]),i=Al(n.textMatch,({trigger:o})=>o);for(let o of e)if(e=o.type,(e==="element"||e==="text-match")&&!t.hasNodes(o.dependencies))throw Error("Minified Lexical error #79; visit https://lexical.dev/docs/error?code=79 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return t.registerUpdateListener(({tags:o,dirtyLeaves:s,editorState:l,prevEditorState:a})=>{if(!o.has("historic")){var d=l.read(ee.$getSelection);if(o=a.read(ee.$getSelection),ee.$isRangeSelection(o)&&ee.$isRangeSelection(d)&&d.isCollapsed()){a=d.anchor.key;var g=d.anchor.offset,c=l._nodeMap.get(a);ee.$isTextNode(c)&&s.has(a)&&(g===1||g===o.anchor.offset+1)&&t.update(()=>{if(!c.hasFormat("code")){var u=c.getParent();if(u!==null&&!ni.$isCodeNode(u)){var f=d.anchor.offset;e:{var h=n.element,p=u.getParent();if(ee.$isRootOrShadowRoot(p)&&u.getFirstChild()===c&&(p=c.getTextContent(),p[f-1]===" ")){for(let{regExp:w,replace:A}of h)if((h=p.match(w))&&h[0].length===f){p=c.getNextSiblings();let[k,K]=c.splitText(f);k.remove(),p=K?[K,...p]:p,A(u,p,h,!1),u=!0;break e}}u=!1}if(!u){e:{if(h=c.getTextContent(),u=i[h[f-1]],u!=null){f<h.length&&(h=h.slice(0,f));for(x of u)if(u=h.match(x.regExp),u!==null){h=u.index||0,p=h+u[0].length;var m=void 0;h===0?[m]=c.splitText(p):[,m]=c.splitText(h,p),m.selectNext(0,0),x.replace(m,u);var x=!0;break e}}x=!1}if(!x)e:{p=c.getTextContent(),--f;var _=p[f];if(x=r[_])for(let w of x){var{tag:E}=w;x=E.length;let A=f-x+1;if(!(1<x&&!lg(p,A,E,0,x)||p[A-1]===" ")&&(m=p[f+1],w.intraword!==!1||!m||Ao.test(m))){u=m=c,h=gc(p,A,E);for(var T=u;0>h&&(T=T.getPreviousSibling())&&!ee.$isLineBreakNode(T);)ee.$isTextNode(T)&&(h=T.getTextContent(),u=T,h=gc(h,h.length,E));if(!(0>h||u===m&&h+x===A||(E=u.getTextContent(),0<h&&E[h-1]===_||(T=E[h-1],w.intraword===!1&&T&&!Ao.test(T))))){p=m.getTextContent(),p=p.slice(0,A)+p.slice(f+1),m.setTextContent(p),p=u===m?p:E,u.setTextContent(p.slice(0,h)+p.slice(h+x)),p=ee.$getSelection(),_=ee.$createRangeSelection(),ee.$setSelection(_),f=f-x*(u===m?2:1)+1,_.anchor.set(u.__key,h,"text"),_.focus.set(m.__key,f,"text");for(let k of w.format)_.hasFormat(k)||_.formatText(k);_.anchor.set(_.focus.key,_.focus.offset,_.focus.type);for(let k of w.format)_.hasFormat(k)&&_.toggleFormat(k);ee.$isRangeSelection(p)&&(_.format=p.format);break e}}}}}}}})}}})};const gy=de;var to=gy,Oi={},wg={},hy=Ge,In=H,ji=C;function hc(t,e){return t.getEditorState().read(()=>{let n=In.$getNodeByKey(e);return n===null?!1:n.isSelected()})}wg.useLexicalNodeSelection=function(t){let[e]=hy.useLexicalComposerContext(),[n,r]=ji.useState(()=>hc(e,t));ji.useEffect(()=>{let s=!0,l=e.registerUpdateListener(()=>{s&&r(hc(e,t))});return()=>{s=!1,l()}},[e,t]);let i=ji.useCallback(s=>{e.update(()=>{let l=In.$getSelection();In.$isNodeSelection(l)||(l=In.$createNodeSelection(),In.$setSelection(l)),s?l.add(t):l.delete(t)})},[e,t]),o=ji.useCallback(()=>{e.update(()=>{const s=In.$getSelection();In.$isNodeSelection(s)&&s.clear()})},[e]);return[n,i,o]};const py=wg;var my=py,_y=Ge,yy=my,Ey=nt,Et=H,no=C;let xy=Et.createCommand("INSERT_HORIZONTAL_RULE_COMMAND");function Ny({nodeKey:t}){let[e]=_y.useLexicalComposerContext(),[n,r,i]=yy.useLexicalNodeSelection(t),o=no.useCallback(s=>(n&&Et.$isNodeSelection(Et.$getSelection())&&(s.preventDefault(),s=Et.$getNodeByKey(t),Rg(s)&&s.remove(),r(!1)),!1),[n,t,r]);return no.useEffect(()=>Ey.mergeRegister(e.registerCommand(Et.CLICK_COMMAND,s=>{let l=e.getElementByKey(t);return s.target===l?(s.shiftKey||i(),r(!n),!0):!1},Et.COMMAND_PRIORITY_LOW),e.registerCommand(Et.KEY_DELETE_COMMAND,o,Et.COMMAND_PRIORITY_LOW),e.registerCommand(Et.KEY_BACKSPACE_COMMAND,o,Et.COMMAND_PRIORITY_LOW)),[i,e,n,t,o,r]),no.useEffect(()=>{let s=e.getElementByKey(t);s!==null&&(s.className=n?"selected":"")},[e,n,t]),null}class $i extends Et.DecoratorNode{static getType(){return"horizontalrule"}static clone(e){return new $i(e.__key)}static importJSON(){return Da()}static importDOM(){return{hr:()=>({conversion:Cy,priority:0})}}exportJSON(){return{type:"horizontalrule",version:1}}exportDOM(){return{element:document.createElement("hr")}}createDOM(){return document.createElement("hr")}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return no.createElement(Ny,{nodeKey:this.__key})}}function Cy(){return{node:Da()}}function Da(){return Et.$applyNodeReplacement(new $i)}function Rg(t){return t instanceof $i}Oi.$createHorizontalRuleNode=Da;Oi.$isHorizontalRuleNode=Rg;Oi.HorizontalRuleNode=$i;Oi.INSERT_HORIZONTAL_RULE_COMMAND=xy;const vy=Oi;var Ty=vy,Og=to,Sy=Ge,Ls=Ty,Ay=C;let $g=[{dependencies:[Ls.HorizontalRuleNode],export:t=>Ls.$isHorizontalRuleNode(t)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(t,e,n,r)=>{e=Ls.$createHorizontalRuleNode(),r||t.getNextSibling()!=null?t.replace(e):t.insertBefore(e),e.selectNext()},type:"element"},...Og.TRANSFORMERS];Ra.DEFAULT_TRANSFORMERS=$g;Ra.MarkdownShortcutPlugin=function({transformers:t=$g}){let[e]=Sy.useLexicalComposerContext();return Ay.useEffect(()=>Og.registerMarkdownShortcuts(e,t),[e,t]),null};const wy=Ra;var Ry=wy,Dg={},Oy=Ge,jr=H,pc=C,$y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?pc.useLayoutEffect:pc.useEffect;Dg.ClearEditorPlugin=function({onClear:t}){let[e]=Oy.useLexicalComposerContext();return $y(()=>e.registerCommand(jr.CLEAR_EDITOR_COMMAND,()=>(e.update(()=>{if(t==null){let n=jr.$getRoot(),r=jr.$getSelection(),i=jr.$createParagraphNode();n.clear(),n.append(i),r!==null&&i.select()}else t()}),!0),jr.COMMAND_PRIORITY_EDITOR),[e,t]),null};const Dy=Dg;var ky=Dy,ka={},Ln=Ct,Ly=Ge,My=nt,ln=H,by=C;function kg(t,e){for(let n=0;n<e.length;n++){let r=e[n](t);if(r)return r}return null}let Pn=/[.,;\s]/;function Lg(t){t=t.getPreviousSibling(),ln.$isElementNode(t)&&(t=t.getLastDescendant());var e;return!(e=t===null||ln.$isLineBreakNode(t))&&(e=ln.$isTextNode(t))&&(t=t.getTextContent(),e=Pn.test(t[t.length-1])),e}function Mg(t){return t=t.getNextSibling(),ln.$isElementNode(t)&&(t=t.getFirstDescendant()),t===null||ln.$isLineBreakNode(t)||ln.$isTextNode(t)&&Pn.test(t.getTextContent()[0])}function Ms(t,e,n){var r=t.getChildren();let i=r.length;for(let o=0;o<i;o++){let s=r[o];if(!ln.$isTextNode(s)||!s.isSimpleText()){ro(t),n(null,t.getURL());return}}r=t.getTextContent(),e=kg(r,e),e===null||e.text!==r?(ro(t),n(null,t.getURL())):Lg(t)&&Mg(t)?(r=t.getURL(),r!==e.url&&(t.setURL(e.url),n(e.url,r)),e.attributes&&(r=t.getRel(),r!==e.attributes.rel&&(t.setRel(e.attributes.rel||null),n(e.attributes.rel||null,r)),r=t.getTarget(),r!==e.attributes.target&&(t.setTarget(e.attributes.target||null),n(e.attributes.target||null,r)))):(ro(t),n(null,t.getURL()))}function ro(t){let e=t.getChildren();var n=e.length;for(--n;0<=n;n--)t.insertAfter(e[n]);return t.remove(),e.map(r=>r.getLatest())}function Iy(t,e,n){by.useEffect(()=>{if(!t.hasNodes([Ln.AutoLinkNode]))throw Error("Minified Lexical error #77; visit https://lexical.dev/docs/error?code=77 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");let r=(i,o)=>{n&&n(i,o)};return My.mergeRegister(t.registerNodeTransform(ln.TextNode,i=>{var o=i.getParentOrThrow(),s=i.getPreviousSibling();if(Ln.$isAutoLinkNode(o))Ms(o,e,r);else if(!Ln.$isLinkNode(o)){if(i.isSimpleText()&&(Pn.test(i.getTextContent()[0])||!Ln.$isAutoLinkNode(s))){s=o=i.getTextContent();let f=0,h=i;for(var l;(l=kg(s,e))&&l!==null;){let p=l.index,m=l.length,x=p+m;var a=f+p,d=f+x,g=o,c=i;if((0<a?Pn.test(g[a-1]):Lg(c))&&(d<g.length?Pn.test(g[d]):Mg(c))){var u=void 0;f+p===0?[u,h]=h.splitText(f+m):[,u,h]=h.splitText(f+p,f+p+m),a=Ln.$createAutoLinkNode(l.url,l.attributes),d=ln.$createTextNode(l.text),d.setFormat(u.getFormat()),d.setDetail(u.getDetail()),a.append(d),u.replace(a),n&&n(l.url,null),f=0}else f+=x;s=s.substring(x)}}o=i.getPreviousSibling(),l=i.getNextSibling(),u=i.getTextContent(),Ln.$isAutoLinkNode(o)&&!Pn.test(u[0])&&(o.append(i),Ms(o,e,r),i=o.getURL(),n&&n(null,i)),Ln.$isAutoLinkNode(l)&&!Pn.test(u[u.length-1])&&(ro(l),Ms(l,e,r),i=l.getURL(),n&&n(null,i))}}))},[t,e,n])}ka.AutoLinkPlugin=function({matchers:t,onChange:e}){let[n]=Ly.useLexicalComposerContext();return Iy(n,t,e),null};ka.createLinkMatcherWithRegExp=function(t,e=n=>n){return n=>{let r=t.exec(n);return r===null?null:{index:r.index,length:r[0].length,text:r[0],url:e(n)}}};const Py=ka;var Fy=Py;const By=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,Uy=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,jy=[t=>{const e=By.exec(t);return e&&{index:e.index,length:e[0].length,text:e[0],url:e[0]}},t=>{const e=Uy.exec(t);return e&&{index:e.index,length:e[0].length,text:e[0],url:`mailto:${e[0]}`}}];function zy(){return y.jsx(Fy.AutoLinkPlugin,{matchers:jy})}const io=1,Hy=new Set(["paragraph","quote","code","h1","h2","ul","ol"]),Ky={code:"Code Block",h1:"Large Heading",h2:"Small Heading",h3:"Heading",h4:"Heading",h5:"Heading",ol:"Numbered List",paragraph:"Normal",quote:"Quote",ul:"Bulleted List"},mc=C.memo(()=>y.jsx("div",{className:"divider"}));function _c(t,e){e?(t.style.opacity="1",t.style.top=`${e.top+e.height+window.pageYOffset+10}px`,t.style.left=`${e.left+window.pageXOffset-t.offsetWidth/2+e.width/2}px`):(t.style.opacity="0",t.style.top="-1000px",t.style.left="-1000px")}const Wy=C.memo(({editor:t})=>{const e=C.useRef(null),n=C.useRef(null),r=C.useRef(!1),[i,o]=C.useState(""),[s,l]=C.useState(!1),[a,d]=C.useState(null),g=C.useCallback(()=>{const u=H.$getSelection();if(H.$isRangeSelection(u)){const x=bg(u),_=x.getParent();Ct.$isLinkNode(_)?o(_.getURL()):Ct.$isLinkNode(x)?o(x.getURL()):o("")}const f=e.current,h=window.getSelection(),p=document.activeElement;if(f===null)return;const m=t.getRootElement();if(u!==null&&!h?.isCollapsed&&m!==null&&m.contains(h?.anchorNode)){const x=h?.getRangeAt(0);let _;if(h?.anchorNode===m){let E=m;for(;E.firstElementChild!=null;)E=E.firstElementChild;_=E.getBoundingClientRect()}else _=x?.getBoundingClientRect();r.current||_c(f,_),d(u)}else(!p||p.className!=="link-input")&&(_c(f,void 0),d(null),l(!1),o(""));return!0},[t]);C.useEffect(()=>nt.mergeRegister(t.registerUpdateListener(({editorState:u})=>{u.read(()=>{g()})}),t.registerCommand(H.SELECTION_CHANGE_COMMAND,()=>(g(),!0),io)),[t,g]),C.useEffect(()=>{t.getEditorState().read(()=>{g()})},[t,g]),C.useEffect(()=>{s&&n.current&&n.current.focus()},[s]);const c=C.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer"},i);return y.jsx("div",{ref:e,className:"link-editor",children:s?y.jsx("input",{ref:n,className:"link-input",value:i,onChange:u=>{o(u.target.value)},onKeyDown:u=>{u.key==="Enter"?(u.preventDefault(),a!==null&&(i!==""&&t.dispatchCommand(Ct.TOGGLE_LINK_COMMAND,i),l(!1))):u.key==="Escape"&&(u.preventDefault(),l(!1))}}):y.jsx(y.Fragment,{children:y.jsxs("div",{className:"link-input",children:[c,y.jsx("div",{className:"link-edit",role:"button",tabIndex:0,onMouseDown:u=>u.preventDefault(),onClick:()=>{l(!0)}})]})})})}),Gy=C.memo(({onChange:t,className:e,options:n,value:r})=>y.jsxs("select",{className:e,onChange:t,value:r,children:[y.jsx("option",{hidden:!0,value:""}),n.map(i=>y.jsx("option",{value:i,children:i},i))]}));function bg(t){const e=t.anchor,n=t.focus,r=t.anchor.getNode(),i=t.focus.getNode();return r===i?r:t.isBackward()?Nt.$isAtNodeEnd(n)?r:i:Nt.$isAtNodeEnd(e)?i:r}const Yy=C.memo(({editor:t,blockType:e,toolbarRef:n,setShowBlockOptionsDropDown:r})=>{const i=C.useRef(null);C.useEffect(()=>{const u=i.current,f=n.current;if(u!==null&&f!==null){const h=p=>{const m=p.target;!u.contains(m)&&!f.contains(m)&&r(!1)};return document.addEventListener("click",h),()=>{document.removeEventListener("click",h)}}},[i,r,n]);const o=()=>{e!=="paragraph"&&t.update(()=>{const u=H.$getSelection();H.$isRangeSelection(u)&&Nt.$wrapNodes(u,()=>H.$createParagraphNode())}),r(!1)},s=()=>{e!=="h1"&&t.update(()=>{const u=H.$getSelection();H.$isRangeSelection(u)&&Nt.$wrapNodes(u,()=>Nn.$createHeadingNode("h1"))}),r(!1)},l=()=>{e!=="h2"&&t.update(()=>{const u=H.$getSelection();H.$isRangeSelection(u)&&Nt.$wrapNodes(u,()=>Nn.$createHeadingNode("h2"))}),r(!1)},a=()=>{e!=="ul"?t.dispatchCommand(on.INSERT_UNORDERED_LIST_COMMAND,void 0):t.dispatchCommand(on.REMOVE_LIST_COMMAND,void 0),r(!1)},d=()=>{e!=="ol"?t.dispatchCommand(on.INSERT_ORDERED_LIST_COMMAND,void 0):t.dispatchCommand(on.REMOVE_LIST_COMMAND,void 0),r(!1)},g=()=>{e!=="quote"&&t.update(()=>{const u=H.$getSelection();H.$isRangeSelection(u)&&Nt.$wrapNodes(u,()=>Nn.$createQuoteNode())}),r(!1)},c=()=>{e!=="code"&&t.update(()=>{const u=H.$getSelection();H.$isRangeSelection(u)&&Nt.$wrapNodes(u,()=>sn.$createCodeNode())}),r(!1)};return y.jsxs("div",{className:"dropdown",ref:i,children:[y.jsxs("button",{className:"item",onClick:o,children:[y.jsx(Jc,{className:"icon",size:20}),y.jsx("span",{className:"text",children:"Normal"}),e==="paragraph"&&y.jsx("span",{className:"active"})]}),y.jsxs("button",{className:"item",onClick:s,children:[y.jsx(Kc,{className:"icon",size:20}),y.jsx("span",{className:"text",children:"Large Heading"}),e==="h1"&&y.jsx("span",{className:"active"})]}),y.jsxs("button",{className:"item",onClick:l,children:[y.jsx(Wc,{className:"icon",size:20}),y.jsx("span",{className:"text",children:"Small Heading"}),e==="h2"&&y.jsx("span",{className:"active"})]}),y.jsxs("button",{className:"item",onClick:a,children:[y.jsx(Yc,{className:"icon",size:20}),y.jsx("span",{className:"text",children:"Bullet List"}),e==="ul"&&y.jsx("span",{className:"active"})]}),y.jsxs("button",{className:"item",onClick:d,children:[y.jsx(Gc,{className:"icon",size:20}),y.jsx("span",{className:"text",children:"Numbered List"}),e==="ol"&&y.jsx("span",{className:"active"})]}),y.jsxs("button",{className:"item",onClick:g,children:[y.jsx(Vc,{className:"icon",size:20}),y.jsx("span",{className:"text",children:"Quote"}),e==="quote"&&y.jsx("span",{className:"active"})]}),y.jsxs("button",{className:"item",onClick:c,children:[y.jsx(qs,{className:"icon",size:20}),y.jsx("span",{className:"text",children:"Code Block"}),e==="code"&&y.jsx("span",{className:"active"})]})]})}),Vy=C.memo(()=>{const[t]=Ge.useLexicalComposerContext(),e=C.useRef(null),[n,r]=C.useState(!1),[i,o]=C.useState(!1),[s,l]=C.useState("paragraph"),[a,d]=C.useState(null),[g,c]=C.useState(!1),[u,f]=C.useState(""),[h,p]=C.useState(!1),[m,x]=C.useState(!1),[_,E]=C.useState(!1),[T,w]=C.useState(!1),[A,k]=C.useState(!1),[K,M]=C.useState(!1),[J,te]=C.useState(!1),se=C.useCallback(()=>{const I=H.$getSelection();if(H.$isRangeSelection(I)){const q=I.anchor.getNode(),Y=q.getKey()==="root"?q:q.getTopLevelElementOrThrow(),Se=Y.getKey();if(t.getElementByKey(Se)!==null)if(d(Se),on.$isListNode(Y)){const Ye=nt.$getNearestNodeOfType(q,on.ListNode),st=Ye?Ye.getTag():Y.getTag();l(st)}else{const Ye=Nn.$isHeadingNode(Y)?Y.getTag():Y.getType();l(Ye),sn.$isCodeNode(Y)&&f(Y.getLanguage()||sn.getDefaultCodeLanguage())}E(I.hasFormat("bold")),w(I.hasFormat("italic")),k(I.hasFormat("underline")),M(I.hasFormat("strikethrough")),te(I.hasFormat("code")),p(Nt.$isParentElementRTL(I));const ye=bg(I),Ae=ye.getParent();Ct.$isLinkNode(Ae)||Ct.$isLinkNode(ye)?x(!0):x(!1)}},[t]);C.useEffect(()=>nt.mergeRegister(t.registerUpdateListener(({editorState:I})=>{I.read(()=>{se()})}),t.registerCommand(H.SELECTION_CHANGE_COMMAND,(I,q)=>(se(),!1),io),t.registerCommand(H.CAN_UNDO_COMMAND,I=>(r(I),!1),io),t.registerCommand(H.CAN_REDO_COMMAND,I=>(o(I),!1),io)),[t,se]);const ot=C.useMemo(()=>sn.getCodeLanguages(),[]),dt=C.useCallback(I=>{t.update(()=>{if(a!==null){const q=H.$getNodeByKey(a);sn.$isCodeNode(q)&&q.setLanguage(I.target.value)}})},[t,a]),ft=C.useCallback(()=>{m?t.dispatchCommand(Ct.TOGGLE_LINK_COMMAND,null):t.dispatchCommand(Ct.TOGGLE_LINK_COMMAND,"https://")},[t,m]),[Ke,_e]=C.useState(null);return C.useEffect(()=>{const I=document.getElementsByClassName("editor-container")[0],q=document.createElement("div");return I.prepend(q),_e(q),()=>{I.removeChild(q)}},[]),y.jsxs("div",{className:"toolbar",ref:e,children:[y.jsx("button",{disabled:!n,onClick:()=>{t.dispatchCommand(H.UNDO_COMMAND,void 0)},className:"toolbar-item spaced","aria-label":"Undo",children:y.jsx(Np,{className:"format",size:20})}),y.jsx("button",{disabled:!i,onClick:()=>{t.dispatchCommand(H.REDO_COMMAND,void 0)},className:"toolbar-item","aria-label":"Redo",children:y.jsx(mp,{className:"format",size:20})}),y.jsx(mc,{}),Hy.has(s)&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{className:"toolbar-item block-controls",onClick:()=>c(!g),"aria-label":"Formatting Options",children:[s==="h1"?y.jsx(Kc,{className:"icon",size:20}):s==="h2"?y.jsx(Wc,{className:"icon",size:20}):s==="h3"?y.jsx(dp,{className:"icon",size:20}):s==="h4"?y.jsx(fp,{className:"icon",size:20}):s==="h5"?y.jsx(gp,{className:"icon",size:20}):s==="code"?y.jsx(qs,{className:"icon",size:20}):s==="paragraph"?y.jsx(Jc,{className:"icon",size:20}):s==="ol"?y.jsx(Gc,{className:"icon",size:20}):s==="ul"?y.jsx(Yc,{className:"icon",size:20}):s==="quote"?y.jsx(Vc,{className:"icon",size:20}):y.jsx(y.Fragment,{}),y.jsx("span",{className:"text",children:Ky[s]}),y.jsx(Hc,{size:20})]}),g&&Gs.createPortal(y.jsx(Yy,{editor:t,blockType:s,toolbarRef:e,setShowBlockOptionsDropDown:c}),Ke),y.jsx(mc,{})]}),s==="code"?y.jsxs(y.Fragment,{children:[y.jsx(Gy,{className:"toolbar-item code-language",onChange:dt,options:ot,value:u}),y.jsx("i",{className:"chevron-down inside"})]}):y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>{t.dispatchCommand(H.FORMAT_TEXT_COMMAND,"bold")},className:"toolbar-item spaced "+(_?"active":""),"aria-label":"Format Bold",children:y.jsx(up,{className:"format",size:20})}),y.jsx("button",{onClick:()=>{t.dispatchCommand(H.FORMAT_TEXT_COMMAND,"italic")},className:"toolbar-item spaced "+(T?"active":""),"aria-label":"Format Italics",children:y.jsx(hp,{className:"format",size:20})}),y.jsx("button",{onClick:()=>{t.dispatchCommand(H.FORMAT_TEXT_COMMAND,"underline")},className:"toolbar-item spaced "+(A?"active":""),"aria-label":"Format Underline",children:y.jsx(xp,{className:"format",size:20})}),y.jsx("button",{onClick:()=>{t.dispatchCommand(H.FORMAT_TEXT_COMMAND,"strikethrough")},className:"toolbar-item spaced "+(K?"active":""),"aria-label":"Format Strikethrough",children:y.jsx(Ep,{className:"format",size:20})}),y.jsx("button",{onClick:()=>{t.dispatchCommand(H.FORMAT_TEXT_COMMAND,"code")},className:"toolbar-item spaced "+(J?"active":""),"aria-label":"Insert Code",children:y.jsx(qs,{className:"format",size:20})}),y.jsx("button",{onClick:ft,className:"toolbar-item spaced "+(m?"active":""),"aria-label":"Insert Link",children:y.jsx(pp,{className:"format",size:20})}),m&&Gs.createPortal(y.jsx(Wy,{editor:t}),document.body)," "]})]})});function Jy(){const[t]=Ge.useLexicalComposerContext();return C.useEffect(()=>sn.registerCodeHighlighting(t),[t]),null}const Xy={ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph",quote:"editor-quote",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3",h4:"editor-heading-h4",h5:"editor-heading-h5"},list:{nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul",listitem:"editor-listitem"},image:"editor-image",link:"editor-link",text:{bold:"editor-text-bold",italic:"editor-text-italic",overflowed:"editor-text-overflowed",hashtag:"editor-text-hashtag",underline:"editor-text-underline",strikethrough:"editor-text-strikethrough",underlineStrikethrough:"editor-text-underlineStrikethrough",code:"editor-text-code"},code:"editor-code",codeHighlight:{atrule:"editor-tokenAttr",attr:"editor-tokenAttr",boolean:"editor-tokenProperty",builtin:"editor-tokenSelector",cdata:"editor-tokenComment",char:"editor-tokenSelector",class:"editor-tokenFunction","class-name":"editor-tokenFunction",comment:"editor-tokenComment",constant:"editor-tokenProperty",deleted:"editor-tokenProperty",doctype:"editor-tokenComment",entity:"editor-tokenOperator",function:"editor-tokenFunction",important:"editor-tokenVariable",inserted:"editor-tokenSelector",keyword:"editor-tokenAttr",namespace:"editor-tokenVariable",number:"editor-tokenProperty",operator:"editor-tokenOperator",prolog:"editor-tokenComment",property:"editor-tokenProperty",punctuation:"editor-tokenPunctuation",regex:"editor-tokenVariable",selector:"editor-tokenSelector",string:"editor-tokenSelector",symbol:"editor-tokenProperty",tag:"editor-tokenProperty",url:"editor-tokenOperator",variable:"editor-tokenVariable"}};function qy(){return y.jsx("div",{className:"editor-placeholder",id:"editor-placeholder",children:"Enter message..."})}const Zy=C.memo(({roomID:t,htmlMessage:e,plainMessage:n})=>{const r=Or(t||""),[i]=Ge.useLexicalComposerContext();return y.jsx(_p,{size:45,stroke:"unset",className:"stroke-slate-600 rounded m-4 hover:bg-slate-300 hover:stroke-slate-500 p-2 cursor-pointer",onClick:async()=>{if(r&&(console.log("Sending message to: ",t),!(e===""&&n==="")))if(e!=='<p class="editor-paragraph"><br></p>')try{await r.sendHtmlMessage(e,n),i.dispatchCommand(H.CLEAR_EDITOR_COMMAND,void 0),localStorage.removeItem(`editor-${t}`)}catch(o){console.log(o)}else try{await r.sendTextMessage(n),i.dispatchCommand(H.CLEAR_EDITOR_COMMAND,void 0),localStorage.removeItem(`editor-${t}`)}catch(o){console.log(o)}}})}),Qy=({roomID:t})=>{const[e]=Ge.useLexicalComposerContext(),{pathname:n}=Ko(),[r,i]=C.useState(void 0);return C.useEffect(()=>{if(t){if(t!==r){console.log("Saving editor state");const s=e.getEditorState();localStorage.setItem(`editor-${r}`,JSON.stringify(s.toJSON()))}i(t);const o=localStorage.getItem(`editor-${t}`);if(o){const s=e.parseEditorState(o);e.setEditorState(s)}else e.dispatchCommand(H.CLEAR_EDITOR_COMMAND,void 0)}},[n,t]),y.jsx(y.Fragment,{})},e0=C.memo(({namespace:t,roomID:e})=>{const[n,r]=C.useState(""),[i,o]=C.useState(""),s={namespace:t,theme:Xy,onError:l=>console.error(l),nodes:[Nn.HeadingNode,on.ListNode,on.ListItemNode,Nn.QuoteNode,sn.CodeNode,sn.CodeHighlightNode,ws.TableNode,ws.TableCellNode,ws.TableRowNode,Ct.AutoLinkNode,Ct.LinkNode]};return y.jsx("div",{className:"flex flex-row items-end",children:y.jsxs(ym.LexicalComposer,{initialConfig:s,children:[y.jsxs("div",{className:"editor-container flex-1",children:[y.jsx(Vy,{}),y.jsxs("div",{className:"editor-inner",children:[y.jsx(t_.RichTextPlugin,{contentEditable:y.jsx(o_.ContentEditable,{className:"editor-input",ariaLabelledBy:"editor-placeholder"}),placeholder:y.jsx(qy,{}),ErrorBoundary:T_}),y.jsx(y_.OnChangePlugin,{onChange:(l,a)=>{l.read(()=>{const d=cf.$generateHtmlFromNodes(a);r(d);const g=to.$convertToMarkdownString(to.TRANSFORMERS);o(g)})}}),y.jsx(h_.HistoryPlugin,{}),y.jsx(M_.LinkPlugin,{}),y.jsx(Jy,{}),y.jsx(zy,{}),y.jsx(Ry.MarkdownShortcutPlugin,{transformers:to.TRANSFORMERS}),y.jsx(ky.ClearEditorPlugin,{}),y.jsx(Qy,{roomID:e})]})]}),y.jsx(Zy,{roomID:e,htmlMessage:n,plainMessage:i})]})})}),wl=new Map,zi=new WeakMap;let yc=0,t0;function n0(t){return t?(zi.has(t)||(yc+=1,zi.set(t,yc.toString())),zi.get(t)):"0"}function r0(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?n0(t.root):t[e]}`).toString()}function i0(t){let e=r0(t),n=wl.get(e);if(!n){const r=new Map;let i;const o=new IntersectionObserver(s=>{s.forEach(l=>{var a;const d=l.isIntersecting&&i.some(g=>l.intersectionRatio>=g);t.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=d),(a=r.get(l.target))==null||a.forEach(g=>{g(d,l)})})},t);i=o.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:o,elements:r},wl.set(e,n)}return n}function o0(t,e,n={},r=t0){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const a=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}const{id:i,observer:o,elements:s}=i0(n);let l=s.get(t)||[];return s.has(t)||s.set(t,l),l.push(e),o.observe(t),function(){l.splice(l.indexOf(e),1),l.length===0&&(s.delete(t),o.unobserve(t)),s.size===0&&(o.disconnect(),wl.delete(i))}}function s0({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:o,skip:s,initialInView:l,fallbackInView:a,onChange:d}={}){var g;const[c,u]=C.useState(null),f=C.useRef(),[h,p]=C.useState({inView:!!l,entry:void 0});f.current=d,C.useEffect(()=>{if(s||!c)return;let E;return E=o0(c,(T,w)=>{p({inView:T,entry:w}),f.current&&f.current(T,w),w.isIntersecting&&o&&E&&(E(),E=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},a),()=>{E&&E()}},[Array.isArray(t)?t.toString():t,c,i,r,o,s,n,a,e]);const m=(g=h.entry)==null?void 0:g.target,x=C.useRef();!c&&m&&!o&&!s&&x.current!==m&&(x.current=m,p({inView:!!l,entry:void 0}));const _=[u,h.inView,h.entry];return _.ref=_[0],_.inView=_[1],_.entry=_[2],_}const l0=C.memo(({roomId:t,avatarUrl:e,displayname:n,dm:r=!1,online:i=!1,active:o=!1,onClick:s,hidden:l})=>{const a=C.useContext(er),{ref:d,inView:g}=s0({triggerOnce:!0,rootMargin:"200px 0px",skip:l,onChange(c){c?a.addInViewRoom(t):a.removeInViewRoom(t)}});return y.jsx("div",{ref:d,onClick:s,className:"w-full cursor-pointer",children:g&&(o?y.jsxs("div",{className:"flex flex-row gap-2 p-1 bg-gray-300 hover:bg-gray-400 rounded-lg duration-200 ease-in-out items-center",children:[y.jsx(jt,{avatarUrl:e,displayname:n,dm:r,online:i}),y.jsx("span",{title:n,className:"text-slate-900 font-normal text-base max-w-[32ch] overflow-hidden text-ellipsis w-full whitespace-nowrap",children:n})]}):y.jsxs("div",{className:"flex flex-row gap-2 p-1 hover:bg-gray-300 rounded-lg duration-200 ease-in-out items-center",children:[y.jsx(jt,{avatarUrl:e,displayname:n,dm:r,online:i}),y.jsx("span",{title:n,className:"text-slate-900 font-normal text-base max-w-[32ch] overflow-hidden text-ellipsis w-full whitespace-nowrap",children:n})]}))})});const a0=C.memo(({sectionID:t,rooms:e,onClick:n,activeRoom:r,hidden:i})=>{const o=e.map(s=>y.jsx(l0,{roomId:s.roomID,hidden:i,avatarUrl:s.avatarUrl,displayname:s.displayname,dm:s.dm,online:s.online,active:s.roomID===r,onClick:()=>{n(s.roomID)}},`${s.roomID}+${t}`));return y.jsx(y.Fragment,{children:o})}),Rl=C.memo(({section:t,onRoomClick:e,activeRoom:n})=>{const[r,i]=C.useState(!0),o=C.useContext(er);return r?o.removeSpaceOpen(t.roomID):o.addSpaceOpen(t.roomID),y.jsxs("div",{className:"flex flex-col gap-1 pl-4 select-none",children:[y.jsxs("div",{className:"flex flex-row gap-2 py-1 items-center justify-start cursor-pointer h-8 text-slate-600",onClick:()=>i(s=>!s),children:[r?y.jsx(cp,{size:14}):y.jsx(Hc,{size:14}),y.jsx("span",{className:"font-normal text-base capitalize max-w-[32ch] overflow-hidden text-ellipsis w-full whitespace-nowrap",children:t.sectionName})]}),!r&&y.jsx(a0,{hidden:r,sectionID:t.roomID,rooms:t.rooms,onClick:e,activeRoom:n}),!r&&t.subsections.map(s=>y.jsx(Rl,{section:s,onRoomClick:e,activeRoom:n},s.roomID))]},t.roomID)}),u0=C.memo(({sections:t,rooms:e})=>{const[n,r]=C.useState(void 0),i=jc();return y.jsxs("div",{className:"flex flex-col gap-1 flex-1 p-2 min-w-[30ch] overflow-y-auto overflow-x-hidden scrollbarSmall max-w-[33ch]",children:[t.map(o=>y.jsx(Rl,{section:o,onRoomClick:s=>{r(s),i(`/${encodeURIComponent(s)}`)},activeRoom:n},o.roomID)),y.jsx(Rl,{section:{sectionName:"Others",roomID:"other",subsections:[],rooms:e},onRoomClick:o=>{r(o),i(`/${encodeURIComponent(o)}`)},activeRoom:n})]})});const c0="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",d0="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Qn=(t,e)=>{for(const n in e)t[n]=e[n];return t},Ol="numeric",$l="ascii",Dl="alpha",oo="asciinumeric",Hi="alphanumeric",kl="domain",Ig="emoji",f0="scheme",g0="slashscheme",Ec="whitespace";function h0(t,e){return t in e||(e[t]=[]),e[t]}function Un(t,e,n){e[Ol]&&(e[oo]=!0,e[Hi]=!0),e[$l]&&(e[oo]=!0,e[Dl]=!0),e[oo]&&(e[Hi]=!0),e[Dl]&&(e[Hi]=!0),e[Hi]&&(e[kl]=!0),e[Ig]&&(e[kl]=!0);for(const r in e){const i=h0(r,n);i.indexOf(t)<0&&i.push(t)}}function p0(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function ht(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}ht.groups={};ht.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(t))return o}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||ht.groups;let i;return e&&e.j?i=e:(i=new ht(e),n&&r&&Un(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const o=t.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(t[s]);return i.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||ht.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let s,l=i.go(t);if(l?(s=new ht,Qn(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new ht,o){if(r)if(s.t&&typeof s.t=="string"){const a=Qn(p0(s.t,r),n);Un(o,a,r)}else n&&Un(o,n,r);s.t=o}return i.j[t]=s,s}};const U=(t,e,n,r,i)=>t.ta(e,n,r,i),yt=(t,e,n,r,i)=>t.tr(e,n,r,i),xc=(t,e,n,r,i)=>t.ts(e,n,r,i),D=(t,e,n,r,i)=>t.tt(e,n,r,i),tn="WORD",Ll="UWORD",Ni="LOCALHOST",Ml="TLD",bl="UTLD",so="SCHEME",gr="SLASH_SCHEME",La="NUM",Pg="WS",Ma="NL",_r="OPENBRACE",ri="OPENBRACKET",ii="OPENANGLEBRACKET",oi="OPENPAREN",Fn="CLOSEBRACE",yr="CLOSEBRACKET",Er="CLOSEANGLEBRACKET",Bn="CLOSEPAREN",Ro="AMPERSAND",Oo="APOSTROPHE",$o="ASTERISK",pn="AT",Do="BACKSLASH",ko="BACKTICK",Lo="CARET",mn="COLON",ba="COMMA",Mo="DOLLAR",Pt="DOT",bo="EQUALS",Ia="EXCLAMATION",Ft="HYPHEN",Io="PERCENT",Po="PIPE",Fo="PLUS",Bo="POUND",Uo="QUERY",Pa="QUOTE",Fa="SEMI",Bt="SLASH",si="TILDE",jo="UNDERSCORE",Fg="EMOJI",zo="SYM";var Bg=Object.freeze({__proto__:null,WORD:tn,UWORD:Ll,LOCALHOST:Ni,TLD:Ml,UTLD:bl,SCHEME:so,SLASH_SCHEME:gr,NUM:La,WS:Pg,NL:Ma,OPENBRACE:_r,OPENBRACKET:ri,OPENANGLEBRACKET:ii,OPENPAREN:oi,CLOSEBRACE:Fn,CLOSEBRACKET:yr,CLOSEANGLEBRACKET:Er,CLOSEPAREN:Bn,AMPERSAND:Ro,APOSTROPHE:Oo,ASTERISK:$o,AT:pn,BACKSLASH:Do,BACKTICK:ko,CARET:Lo,COLON:mn,COMMA:ba,DOLLAR:Mo,DOT:Pt,EQUALS:bo,EXCLAMATION:Ia,HYPHEN:Ft,PERCENT:Io,PIPE:Po,PLUS:Fo,POUND:Bo,QUERY:Uo,QUOTE:Pa,SEMI:Fa,SLASH:Bt,TILDE:si,UNDERSCORE:jo,EMOJI:Fg,SYM:zo});const cr=/[a-z]/,bs=/\p{L}/u,Is=/\p{Emoji}/u,Ps=/\d/,Nc=/\s/,Cc=`
`,m0="️",_0="‍";let Ki=null,Wi=null;function y0(t){t===void 0&&(t=[]);const e={};ht.groups=e;const n=new ht;Ki==null&&(Ki=vc(c0)),Wi==null&&(Wi=vc(d0)),D(n,"'",Oo),D(n,"{",_r),D(n,"[",ri),D(n,"<",ii),D(n,"(",oi),D(n,"}",Fn),D(n,"]",yr),D(n,">",Er),D(n,")",Bn),D(n,"&",Ro),D(n,"*",$o),D(n,"@",pn),D(n,"`",ko),D(n,"^",Lo),D(n,":",mn),D(n,",",ba),D(n,"$",Mo),D(n,".",Pt),D(n,"=",bo),D(n,"!",Ia),D(n,"-",Ft),D(n,"%",Io),D(n,"|",Po),D(n,"+",Fo),D(n,"#",Bo),D(n,"?",Uo),D(n,'"',Pa),D(n,"/",Bt),D(n,";",Fa),D(n,"~",si),D(n,"_",jo),D(n,"\\",Do);const r=yt(n,Ps,La,{[Ol]:!0});yt(r,Ps,r);const i=yt(n,cr,tn,{[$l]:!0});yt(i,cr,i);const o=yt(n,bs,Ll,{[Dl]:!0});yt(o,cr),yt(o,bs,o);const s=yt(n,Nc,Pg,{[Ec]:!0});D(n,Cc,Ma,{[Ec]:!0}),D(s,Cc),yt(s,Nc,s);const l=yt(n,Is,Fg,{[Ig]:!0});yt(l,Is,l),D(l,m0,l);const a=D(l,_0);yt(a,Is,l);const d=[[cr,i]],g=[[cr,null],[bs,o]];for(let c=0;c<Ki.length;c++)gn(n,Ki[c],Ml,tn,d);for(let c=0;c<Wi.length;c++)gn(n,Wi[c],bl,Ll,g);Un(Ml,{tld:!0,ascii:!0},e),Un(bl,{utld:!0,alpha:!0},e),gn(n,"file",so,tn,d),gn(n,"mailto",so,tn,d),gn(n,"http",gr,tn,d),gn(n,"https",gr,tn,d),gn(n,"ftp",gr,tn,d),gn(n,"ftps",gr,tn,d),Un(so,{scheme:!0,ascii:!0},e),Un(gr,{slashscheme:!0,ascii:!0},e),t=t.sort((c,u)=>c[0]>u[0]?1:-1);for(let c=0;c<t.length;c++){const u=t[c][0],h=t[c][1]?{[f0]:!0}:{[g0]:!0};u.indexOf("-")>=0?h[kl]=!0:cr.test(u)?Ps.test(u)?h[oo]=!0:h[$l]=!0:h[Ol]=!0,xc(n,u,u,h)}return xc(n,"localhost",Ni,{ascii:!0}),n.jd=new ht(zo),{start:n,tokens:Qn({groups:e},Bg)}}function E0(t,e){const n=x0(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let o=0,s=0;for(;s<r;){let l=t,a=null,d=0,g=null,c=-1,u=-1;for(;s<r&&(a=l.go(n[s]));)l=a,l.accepts()?(c=0,u=0,g=l):c>=0&&(c+=n[s].length,u++),d+=n[s].length,o+=n[s].length,s++;o-=c,s-=u,d-=c,i.push({t:g.t,v:e.slice(o-d,o),s:o-d,e:o})}return i}function x0(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),o,s=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}function gn(t,e,n,r,i){let o;const s=e.length;for(let l=0;l<s-1;l++){const a=e[l];t.j[a]?o=t.j[a]:(o=new ht(r),o.jr=i.slice(),t.j[a]=o),t=o}return o=new ht(n),o.jr=i.slice(),t.j[e[s-1]]=o,o}function vc(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let o=0;for(;i.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let s=parseInt(t.substring(r,r+o),10);s>0;s--)n.pop();r+=o}else n.push(t[r]),r++}return e}const Rr={defaultProtocol:"http",events:null,format:Tc,formatHref:Tc,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ss(t,e){e===void 0&&(e=null);let n=Qn({},Rr);t&&(n=Qn(n,t instanceof ss?t.o:t));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}ss.prototype={o:Rr,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Rr[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Tc(t){return t}var Ug=Object.freeze({__proto__:null,defaults:Rr,Options:ss,assign:Qn});function jg(t,e){this.t="token",this.v=t,this.tk=e}jg.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=Rr.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),s={},l=t.get("className",n,e),a=t.get("target",n,e),d=t.get("rel",n,e),g=t.getObj("attributes",n,e),c=t.getObj("events",n,e);return s.href=r,l&&(s.class=l),a&&(s.target=a),d&&(s.rel=d),g&&Qn(s,g),{tagName:i,attributes:s,content:o,eventListeners:c}}};function ls(t,e){class n extends jg{constructor(i,o){super(i,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Sc=ls("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Ac=ls("text"),N0=ls("nl"),Mn=ls("url",{isLink:!0,toHref(t){return t===void 0&&(t=Rr.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Ni&&t[1].t===mn}}),$e=t=>new ht(t);function C0(t){let{groups:e}=t;const n=e.domain.concat([Ro,$o,pn,Do,ko,Lo,Mo,bo,Ft,La,Io,Po,Fo,Bo,Bt,zo,si,jo]),r=[Oo,Er,Fn,yr,Bn,mn,ba,Pt,Ia,ii,_r,ri,oi,Uo,Pa,Fa],i=[Ro,Oo,$o,Do,ko,Lo,Fn,Mo,bo,Ft,_r,Io,Po,Fo,Bo,Uo,Bt,zo,si,jo],o=$e(),s=D(o,si);U(s,i,s),U(s,e.domain,s);const l=$e(),a=$e(),d=$e();U(o,e.domain,l),U(o,e.scheme,a),U(o,e.slashscheme,d),U(l,i,s),U(l,e.domain,l);const g=D(l,pn);D(s,pn,g),D(a,pn,g),D(d,pn,g);const c=D(s,Pt);U(c,i,s),U(c,e.domain,s);const u=$e();U(g,e.domain,u),U(u,e.domain,u);const f=D(u,Pt);U(f,e.domain,u);const h=$e(Sc);U(f,e.tld,h),U(f,e.utld,h),D(g,Ni,h);const p=D(u,Ft);U(p,e.domain,u),U(h,e.domain,u),D(h,Pt,f),D(h,Ft,p);const m=D(h,mn);U(m,e.numeric,Sc);const x=D(l,Ft),_=D(l,Pt);U(x,e.domain,l),U(_,i,s),U(_,e.domain,l);const E=$e(Mn);U(_,e.tld,E),U(_,e.utld,E),U(E,e.domain,l),U(E,i,s),D(E,Pt,_),D(E,Ft,x),D(E,pn,g);const T=D(E,mn),w=$e(Mn);U(T,e.numeric,w);const A=$e(Mn),k=$e();U(A,n,A),U(A,r,k),U(k,n,A),U(k,r,k),D(E,Bt,A),D(w,Bt,A);const K=D(a,mn),M=D(d,mn),J=D(M,Bt),te=D(J,Bt);U(a,e.domain,l),D(a,Pt,_),D(a,Ft,x),U(d,e.domain,l),D(d,Pt,_),D(d,Ft,x),U(K,e.domain,A),D(K,Bt,A),U(te,e.domain,A),U(te,n,A),D(te,Bt,A);const se=D(A,_r),ot=D(A,ri),dt=D(A,ii),ft=D(A,oi);D(k,_r,se),D(k,ri,ot),D(k,ii,dt),D(k,oi,ft),D(se,Fn,A),D(ot,yr,A),D(dt,Er,A),D(ft,Bn,A),D(se,Fn,A);const Ke=$e(Mn),_e=$e(Mn),I=$e(Mn),q=$e(Mn);U(se,n,Ke),U(ot,n,_e),U(dt,n,I),U(ft,n,q);const Y=$e(),Se=$e(),W=$e(),ye=$e();return U(se,r),U(ot,r),U(dt,r),U(ft,r),U(Ke,n,Ke),U(_e,n,_e),U(I,n,I),U(q,n,q),U(Ke,r,Ke),U(_e,r,_e),U(I,r,I),U(q,r,q),U(Y,n,Y),U(Se,n,_e),U(W,n,I),U(ye,n,q),U(Y,r,Y),U(Se,r,Se),U(W,r,W),U(ye,r,ye),D(_e,yr,A),D(I,Er,A),D(q,Bn,A),D(Ke,Fn,A),D(Se,yr,A),D(W,Er,A),D(ye,Bn,A),D(Y,Bn,A),D(o,Ni,E),D(o,Ma,N0),{start:o,tokens:Bg}}function v0(t,e,n){let r=n.length,i=0,o=[],s=[];for(;i<r;){let l=t,a=null,d=null,g=0,c=null,u=-1;for(;i<r&&!(a=l.go(n[i].t));)s.push(n[i++]);for(;i<r&&(d=a||l.go(n[i].t));)a=null,l=d,l.accepts()?(u=0,c=l):u>=0&&u++,i++,g++;if(u<0)i-=g,i<r&&(s.push(n[i]),i++);else{s.length>0&&(o.push(Fs(Ac,e,s)),s=[]),i-=u,g-=u;const f=c.t,h=n.slice(i-g,i);o.push(Fs(f,e,h))}}return s.length>0&&o.push(Fs(Ac,e,s)),o}function Fs(t,e,n){const r=n[0].s,i=n[n.length-1].e,o=e.slice(r,i);return new t(o,n)}const Xe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function T0(){Xe.scanner=y0(Xe.customSchemes);for(let t=0;t<Xe.tokenQueue.length;t++)Xe.tokenQueue[t][1]({scanner:Xe.scanner});Xe.parser=C0(Xe.scanner.tokens);for(let t=0;t<Xe.pluginQueue.length;t++)Xe.pluginQueue[t][1]({scanner:Xe.scanner,parser:Xe.parser});Xe.initialized=!0}function S0(t){return Xe.initialized||T0(),v0(Xe.parser.start,t,E0(Xe.scanner.start,t))}function A0(t,e,n){const r=S0(t),i=[];for(let o=0;o<r.length;o++){const s=r[o];if(s.t==="nl"&&e.get("nl2br")){const l=`__linkify-el-${n.elementId++}`;i.push(C.createElement("br",{key:l}))}else if(!s.isLink||!e.check(s))i.push(s.toString());else{let l=e.render(s);if(!("key"in l.props)){const a=`__linkify-el-${n.elementId++}`,d=Ug.assign({key:a},l.props);l=C.cloneElement(l,d)}i.push(l)}}return i}function zg(t,e,n){if(C.Children.count(t.props.children)===0)return t;const r=[];C.Children.forEach(t.props.children,s=>{typeof s=="string"?r.push.apply(r,A0(s,e,n)):C.isValidElement(s)?typeof s.type=="string"&&e.ignoreTags.indexOf(s.type.toUpperCase())>=0?r.push(s):r.push(zg(s,e,n)):r.push(s)});const i=`__linkify-el-${n.elementId++}`,o=Ug.assign({key:i},t.props);return C.cloneElement(t,o,r)}const Ci=t=>{let e=0;const n=a=>{let{tagName:d,attributes:g,content:c}=a;return g.key=`__linkify-lnk-${e++}`,g.class&&(g.className=g.class,delete g.class),C.createElement(d,g,c)},r={key:"__linkify-wrapper"};for(const a in t)a!=="options"&&a!=="as"&&a!=="tagName"&&a!=="children"&&(r[a]=t[a]);const i=new ss(t.options,n),o=t.as||t.tagName||C.Fragment||"span",s=t.children,l=C.createElement(o,r,s);return zg(l,i,{elementId:0})};/*! @license DOMPurify 3.0.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.2/LICENSE */const{entries:Hg,setPrototypeOf:wc,isFrozen:w0,getPrototypeOf:R0,getOwnPropertyDescriptor:O0}=Object;let{freeze:rt,seal:kt,create:$0}=Object,{apply:Il,construct:Pl}=typeof Reflect<"u"&&Reflect;Il||(Il=function(e,n,r){return e.apply(n,r)});rt||(rt=function(e){return e});kt||(kt=function(e){return e});Pl||(Pl=function(e,n){return new e(...n)});const D0=St(Array.prototype.forEach),Rc=St(Array.prototype.pop),zr=St(Array.prototype.push),lo=St(String.prototype.toLowerCase),Bs=St(String.prototype.toString),k0=St(String.prototype.match),$t=St(String.prototype.replace),L0=St(String.prototype.indexOf),M0=St(String.prototype.trim),gt=St(RegExp.prototype.test),Us=b0(TypeError);function St(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Il(t,e,r)}}function b0(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Pl(t,n)}}function X(t,e,n){n=n||lo,wc&&wc(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(w0(e)||(e[r]=o),i=o)}t[i]=!0}return t}function dr(t){const e=$0(null);for(const[n,r]of Hg(t))e[n]=r;return e}function Gi(t,e){for(;t!==null;){const r=O0(t,e);if(r){if(r.get)return St(r.get);if(typeof r.value=="function")return St(r.value)}t=R0(t)}function n(r){return console.warn("fallback value for",r),null}return n}const Oc=rt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),js=rt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zs=rt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I0=rt(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Hs=rt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),P0=rt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$c=rt(["#text"]),Dc=rt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ks=rt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),kc=rt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yi=rt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),F0=kt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),B0=kt(/<%[\w\W]*|[\w\W]*%>/gm),U0=kt(/\${[\w\W]*}/gm),j0=kt(/^data-[\-\w.\u00B7-\uFFFF]/),z0=kt(/^aria-[\-\w]+$/),Kg=kt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),H0=kt(/^(?:\w+script|data):/i),K0=kt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Wg=kt(/^html$/i);var Lc=Object.freeze({__proto__:null,MUSTACHE_EXPR:F0,ERB_EXPR:B0,TMPLIT_EXPR:U0,DATA_ATTR:j0,ARIA_ATTR:z0,IS_ALLOWED_URI:Kg,IS_SCRIPT_OR_DATA:H0,ATTR_WHITESPACE:K0,DOCTYPE_NAME:Wg});const W0=()=>typeof window>"u"?null:window,G0=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function Gg(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W0();const e=j=>Gg(j);if(e.version="3.0.2",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;const n=t.document;let{document:r}=t;const{DocumentFragment:i,HTMLTemplateElement:o,Node:s,Element:l,NodeFilter:a,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:g,DOMParser:c,trustedTypes:u}=t,f=l.prototype,h=Gi(f,"cloneNode"),p=Gi(f,"nextSibling"),m=Gi(f,"childNodes"),x=Gi(f,"parentNode");if(typeof o=="function"){const j=r.createElement("template");j.content&&j.content.ownerDocument&&(r=j.content.ownerDocument)}const _=G0(u,n),E=_?_.createHTML(""):"",{implementation:T,createNodeIterator:w,createDocumentFragment:A,getElementsByTagName:k}=r,{importNode:K}=n;let M={};e.isSupported=typeof Hg=="function"&&typeof x=="function"&&T&&typeof T.createHTMLDocument<"u";const{MUSTACHE_EXPR:J,ERB_EXPR:te,TMPLIT_EXPR:se,DATA_ATTR:ot,ARIA_ATTR:dt,IS_SCRIPT_OR_DATA:ft,ATTR_WHITESPACE:Ke}=Lc;let{IS_ALLOWED_URI:_e}=Lc,I=null;const q=X({},[...Oc,...js,...zs,...Hs,...$c]);let Y=null;const Se=X({},[...Dc,...Ks,...kc,...Yi]);let W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ye=null,Ae=null,Ye=!0,st=!0,At=!1,wt=!0,lt=!1,Ee=!1,Lt=!1,Jt=!1,mt=!1,wn=!1,Rn=!1,le=!0,we=!1;const Ie="user-content-";let at=!0,Rt=!1,Ne={},Ce=null;const Ve=X({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ot=null;const Mt=X({},["audio","video","img","source","image","track"]);let Pe=null;const bt=X({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xt="http://www.w3.org/1998/Math/MathML",On="http://www.w3.org/2000/svg",qt="http://www.w3.org/1999/xhtml";let rr=qt,as=!1,us=null;const Vg=X({},[Xt,On,qt],Bs);let $n;const Jg=["application/xhtml+xml","text/html"],Xg="text/html";let Re,ir=null;const qg=r.createElement("form"),Ba=function(N){return N instanceof RegExp||N instanceof Function},cs=function(N){ir&&ir===N||((!N||typeof N!="object")&&(N={}),N=dr(N),$n=Jg.indexOf(N.PARSER_MEDIA_TYPE)===-1?$n=Xg:$n=N.PARSER_MEDIA_TYPE,Re=$n==="application/xhtml+xml"?Bs:lo,I="ALLOWED_TAGS"in N?X({},N.ALLOWED_TAGS,Re):q,Y="ALLOWED_ATTR"in N?X({},N.ALLOWED_ATTR,Re):Se,us="ALLOWED_NAMESPACES"in N?X({},N.ALLOWED_NAMESPACES,Bs):Vg,Pe="ADD_URI_SAFE_ATTR"in N?X(dr(bt),N.ADD_URI_SAFE_ATTR,Re):bt,Ot="ADD_DATA_URI_TAGS"in N?X(dr(Mt),N.ADD_DATA_URI_TAGS,Re):Mt,Ce="FORBID_CONTENTS"in N?X({},N.FORBID_CONTENTS,Re):Ve,ye="FORBID_TAGS"in N?X({},N.FORBID_TAGS,Re):{},Ae="FORBID_ATTR"in N?X({},N.FORBID_ATTR,Re):{},Ne="USE_PROFILES"in N?N.USE_PROFILES:!1,Ye=N.ALLOW_ARIA_ATTR!==!1,st=N.ALLOW_DATA_ATTR!==!1,At=N.ALLOW_UNKNOWN_PROTOCOLS||!1,wt=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,lt=N.SAFE_FOR_TEMPLATES||!1,Ee=N.WHOLE_DOCUMENT||!1,mt=N.RETURN_DOM||!1,wn=N.RETURN_DOM_FRAGMENT||!1,Rn=N.RETURN_TRUSTED_TYPE||!1,Jt=N.FORCE_BODY||!1,le=N.SANITIZE_DOM!==!1,we=N.SANITIZE_NAMED_PROPS||!1,at=N.KEEP_CONTENT!==!1,Rt=N.IN_PLACE||!1,_e=N.ALLOWED_URI_REGEXP||Kg,rr=N.NAMESPACE||qt,W=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&Ba(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&Ba(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),lt&&(st=!1),wn&&(mt=!0),Ne&&(I=X({},[...$c]),Y=[],Ne.html===!0&&(X(I,Oc),X(Y,Dc)),Ne.svg===!0&&(X(I,js),X(Y,Ks),X(Y,Yi)),Ne.svgFilters===!0&&(X(I,zs),X(Y,Ks),X(Y,Yi)),Ne.mathMl===!0&&(X(I,Hs),X(Y,kc),X(Y,Yi))),N.ADD_TAGS&&(I===q&&(I=dr(I)),X(I,N.ADD_TAGS,Re)),N.ADD_ATTR&&(Y===Se&&(Y=dr(Y)),X(Y,N.ADD_ATTR,Re)),N.ADD_URI_SAFE_ATTR&&X(Pe,N.ADD_URI_SAFE_ATTR,Re),N.FORBID_CONTENTS&&(Ce===Ve&&(Ce=dr(Ce)),X(Ce,N.FORBID_CONTENTS,Re)),at&&(I["#text"]=!0),Ee&&X(I,["html","head","body"]),I.table&&(X(I,["tbody"]),delete ye.tbody),rt&&rt(N),ir=N)},Ua=X({},["mi","mo","mn","ms","mtext"]),ja=X({},["foreignobject","desc","title","annotation-xml"]),Zg=X({},["title","style","font","a","script"]),Di=X({},js);X(Di,zs),X(Di,I0);const ds=X({},Hs);X(ds,P0);const Qg=function(N){let $=x(N);(!$||!$.tagName)&&($={namespaceURI:rr,tagName:"template"});const b=lo(N.tagName),ie=lo($.tagName);return us[N.namespaceURI]?N.namespaceURI===On?$.namespaceURI===qt?b==="svg":$.namespaceURI===Xt?b==="svg"&&(ie==="annotation-xml"||Ua[ie]):!!Di[b]:N.namespaceURI===Xt?$.namespaceURI===qt?b==="math":$.namespaceURI===On?b==="math"&&ja[ie]:!!ds[b]:N.namespaceURI===qt?$.namespaceURI===On&&!ja[ie]||$.namespaceURI===Xt&&!Ua[ie]?!1:!ds[b]&&(Zg[b]||!Di[b]):!!($n==="application/xhtml+xml"&&us[N.namespaceURI]):!1},Dn=function(N){zr(e.removed,{element:N});try{N.parentNode.removeChild(N)}catch{N.remove()}},fs=function(N,$){try{zr(e.removed,{attribute:$.getAttributeNode(N),from:$})}catch{zr(e.removed,{attribute:null,from:$})}if($.removeAttribute(N),N==="is"&&!Y[N])if(mt||wn)try{Dn($)}catch{}else try{$.setAttribute(N,"")}catch{}},za=function(N){let $,b;if(Jt)N="<remove></remove>"+N;else{const _t=k0(N,/^[\r\n\t ]+/);b=_t&&_t[0]}$n==="application/xhtml+xml"&&rr===qt&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const ie=_?_.createHTML(N):N;if(rr===qt)try{$=new c().parseFromString(ie,$n)}catch{}if(!$||!$.documentElement){$=T.createDocument(rr,"template",null);try{$.documentElement.innerHTML=as?E:ie}catch{}}const Oe=$.body||$.documentElement;return N&&b&&Oe.insertBefore(r.createTextNode(b),Oe.childNodes[0]||null),rr===qt?k.call($,Ee?"html":"body")[0]:Ee?$.documentElement:Oe},Ha=function(N){return w.call(N.ownerDocument||N,N,a.SHOW_ELEMENT|a.SHOW_COMMENT|a.SHOW_TEXT,null,!1)},eh=function(N){return N instanceof g&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof d)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},ki=function(N){return typeof s=="object"?N instanceof s:N&&typeof N=="object"&&typeof N.nodeType=="number"&&typeof N.nodeName=="string"},Zt=function(N,$,b){M[N]&&D0(M[N],ie=>{ie.call(e,$,b,ir)})},Ka=function(N){let $;if(Zt("beforeSanitizeElements",N,null),eh(N))return Dn(N),!0;const b=Re(N.nodeName);if(Zt("uponSanitizeElement",N,{tagName:b,allowedTags:I}),N.hasChildNodes()&&!ki(N.firstElementChild)&&(!ki(N.content)||!ki(N.content.firstElementChild))&&gt(/<[/\w]/g,N.innerHTML)&&gt(/<[/\w]/g,N.textContent))return Dn(N),!0;if(!I[b]||ye[b]){if(!ye[b]&&Ga(b)&&(W.tagNameCheck instanceof RegExp&&gt(W.tagNameCheck,b)||W.tagNameCheck instanceof Function&&W.tagNameCheck(b)))return!1;if(at&&!Ce[b]){const ie=x(N)||N.parentNode,Oe=m(N)||N.childNodes;if(Oe&&ie){const _t=Oe.length;for(let fe=_t-1;fe>=0;--fe)ie.insertBefore(h(Oe[fe],!0),p(N))}}return Dn(N),!0}return N instanceof l&&!Qg(N)||(b==="noscript"||b==="noembed")&&gt(/<\/no(script|embed)/i,N.innerHTML)?(Dn(N),!0):(lt&&N.nodeType===3&&($=N.textContent,$=$t($,J," "),$=$t($,te," "),$=$t($,se," "),N.textContent!==$&&(zr(e.removed,{element:N.cloneNode()}),N.textContent=$)),Zt("afterSanitizeElements",N,null),!1)},Wa=function(N,$,b){if(le&&($==="id"||$==="name")&&(b in r||b in qg))return!1;if(!(st&&!Ae[$]&&gt(ot,$))){if(!(Ye&&gt(dt,$))){if(!Y[$]||Ae[$]){if(!(Ga(N)&&(W.tagNameCheck instanceof RegExp&&gt(W.tagNameCheck,N)||W.tagNameCheck instanceof Function&&W.tagNameCheck(N))&&(W.attributeNameCheck instanceof RegExp&&gt(W.attributeNameCheck,$)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck($))||$==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&gt(W.tagNameCheck,b)||W.tagNameCheck instanceof Function&&W.tagNameCheck(b))))return!1}else if(!Pe[$]){if(!gt(_e,$t(b,Ke,""))){if(!(($==="src"||$==="xlink:href"||$==="href")&&N!=="script"&&L0(b,"data:")===0&&Ot[N])){if(!(At&&!gt(ft,$t(b,Ke,"")))){if(b)return!1}}}}}}return!0},Ga=function(N){return N.indexOf("-")>0},Ya=function(N){let $,b,ie,Oe;Zt("beforeSanitizeAttributes",N,null);const{attributes:_t}=N;if(!_t)return;const fe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y};for(Oe=_t.length;Oe--;){$=_t[Oe];const{name:It,namespaceURI:gs}=$;if(b=It==="value"?$.value:M0($.value),ie=Re(It),fe.attrName=ie,fe.attrValue=b,fe.keepAttr=!0,fe.forceKeepAttr=void 0,Zt("uponSanitizeAttribute",N,fe),b=fe.attrValue,fe.forceKeepAttr||(fs(It,N),!fe.keepAttr))continue;if(!wt&&gt(/\/>/i,b)){fs(It,N);continue}lt&&(b=$t(b,J," "),b=$t(b,te," "),b=$t(b,se," "));const Va=Re(N.nodeName);if(Wa(Va,ie,b)){if(we&&(ie==="id"||ie==="name")&&(fs(It,N),b=Ie+b),_&&typeof u=="object"&&typeof u.getAttributeType=="function"&&!gs)switch(u.getAttributeType(Va,ie)){case"TrustedHTML":b=_.createHTML(b);break;case"TrustedScriptURL":b=_.createScriptURL(b);break}try{gs?N.setAttributeNS(gs,It,b):N.setAttribute(It,b),Rc(e.removed)}catch{}}}Zt("afterSanitizeAttributes",N,null)},th=function j(N){let $;const b=Ha(N);for(Zt("beforeSanitizeShadowDOM",N,null);$=b.nextNode();)Zt("uponSanitizeShadowNode",$,null),!Ka($)&&($.content instanceof i&&j($.content),Ya($));Zt("afterSanitizeShadowDOM",N,null)};return e.sanitize=function(j){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$,b,ie,Oe;if(as=!j,as&&(j="<!-->"),typeof j!="string"&&!ki(j)){if(typeof j.toString!="function")throw Us("toString is not a function");if(j=j.toString(),typeof j!="string")throw Us("dirty is not a string, aborting")}if(!e.isSupported)return j;if(Lt||cs(N),e.removed=[],typeof j=="string"&&(Rt=!1),Rt){if(j.nodeName){const It=Re(j.nodeName);if(!I[It]||ye[It])throw Us("root node is forbidden and cannot be sanitized in-place")}}else if(j instanceof s)$=za("<!---->"),b=$.ownerDocument.importNode(j,!0),b.nodeType===1&&b.nodeName==="BODY"||b.nodeName==="HTML"?$=b:$.appendChild(b);else{if(!mt&&!lt&&!Ee&&j.indexOf("<")===-1)return _&&Rn?_.createHTML(j):j;if($=za(j),!$)return mt?null:Rn?E:""}$&&Jt&&Dn($.firstChild);const _t=Ha(Rt?j:$);for(;ie=_t.nextNode();)Ka(ie)||(ie.content instanceof i&&th(ie.content),Ya(ie));if(Rt)return j;if(mt){if(wn)for(Oe=A.call($.ownerDocument);$.firstChild;)Oe.appendChild($.firstChild);else Oe=$;return(Y.shadowroot||Y.shadowrootmod)&&(Oe=K.call(n,Oe,!0)),Oe}let fe=Ee?$.outerHTML:$.innerHTML;return Ee&&I["!doctype"]&&$.ownerDocument&&$.ownerDocument.doctype&&$.ownerDocument.doctype.name&&gt(Wg,$.ownerDocument.doctype.name)&&(fe="<!DOCTYPE "+$.ownerDocument.doctype.name+`>
`+fe),lt&&(fe=$t(fe,J," "),fe=$t(fe,te," "),fe=$t(fe,se," ")),_&&Rn?_.createHTML(fe):fe},e.setConfig=function(j){cs(j),Lt=!0},e.clearConfig=function(){ir=null,Lt=!1},e.isValidAttribute=function(j,N,$){ir||cs({});const b=Re(j),ie=Re(N);return Wa(b,ie,$)},e.addHook=function(j,N){typeof N=="function"&&(M[j]=M[j]||[],zr(M[j],N))},e.removeHook=function(j){if(M[j])return Rc(M[j])},e.removeHooks=function(j){M[j]&&(M[j]=[])},e.removeAllHooks=function(){M={}},e}var Y0=Gg();const Yg={defaultProtocol:"https",rel:"noopener",target:"_blank",className:"text-blue-500 hover:text-blue-700 active:text-blue-700 visited:text-blue-500"},V0=C.memo(({event:t,roomID:e,hasPreviousEvent:n})=>{const r=Or(e);return y.jsxs("div",{className:n?"flex flex-row p-2 pb-1 pt-0 hover:bg-gray-200 rounded-md duration-200 ease-in-out":"flex flex-row gap-4 p-2 pb-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out items-start",children:[!n&&y.jsx(jt,{displayname:r?.getMemberName(t.sender)||"",avatarUrl:r?.getMemberAvatar(t.sender),online:r?.isOnline()||!1,dm:r?.isDM()||!1}),y.jsxs("div",{className:n?"ml-[3.7rem]":"flex flex-col gap-1",children:[!n&&y.jsx("h2",{className:"text-sm font-medium text-red-500 whitespace-normal",children:r?.getMemberName(t.sender)}),y.jsx(Ci,{options:Yg,as:"p",className:"whitespace-break-spaces text-black text-base font-normal",children:JSON.stringify(t,null,4)})]})]})}),Fl=C.memo(({event:t,roomID:e,hasPreviousEvent:n})=>{const r=Or(e);return y.jsxs("div",{className:n?"flex flex-row p-2 pb-1 pt-0 hover:bg-gray-200 rounded-md duration-200 ease-in-out":"flex flex-row gap-4 p-2 pb-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out items-start",children:[!n&&y.jsx(jt,{displayname:r?.getMemberName(t.sender)||"",avatarUrl:r?.getMemberAvatar(t.sender),online:r?.isOnline()||!1,dm:r?.isDM()||!1}),y.jsxs("div",{className:n?"ml-[3.7rem]":"flex flex-col gap-1",children:[!n&&y.jsx("h2",{className:"text-sm font-medium text-red-500 whitespace-normal",children:r?.getMemberName(t.sender)}),y.jsx(Ci,{options:Yg,as:"p",className:"whitespace-normal text-base font-normal text-orange-600",children:"Unable to decrypt event"})]})]})});var Bl={},J0={get exports(){return Bl},set exports(t){Bl=t}};(function(t,e){(function(n){t.exports=n()})(function(){return function(){function n(r,i,o){function s(d,g){if(!i[d]){if(!r[d]){var c=typeof Li=="function"&&Li;if(!g&&c)return c(d,!0);if(l)return l(d,!0);var u=new Error("Cannot find module '"+d+"'");throw u.code="MODULE_NOT_FOUND",u}var f=i[d]={exports:{}};r[d][0].call(f.exports,function(h){var p=r[d][1][h];return s(p||h)},f,f.exports,n,r,i,o)}return i[d].exports}for(var l=typeof Li=="function"&&Li,a=0;a<o.length;a++)s(o[a]);return s}return n}()({1:[function(n,r,i){var o=this&&this.__awaiter||function(c,u,f,h){function p(m){return m instanceof f?m:new f(function(x){x(m)})}return new(f||(f=Promise))(function(m,x){function _(w){try{T(h.next(w))}catch(A){x(A)}}function E(w){try{T(h.throw(w))}catch(A){x(A)}}function T(w){w.done?m(w.value):p(w.value).then(_,E)}T((h=h.apply(c,u||[])).next())})},s=this&&this.__generator||function(c,u){var f={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},h,p,m,x;return x={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function _(T){return function(w){return E([T,w])}}function E(T){if(h)throw new TypeError("Generator is already executing.");for(;f;)try{if(h=1,p&&(m=T[0]&2?p.return:T[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,T[1])).done)return m;switch(p=0,m&&(T=[T[0]&2,m.value]),T[0]){case 0:case 1:m=T;break;case 4:return f.label++,{value:T[1],done:!1};case 5:f.label++,p=T[1],T=[0];continue;case 7:T=f.ops.pop(),f.trys.pop();continue;default:if(m=f.trys,!(m=m.length>0&&m[m.length-1])&&(T[0]===6||T[0]===2)){f=0;continue}if(T[0]===3&&(!m||T[1]>m[0]&&T[1]<m[3])){f.label=T[1];break}if(T[0]===6&&f.label<m[1]){f.label=m[1],m=T;break}if(m&&f.label<m[2]){f.label=m[2],f.ops.push(T);break}m[2]&&f.ops.pop(),f.trys.pop();continue}T=u.call(c,f)}catch(w){T=[6,w],p=0}finally{h=m=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.decodeBase64=i.encodeBase64=i.decryptAttachment=i.encryptAttachment=void 0;function l(c){return o(this,void 0,void 0,function(){var u,f,h,p,m;return s(this,function(x){switch(x.label){case 0:return u=new Uint8Array(16),window.crypto.getRandomValues(u.subarray(0,8)),[4,window.crypto.subtle.generateKey({name:"AES-CTR",length:256},!0,["encrypt","decrypt"])];case 1:return f=x.sent(),[4,window.crypto.subtle.exportKey("jwk",f)];case 2:return h=x.sent(),[4,window.crypto.subtle.encrypt({name:"AES-CTR",counter:u,length:64},f,c)];case 3:return p=x.sent(),[4,window.crypto.subtle.digest("SHA-256",p)];case 4:return m=x.sent(),[2,{data:p,info:{v:"v2",key:h,iv:d(u),hashes:{sha256:d(new Uint8Array(m))}}}]}})})}i.encryptAttachment=l;function a(c,u){return o(this,void 0,void 0,function(){var f,h,p,m,x;return s(this,function(_){switch(_.label){case 0:if(u===void 0||u.key===void 0||u.iv===void 0||u.hashes===void 0||u.hashes.sha256===void 0)throw new Error("Invalid info. Missing info.key, info.iv or info.hashes.sha256 key");if(u.v&&!u.v.match(/^v[1-2]$/))throw new Error("Unsupported protocol version: "+u.v);return f=g(u.iv),h=u.hashes.sha256,[4,window.crypto.subtle.importKey("jwk",u.key,{name:"AES-CTR"},!1,["encrypt","decrypt"])];case 1:return p=_.sent(),[4,window.crypto.subtle.digest("SHA-256",c)];case 2:if(m=_.sent(),d(new Uint8Array(m))!=h)throw new Error("Mismatched SHA-256 digest");return u.v=="v1"||u.v=="v2"?x=64:x=128,[2,window.crypto.subtle.decrypt({name:"AES-CTR",counter:f,length:x},p,c)]}})})}i.decryptAttachment=a;function d(c){var u=String.fromCharCode.apply(null,c),f=window.btoa(u),h=c.length,p=4*Math.floor((h+2)/3)+(h+2)%3-2;return f.slice(0,p)}i.encodeBase64=d;function g(c){for(var u=c+"===".slice(0,(4-c.length%4)%4),f=window.atob(u),h=new Uint8Array(f.length),p=0;p<f.length;p++)h[p]=f.charCodeAt(p);return h}i.decodeBase64=g,i.default={encryptAttachment:l,decryptAttachment:a,encodeBase64:d,decodeBase64:g}},{}]},{},[1])(1)})})(J0);const Mc={defaultProtocol:"https",rel:"noopener",target:"_blank",className:"text-blue-500 hover:text-blue-700 active:text-blue-700 visited:text-blue-500"},X0=C.memo(({event:t,roomID:e,hasPreviousEvent:n})=>{const r=Or(e);return(o=>{if(nh(o))if(o.content.format==="org.matrix.custom.html"){const s=Y0.sanitize(o.content.formatted_body,{ADD_TAGS:["font","del","h1","h2","h3","h4","h5","h6","blockquote","p","a","ul","ol","sup","sub","li","b","i","u","strong","em","strike","code","hr","br","div","table","thead","tbody","tr","th","td","caption","pre","span","img","details","summary"]});return y.jsxs("div",{className:n?"flex flex-row p-2 pb-1 pt-0 hover:bg-gray-200 rounded-md duration-200 ease-in-out":"flex flex-row gap-4 p-2 pb-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out items-start",children:[!n&&y.jsx(jt,{displayname:r?.getMemberName(o.sender)||"",avatarUrl:r?.getMemberAvatar(o.sender),online:r?.isOnline()||!1,dm:r?.isDM()||!1}),y.jsxs("div",{className:n?"ml-[3.7rem]":"flex flex-col gap-1",children:[!n&&y.jsx("h2",{className:"text-sm font-medium text-red-500 whitespace-normal",children:r?.getMemberName(o.sender)}),y.jsx("p",{className:"whitespace-normal text-black text-base font-normal",dangerouslySetInnerHTML:{__html:s}})]})]})}else return y.jsxs("div",{className:n?"flex flex-row p-2 pb-1 pt-0 hover:bg-gray-200 rounded-md duration-200 ease-in-out":"flex flex-row gap-4 p-2 pb-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out items-start",children:[!n&&y.jsx(jt,{displayname:r?.getMemberName(o.sender)||"",avatarUrl:r?.getMemberAvatar(o.sender),online:r?.isOnline()||!1,dm:r?.isDM()||!1}),y.jsxs("div",{className:n?"ml-[3.7rem]":"flex flex-col gap-1",children:[!n&&y.jsx("h2",{className:"text-sm font-medium text-red-500 whitespace-normal",children:r?.getMemberName(o.sender)}),y.jsx(Ci,{options:Mc,as:"p",className:"whitespace-normal text-black text-base font-normal",children:o.content.body})]})]});else if(qa(o)){const s=C.useContext(er),[l,a]=C.useState(void 0),[d,g]=C.useState(o.content.file!==void 0),c=u=>{console.log("Downloading image:",u.event_id),fetch(s.convertMXC(u.content.file.url),{headers:{Authorization:`Bearer ${s.accessToken}`}}).then(f=>{if(!f.ok){console.log("Unable to decrypt image:",f.text());return}console.log("Downloaded image:",u.event_id),f.arrayBuffer().then(h=>{Bl.decryptAttachment(h,u.content.file).then(p=>{let m=u.content.info?.mimetype?u.content.info.mimetype.split(";")[0].trim():"";m=Z0(m);const x=new Blob([p],{type:m});a(URL.createObjectURL(x)),g(!1),console.log("Decrypted image:",u.event_id)}).catch(p=>{console.log("Unable to decrypt image due to decryption error:",p),g(!0)})})})};return C.useEffect(()=>{qa(o)&&(o.content.url?a(s.convertMXC(o.content.url)):o.content.file&&c(o))},[o]),d?y.jsx(Fl,{event:o,roomID:e,hasPreviousEvent:n}):y.jsxs("div",{className:n?"flex flex-row p-2 pb-1 pt-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out":"flex flex-row gap-4 p-2 pb-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out items-start",children:[!n&&y.jsx(jt,{displayname:r?.getMemberName(o.sender)||"",avatarUrl:r?.getMemberAvatar(o.sender),online:r?.isOnline()||!1,dm:r?.isDM()||!1}),y.jsxs("div",{className:n?"ml-[3.7rem]":"flex flex-col gap-1",children:[!n&&y.jsx("h2",{className:"text-sm font-medium text-red-500 whitespace-normal",children:r?.getMemberName(o.sender)}),y.jsx("img",{src:l,alt:o.content.body,title:o.content.body,className:"rounded-md object-cover border-slate-400 border-2 max-h-[512px] max-w-[512px] h-[unset]"})]})]})}else return y.jsxs("div",{className:n?"flex flex-row p-2 pb-1 pt-0 hover:bg-gray-200 rounded-md duration-200 ease-in-out":"flex flex-row gap-4 p-2 pb-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out items-start",children:[!n&&y.jsx(jt,{displayname:r?.getMemberName(o.sender)||"",avatarUrl:r?.getMemberAvatar(o.sender),online:r?.isOnline()||!1,dm:r?.isDM()||!1}),y.jsxs("div",{className:n?"ml-[3.7rem]":"flex flex-col gap-1",children:[!n&&y.jsx("h2",{className:"text-sm font-medium text-red-500 whitespace-normal",children:r?.getMemberName(o.sender)}),y.jsx(Ci,{options:Mc,as:"p",className:"whitespace-normal text-black text-base font-normal",children:o.content.body})]})]})})(t)}),q0=["image/jpeg","image/gif","image/png","image/apng","image/webp","image/avif","video/mp4","video/webm","video/ogg","video/quicktime","audio/mp4","audio/webm","audio/aac","audio/mpeg","audio/ogg","audio/wave","audio/wav","audio/x-wav","audio/x-pn-wav","audio/flac","audio/x-flac"];function Z0(t){return q0.includes(t)?t:"application/octet-stream"}const Q0=C.memo(({event:t})=>(n=>y.jsxs("p",{className:"p-2 hover:bg-gray-200 rounded-md duration-200 ease-in-out",children:[n.content.displayname?n.content.displayname:n.state_key," ",n.content.membership==="join"?"joined the room":n.content.membership==="leave"?"left the room":n.content.membership==="ban"?"was banned from the room by "+n.sender:n.content.membership==="invite"?"was invited to the room by "+n.sender:n.content.membership==="knock"?"knocked on the room":"changed their membership status to "+n.content.membership]}))(t)),eE=C.memo(({roomID:t,scrollRef:e})=>{const n=Or(decodeURIComponent(t||"")),r=C.useContext(er),i=rh(n),{pathname:o}=Ko(),[s,l]=C.useState([]),a=g=>{const c=g?.filter((u,f,h)=>h.findIndex(p=>p.event_id===u.event_id)===f);Promise.all(c?.filter(u=>u.type!=="m.reaction"&&!u.content["m.relates_to"]).map(async(u,f)=>{let h=c?.filter(E=>E.type!=="m.reaction")[f-1];const p=h?.sender===u.sender;let m=h?.type;const x=c?.filter(E=>E.type==="m.reaction"&&E.content["m.relates_to"].event_id===u.event_id),_=c?.find(E=>E.content["m.relates_to"]?E.content["m.relates_to"].rel_type==="m.replace"&&E.content["m.relates_to"].event_id===u.event_id:!1);if(_&&(u=_,_.content["m.new_content"]&&(u.content.body=_.content["m.new_content"].body,u.content.formatted_body=_.content["m.new_content"].formatted_body,u.content.format=_.content["m.new_content"].format)),u.type==="m.room.encrypted")try{const E=await r.olmMachine?.decryptRoomEvent(JSON.stringify(u),new Xa.RoomId(t||""));if(E)u=JSON.parse(E.event),u.content["m.new_content"]&&(u.content.body=u.content["m.new_content"].body,u.content.formatted_body=u.content["m.new_content"].formatted_body,u.content.format=u.content["m.new_content"].format);else return y.jsx(Fl,{event:u,hasPreviousEvent:p,roomID:t},u.event_id)}catch(E){return console.error(E),y.jsx(Fl,{event:u,hasPreviousEvent:p,roomID:t},u.event_id)}if(h?.type==="m.room.encrypted")try{const E=await r.olmMachine?.decryptRoomEvent(JSON.stringify(h),new Xa.RoomId(t||""));E&&(h=JSON.parse(E.event),m=h.type,h.content["m.new_content"]&&(h.content.body=h.content["m.new_content"].body,h.content.formatted_body=h.content["m.new_content"].formatted_body,h.content.format=h.content["m.new_content"].format))}catch(E){console.error(E)}return d(u,p,m,x)})).then(u=>{l(u)})};C.useEffect(()=>{i&&a(i)},[i]),C.useEffect(()=>{e.current?.scrollTo(0,e.current?.scrollHeight)},[o]);const d=(g,c,u,f)=>{switch(g.type){case"m.room.message":return y.jsx(X0,{reactions:f,event:g,roomID:t,hasPreviousEvent:c&&u==="m.room.message"},g.event_id);case"m.room.member":return y.jsx(Q0,{event:g},g.event_id);case"m.room.redaction":return y.jsx(y.Fragment,{});default:return y.jsx(V0,{event:g},g.event_id)}};return y.jsx("div",{className:"max-w-[130ch] flex flex-col",children:s})}),tE=C.memo(()=>{const t=ih(),e=oh(),n=sh(),r=C.useContext(er);let i=Kh();const o=Or(decodeURIComponent(i.roomIdOrAlias||""));r.setCurrentRoom(i.roomIdOrAlias?decodeURIComponent(i.roomIdOrAlias):void 0);const s=C.useRef(null),l=[...e].filter(({spaceRoom:h})=>{const p=![...e].some(({children:x})=>[...x].some(_=>_.roomID===h.roomID)),m=h.getSpaceParentIDs().length===0;return p&&m}),a=[...n].filter(h=>{const p=![...e].some(({children:_})=>[..._].some(E=>E.roomID===h.roomID)),m=h.getSpaceParentIDs().length===0,x=!h.isSpace();return p&&m&&x}),d=l.map(h=>{const p=[...h.children].filter(x=>!x.isSpace()).map(x=>({roomID:x.roomID,displayname:x.getName(),avatarUrl:x.getAvatarURL(),dm:x.isDM(),online:x.isOnline()})),m=x=>{const _=[...e].find(E=>E.spaceRoom.roomID===x.roomID);if(_){const E=[..._?.children].map(T=>({roomID:T.roomID,displayname:T.getName(),avatarUrl:T.getAvatarURL(),dm:T.isDM(),online:T.isOnline()}));return{sectionName:x.getName(),rooms:E,roomID:x.roomID,subsections:[..._?.children].filter(T=>T.isSpace()).map(m).filter(T=>T!==void 0)}}};return{sectionName:h.spaceRoom.getName(),rooms:p,roomID:h.spaceRoom.roomID,subsections:[...h.children].filter(x=>x.isSpace()).map(m)}}),g=a.filter(h=>!h.isSpace()).map(h=>({roomID:h.roomID,displayname:h.getName(),avatarUrl:h.getAvatarURL(),dm:h.isDM(),online:h.isOnline()})),c=g.map(h=>h.roomID),u=c.filter((h,p)=>c.indexOf(h)!==p);u.length>0&&console.error("otherRooms has duplicates",u);const f={defaultProtocol:"https",rel:"noopener",target:"_blank",className:"text-blue-500 hover:text-blue-700 active:text-blue-700 visited:text-blue-500"};return y.jsxs("div",{className:"flex flex-row gap-2 min-h-screen h-screen",children:[y.jsxs("div",{className:"flex flex-col bg-gradient-to-br from-slate-100 via-gray-200 to-orange-200 border-r-[1px] border-slate-300",children:[y.jsxs("div",{className:"flex flex-row gap-2 m-2 p-1 items-center border-b-2",children:[y.jsx(jt,{displayname:t.displayname||r.mxid,avatarUrl:t?.avatar_url,dm:!1,online:!1}),y.jsxs("div",{className:"flex flex-row justify-between items-center w-full",children:[y.jsx("span",{className:"text-base font-semibold",children:t?.displayname}),y.jsx(yp,{size:28,stroke:"unset",className:"stroke-slate-600 rounded-full hover:bg-slate-300 p-1 cursor-pointer"})]})]}),y.jsx(u0,{sections:d,rooms:g})]}),o&&y.jsxs("div",{className:"flex-1 flex flex-col",children:[y.jsxs("div",{className:"pb-2 flex flex-row items-center border-b-2 mt-4 ml-2",children:[y.jsx(jt,{displayname:o.getName(),avatarUrl:o.getAvatarURL(),dm:o.isDM(),online:o.isOnline()}),y.jsxs("div",{className:"flex flex-row items-start",children:[y.jsx("h1",{className:"text-black font-semibold text-lg flex-shrink-0",children:o.getName()}),y.jsx(Ci,{options:f,as:"p",className:"ml-4 text-slate-700 font-normal text-base line-clamp-2 text-ellipsis",children:o.getTopic()})]})]}),y.jsx("div",{ref:s,className:"overflow-y-auto overflow-x-hidden scrollbarSmall mr-2 my-1 flex-1 w-full flex flex-col-reverse",children:y.jsx(eE,{roomID:i.roomIdOrAlias,scrollRef:s})}),y.jsx(e0,{namespace:"Editor",roomID:decodeURIComponent(i.roomIdOrAlias||"")})]})]})}),nE=({children:t})=>C.useContext(er).isLoggedIn?t:y.jsx(zc,{to:"login"});function rE(){return y.jsx(np,{basename:"/cetirizine/",children:y.jsxs(tp,{children:[y.jsx(Js,{path:"/:roomIdOrAlias?",element:y.jsx(nE,{children:y.jsx(tE,{})})}),y.jsx(Js,{path:"/login",element:y.jsx(sp,{})})]})})}const aE=C.memo(rE);export{aE as default};
