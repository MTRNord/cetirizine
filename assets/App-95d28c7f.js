import{a as Ks,r as N,j as _,b as Ws,d as Ga,m as Ya}from"./vendor-2246966f.js";import{M as er,u as Or,i as Qg,a as eh,b as th,c as nh,d as rh,e as ih}from"./client-5fb7087d.js";/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function li(){return li=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},li.apply(this,arguments)}var _n;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_n||(_n={}));const Va="popstate";function oh(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Gs("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kc(i)}return lh(e,n,null,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sh(){return Math.random().toString(36).substr(2,8)}function Ja(t,e){return{usr:t.state,key:t.key,idx:e}}function Gs(t,e,n,r){return n===void 0&&(n=null),li({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$r(e):e,{state:n,key:e&&e.key||r||sh()})}function kc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $r(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lh(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=_n.Pop,a=null,c=f();c==null&&(c=0,s.replaceState(li({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function d(){l=_n.Pop;let E=f(),v=E==null?null:E-c;c=E,a&&a({action:l,location:p.location,delta:v})}function u(E,v){l=_n.Push;let m=Gs(p.location,E,v);n&&n(m,E),c=f()+1;let y=Ja(m,c),S=p.createHref(m);try{s.pushState(y,"",S)}catch{i.location.assign(S)}o&&a&&a({action:l,location:p.location,delta:1})}function g(E,v){l=_n.Replace;let m=Gs(p.location,E,v);n&&n(m,E),c=f();let y=Ja(m,c),S=p.createHref(m);s.replaceState(y,"",S),o&&a&&a({action:l,location:p.location,delta:0})}function h(E){let v=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof E=="string"?E:kc(E);return Te(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let p={get action(){return l},get location(){return t(i,s)},listen(E){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Va,d),a=E,()=>{i.removeEventListener(Va,d),a=null}},createHref(E){return e(i,E)},createURL:h,encodeLocation(E){let v=h(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:u,replace:g,go(E){return s.go(E)}};return p}var Xa;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xa||(Xa={}));function ah(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?$r(e):e,i=bc(r.pathname||"/",n);if(i==null)return null;let o=Lc(t);uh(o);let s=null;for(let l=0;s==null&&l<o.length;++l)s=yh(o[l],Nh(i));return s}function Lc(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(Te(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=jn([r,a.relativePath]),f=n.concat(a);o.children&&o.children.length>0&&(Te(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Lc(o.children,e,f,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:mh(c,o.index),routesMeta:f})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of Mc(o.path))i(o,s,a)}),e}function Mc(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Mc(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function uh(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_h(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ch=/^:\w+$/,dh=3,fh=2,gh=1,hh=10,ph=-2,qa=t=>t==="*";function mh(t,e){let n=t.split("/"),r=n.length;return n.some(qa)&&(r+=ph),e&&(r+=fh),n.filter(i=>!qa(i)).reduce((i,o)=>i+(ch.test(o)?dh:o===""?gh:hh),r)}function _h(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function yh(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],a=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",f=Eh({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},c);if(!f)return null;Object.assign(r,f.params);let d=l.route;o.push({params:r,pathname:jn([i,f.pathname]),pathnameBase:Rh(jn([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=jn([i,f.pathnameBase]))}return o}function Eh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xh(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,f,d)=>{if(f==="*"){let u=l[d]||"";s=o.slice(0,o.length-u.length).replace(/(.)\/+$/,"$1")}return c[f]=Ch(l[d]||"",f),c},{}),pathname:o,pathnameBase:s,pattern:t}}function xh(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Pl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Nh(t){try{return decodeURI(t)}catch(e){return Pl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ch(t,e){try{return decodeURIComponent(t)}catch(n){return Pl(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function bc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vh(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$r(t):t;return{pathname:n?n.startsWith("/")?n:Th(n,e):e,search:wh(r),hash:Oh(i)}}function Th(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gs(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sh(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ah(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$r(t):(i=li({},t),Te(!i.pathname||!i.pathname.includes("?"),gs("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),gs("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),gs("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(r||s==null)l=n;else{let d=e.length-1;if(s.startsWith("..")){let u=s.split("/");for(;u[0]==="..";)u.shift(),d-=1;i.pathname=u.join("/")}l=d>=0?e[d]:"/"}let a=vh(i,l),c=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||f)&&(a.pathname+="/"),a}const jn=t=>t.join("/").replace(/\/\/+/g,"/"),Rh=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wh=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Oh=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $h(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dh(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const kh=typeof Object.is=="function"?Object.is:Dh,{useState:Lh,useEffect:Mh,useLayoutEffect:bh,useDebugValue:Ih}=Ks;function Ph(t,e,n){const r=e(),[{inst:i},o]=Lh({inst:{value:r,getSnapshot:e}});return bh(()=>{i.value=r,i.getSnapshot=e,hs(i)&&o({inst:i})},[t,r,e]),Mh(()=>(hs(i)&&o({inst:i}),t(()=>{hs(i)&&o({inst:i})})),[t]),Ih(r),r}function hs(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!kh(n,r)}catch{return!0}}function Fh(t,e,n){return e()}const Bh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uh=!Bh,jh=Uh?Fh:Ph;"useSyncExternalStore"in Ks&&(t=>t.useSyncExternalStore)(Ks);const Ic=N.createContext(null),Fl=N.createContext(null),Bl=N.createContext(null),zo=N.createContext(null),Dr=N.createContext({outlet:null,matches:[]}),Pc=N.createContext(null);function Ys(){return Ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ys.apply(this,arguments)}function vi(){return N.useContext(zo)!=null}function Ho(){return vi()||Te(!1),N.useContext(zo).location}function Fc(){vi()||Te(!1);let{basename:t,navigator:e}=N.useContext(Bl),{matches:n}=N.useContext(Dr),{pathname:r}=Ho(),i=JSON.stringify(Sh(n).map(l=>l.pathnameBase)),o=N.useRef(!1);return N.useEffect(()=>{o.current=!0}),N.useCallback(function(l,a){if(a===void 0&&(a={}),!o.current)return;if(typeof l=="number"){e.go(l);return}let c=Ah(l,JSON.parse(i),r,a.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:jn([t,c.pathname])),(a.replace?e.replace:e.push)(c,a.state,a)},[t,e,i,r])}function zh(){let{matches:t}=N.useContext(Dr),e=t[t.length-1];return e?e.params:{}}function Hh(t,e){vi()||Te(!1);let{navigator:n}=N.useContext(Bl),r=N.useContext(Fl),{matches:i}=N.useContext(Dr),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let a=Ho(),c;if(e){var f;let p=typeof e=="string"?$r(e):e;l==="/"||(f=p.pathname)!=null&&f.startsWith(l)||Te(!1),c=p}else c=a;let d=c.pathname||"/",u=l==="/"?d:d.slice(l.length)||"/",g=ah(t,{pathname:u}),h=Yh(g&&g.map(p=>Object.assign({},p,{params:Object.assign({},s,p.params),pathname:jn([l,n.encodeLocation?n.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?l:jn([l,n.encodeLocation?n.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r||void 0);return e&&h?N.createElement(zo.Provider,{value:{location:Ys({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:_n.Pop}},h):h}function Kh(){let t=qh(),e=$h(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,o)}class Wh extends N.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?N.createElement(Dr.Provider,{value:this.props.routeContext},N.createElement(Pc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gh(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(Ic);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Dr.Provider,{value:e},r)}function Yh(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n?.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&i?.[s.route.id]);o>=0||Te(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,l)=>{let a=s.route.id?i?.[s.route.id]:null,c=null;n&&(s.route.ErrorBoundary?c=N.createElement(s.route.ErrorBoundary,null):s.route.errorElement?c=s.route.errorElement:c=N.createElement(Kh,null));let f=e.concat(r.slice(0,l+1)),d=()=>{let u=o;return a?u=c:s.route.Component?u=N.createElement(s.route.Component,null):s.route.element&&(u=s.route.element),N.createElement(Gh,{match:s,routeContext:{outlet:o,matches:f},children:u})};return n&&(s.route.ErrorBoundary||s.route.errorElement||l===0)?N.createElement(Wh,{location:n.location,component:c,error:a,children:d(),routeContext:{outlet:null,matches:f}}):d()},null)}var Za;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(Za||(Za={}));var lo;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(lo||(lo={}));function Vh(t){let e=N.useContext(Fl);return e||Te(!1),e}function Jh(t){let e=N.useContext(Dr);return e||Te(!1),e}function Xh(t){let e=Jh(),n=e.matches[e.matches.length-1];return n.route.id||Te(!1),n.route.id}function qh(){var t;let e=N.useContext(Pc),n=Vh(lo.UseRouteError),r=Xh(lo.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Bc(t){let{to:e,replace:n,state:r,relative:i}=t;vi()||Te(!1);let o=N.useContext(Fl),s=Fc();return N.useEffect(()=>{o&&o.navigation.state!=="idle"||s(e,{replace:n,state:r,relative:i})}),null}function Vs(t){Te(!1)}function Zh(t){let{basename:e="/",children:n=null,location:r,navigationType:i=_n.Pop,navigator:o,static:s=!1}=t;vi()&&Te(!1);let l=e.replace(/^\/*/,"/"),a=N.useMemo(()=>({basename:l,navigator:o,static:s}),[l,o,s]);typeof r=="string"&&(r=$r(r));let{pathname:c="/",search:f="",hash:d="",state:u=null,key:g="default"}=r,h=N.useMemo(()=>{let p=bc(c,l);return p==null?null:{location:{pathname:p,search:f,hash:d,state:u,key:g},navigationType:i}},[l,c,f,d,u,g,i]);return h==null?null:N.createElement(Bl.Provider,{value:a},N.createElement(zo.Provider,{children:n,value:h}))}function Qh(t){let{children:e,location:n}=t,r=N.useContext(Ic),i=r&&!e?r.router.routes:Js(e);return Hh(i,n)}var Qa;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Qa||(Qa={}));new Promise(()=>{});function Js(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let o=[...e,i];if(r.type===N.Fragment){n.push.apply(n,Js(r.props.children,o));return}r.type!==Vs&&Te(!1),!r.props.index||!r.props.children||Te(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Js(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ep(t){let{basename:e,children:n,window:r}=t,i=N.useRef();i.current==null&&(i.current=oh({window:r,v5Compat:!0}));let o=i.current,[s,l]=N.useState({action:o.action,location:o.location});return N.useLayoutEffect(()=>o.listen(l),[o]),N.createElement(Zh,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o})}var eu;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(eu||(eu={}));var tu;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tu||(tu={}));const tp=N.memo(({type:t="button",style:e="primary",onClick:n,children:r,readonly:i})=>e==="secondary"?_.jsx("button",{disabled:i,onClick:n,className:"button bg-orange-400 hover:bg-orange-500 ease-out duration-150 disabled:bg-slate-200 disabled:cursor-not-allowed",type:t,children:r}):e==="abort"?_.jsx("button",{disabled:i,onClick:n,className:"button bg-red-400 hover:bg-red-500 ease-out duration-150 disabled:bg-slate-200 disabled:cursor-not-allowed",type:t,children:r}):_.jsx("button",{disabled:i,onClick:n,className:"button bg-green-400 hover:bg-green-500 ease-out duration-150 disabled:bg-slate-200 disabled:cursor-not-allowed",type:t,children:r})),np=N.memo(({children:t})=>_.jsx("h1",{className:"text-black font-bold text-xl",children:t})),nu=N.memo(({placeholder:t,password:e=!1,autoFocus:n=!1,value:r,readonly:i,onChange:o})=>_.jsx("input",{disabled:i,className:"text-base form-input rounded-lg disabled:bg-slate-200 disabled:cursor-not-allowed transition-colors ease-in-out delay-150",value:r,type:e?"password":"text",autoFocus:n,placeholder:t,onChange:o})),rp=N.memo(()=>{const t=N.useContext(er),[e,n]=N.useState(!1),[r,i]=N.useState(""),[o,s]=N.useState(""),[l,a]=N.useState("");if(t.isLoggedIn)return _.jsx(Bc,{to:"/"});const c=async()=>{try{n(!0),await t.passwordLogin(o,l)}catch(f){i(f.toString())}n(!1)};return _.jsxs("form",{className:"flex flex-col rounded-md shadow p-4 bg-white gap-2 min-w-[30rem]",onSubmit:f=>{f.preventDefault(),c()},children:[_.jsx(np,{children:"Login"}),r?_.jsx("h2",{className:"text-red-500 font-normal text-sm",children:r}):_.jsx("div",{className:"min-h-[1.25rem]"}),_.jsx(nu,{readonly:e,value:o,placeholder:"Username",onChange:f=>s(f.target.value)}),_.jsx(nu,{readonly:e,value:l,password:!0,placeholder:"Password",onChange:f=>a(f.target.value)}),_.jsx(tp,{readonly:e,style:"primary",type:"submit",children:"Login"})]})}),ip=N.memo(()=>_.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-img",children:_.jsx(rp,{})}));var op={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sp=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),me=(t,e)=>{const n=N.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:l,...a},c)=>N.createElement("svg",{ref:c,...op,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${sp(t)}`,...a},[...e.map(([f,d])=>N.createElement(f,d)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},lp=me("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]),Uc=me("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]]),ap=me("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]]),Xs=me("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),jc=me("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]),zc=me("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]),up=me("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]),cp=me("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]]),dp=me("Heading5",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]]),fp=me("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),gp=me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Hc=me("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),Kc=me("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Wc=me("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),hp=me("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]),pp=me("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]]),mp=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),_p=me("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]),Gc=me("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]]),yp=me("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]),Ep=me("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),jt=N.memo(({avatarUrl:t,displayname:e,dm:n=!1,online:r=!1})=>t?_.jsxs("div",{className:"flex relative min-w-[2rem] min-h-[2rem] justify-center items-center m-0 mr-3 text-xl rounded-full text-white",children:[_.jsx("img",{className:"rounded-full w-8 h-8 object-cover",alt:e,src:t}),n?r?_.jsx("div",{className:"bg-green-500 rounded-full w-3 h-3 absolute bottom-0 right-0"}):_.jsx("div",{className:"bg-red-500 rounded-full w-3 h-3 absolute bottom-0 right-0"}):_.jsx(_.Fragment,{})]}):_.jsxs("div",{className:"flex relative min-w-[2rem] min-h-[2rem] w-[2rem] h-[2rem] bg-orange-500 justify-center items-center m-0 mr-3 text-xl rounded-full text-white",children:[e.replace("@","")[0].toUpperCase(),n?r?_.jsx("div",{className:"bg-green-500 rounded-full w-3 h-3 absolute bottom-0 right-0"}):_.jsx("div",{className:"bg-red-500 rounded-full w-3 h-3 absolute bottom-0 right-0"}):_.jsx(_.Fragment,{})]}));var Ul={},be={},w={};let jl={},Yc={},ai={},Yr={},qs={},xr={},zl={},Zs={},ui={},ci={},yn={},Hl={},Kl={},Vc={},Jc={},Xc={},qc={},Zc={},Qc={},ed={},ao={},td={},nd={},rd={},id={},od={},sd={},ld={},ad={},ud={},Wl={},Gl={},cd={},dd={},fd={};function L(t){throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?code=${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let an=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xp=an&&"documentMode"in document?document.documentMode:null,Je=an&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Gn=an&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),uo=an&&"InputEvent"in window&&!xp?"getTargetRanges"in new window.InputEvent("input"):!1,Yl=an&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Vl=an&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Np=an&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Jl=an&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Np,Ko=Yl||Vl||Jl?" ":"​",Cp=Gn?" ":Ko,vp=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,Tp=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,zn={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},Sp={directionless:1,unmergeable:2},ru={center:2,end:6,justify:4,left:1,right:3,start:5},Ap={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},Rp={normal:0,segmented:2,token:1},wp={0:"normal",2:"segmented",1:"token"},Qs=!1,Xl=0;function Op(t){Xl=t.timeStamp}function ps(t,e,n){return e.__lexicalLineBreak===t||t[`__lexicalKey_${n._key}`]!==void 0}function $p(t){return t.getEditorState().read(()=>{let e=ue();return e!==null?e.clone():null})}function gd(t,e,n){Qs=!0;let r=100<performance.now()-Xl;try{pt(t,()=>{let i=ue()||$p(t);var o=new Map,s=t.getRootElement(),l=t._editorState,a=t._blockCursorElement;let c=!1,f="";for(var d=0;d<e.length;d++){var u=e[d],g=u.type,h=u.target,p=Si(h,l);if(!(p===null&&h!==s||ae(p))){if(g==="characterData"){if(u=r&&F(p))e:{u=i,g=h;var E=p;if(V(u)){var v=u.anchor.getNode();if(v.is(E)&&u.format!==v.getFormat()){u=!1;break e}}u=g.nodeType===3&&E.isAttached()}u&&(E=Gt(t._window),g=u=null,E!==null&&E.anchorNode===h&&(u=E.anchorOffset,g=E.focusOffset),h=h.nodeValue,h!==null&&ta(p,h,u,g,!1))}else if(g==="childList"){for(c=!0,g=u.addedNodes,E=0;E<g.length;E++){v=g[E];var m=Ed(v),y=v.parentNode;y==null||v===a||m!==null||v.nodeName==="BR"&&ps(v,y,t)||(Gn&&(m=v.innerText||v.nodeValue)&&(f+=m),y.removeChild(v))}if(u=u.removedNodes,g=u.length,0<g){for(E=0,v=0;v<g;v++)y=u[v],(y.nodeName==="BR"&&ps(y,h,t)||a===y)&&(h.appendChild(y),E++);g!==E&&(h===s&&(p=l._nodeMap.get("root")),o.set(h,p))}}}}if(0<o.size)for(let[S,R]of o)if(O(R))for(o=R.getChildrenKeys(),s=S.firstChild,l=0;l<o.length;l++)a=t.getElementByKey(o[l]),a!==null&&(s==null?(S.appendChild(a),s=a):s!==a&&S.replaceChild(a,s),s=s.nextSibling);else F(R)&&R.markDirty();if(o=n.takeRecords(),0<o.length){for(s=0;s<o.length;s++)for(a=o[s],l=a.addedNodes,a=a.target,d=0;d<l.length;d++)p=l[d],h=p.parentNode,h==null||p.nodeName!=="BR"||ps(p,a,t)||h.removeChild(p);n.takeRecords()}i!==null&&(c&&(i.dirty=!0,vn(i)),Gn&&vd(t)&&i.insertRawText(f))})}finally{Qs=!1}}function hd(t){let e=t._observer;if(e!==null){let n=e.takeRecords();gd(t,n,e)}}function pd(t){Xl===0&&Go(t).addEventListener("textInput",Op,!0),t._observer=new MutationObserver((e,n)=>{gd(t,e,n)})}let Dp=1,kp=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)};function ql(t){let e=document.activeElement;if(e===null)return!1;let n=e.nodeName;return ae(Si(t))&&(n==="INPUT"||n==="TEXTAREA"||e.contentEditable==="true"&&e.__lexicalEditor==null)}function Ti(t,e,n){let r=t.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(n)&&e!==null&&!ql(e)&&Zl(e)===t}catch{return!1}}function Zl(t){for(;t!=null;){let e=t.__lexicalEditor;if(e!=null)return e;t=Wo(t)}return null}function el(t){return t.isToken()||t.isSegmented()}function co(t){for(;t!=null;){if(t.nodeType===3)return t;t=t.firstChild}return null}function md(t,e,n){return e=zn[e],t&e&&(n===null||!(n&e))?t^e:n===null||n&e?t|e:t}function _d(t){return F(t)||pi(t)||ae(t)}function yd(t,e){if(e!=null)t.__key=e;else{et(),99<hi&&L(14),e=pe();var n=Yt(),r=""+Dp++;n._nodeMap.set(r,t),O(t)?e._dirtyElements.set(r,!0):e._dirtyLeaves.add(r),e._cloneNotNeeded.add(r),e._dirtyType=1,t.__key=r}}function Hn(t){var e=t.getParent();if(e!==null){let i=t.getWritable();e=e.getWritable();var n=t.getPreviousSibling();if(t=t.getNextSibling(),n===null)if(t!==null){var r=t.getWritable();e.__first=t.__key,r.__prev=null}else e.__first=null;else{if(r=n.getWritable(),t!==null){let o=t.getWritable();o.__prev=r.__key,r.__next=o.__key}else r.__next=null;i.__prev=null}t===null?n!==null?(t=n.getWritable(),e.__last=n.__key,t.__next=null):e.__last=null:(t=t.getWritable(),n!==null?(n=n.getWritable(),n.__next=t.__key,t.__prev=n.__key):t.__prev=null,i.__next=null),e.__size--,i.__parent=null}}function fo(t){99<hi&&L(14);var e=t.getLatest(),n=e.__parent,r=Yt();let i=pe(),o=r._nodeMap;if(r=i._dirtyElements,n!==null)e:for(;n!==null;){if(r.has(n))break e;let s=o.get(n);if(s===void 0)break;r.set(n,!1),n=s.__parent}e=e.__key,i._dirtyType=1,O(t)?r.set(e,!0):i._dirtyLeaves.add(e)}function Be(t){et();var e=pe();let n=e._compositionKey;t!==n&&(e._compositionKey=t,n!==null&&(e=ke(n),e!==null&&e.getWritable()),t!==null&&(t=ke(t),t!==null&&t.getWritable()))}function En(){return kr()?null:pe()._compositionKey}function ke(t,e){return t=(e||Yt())._nodeMap.get(t),t===void 0?null:t}function Ed(t,e){let n=pe();return t=t[`__lexicalKey_${n._key}`],t!==void 0?ke(t,e):null}function Si(t,e){for(;t!=null;){let n=Ed(t,e);if(n!==null)return n;t=Wo(t)}return null}function xd(t){let e=Object.assign({},t._decorators);return t._pendingDecorators=e}function iu(t){return t.read(()=>Wt().getTextContent())}function Lp(t,e){pt(t,()=>{var n=Yt();if(!n.isEmpty())if(e==="root")Wt().markDirty();else{n=n._nodeMap;for(let[,r]of n)r.markDirty()}},t._pendingEditorState===null?{tag:"history-merge"}:void 0)}function Wt(){return Yt()._nodeMap.get("root")}function vn(t){et();let e=Yt();t!==null&&(t.dirty=!0,t._cachedNodes=null),e._selection=t}function hr(t){var e=pe(),n;e:{for(n=t;n!=null;){let r=n[`__lexicalKey_${e._key}`];if(r!==void 0){n=r;break e}n=Wo(n)}n=null}return n===null?(e=e.getRootElement(),t===e?ke("root"):null):ke(n)}function Nd(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function Ql(t){let e=[];for(;t!==null;)e.push(t),t=t._parentEditor;return e}function Cd(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function ea(t,e,n){if(e=Gt(e._window),e!==null){var r=e.anchorNode,{anchorOffset:i,focusOffset:o}=e;if(r!==null&&(e=r.nodeType===3?r.nodeValue:null,r=Si(r),e!==null&&F(r))){if(r.canContainTabs()){var s=e.includes("	");if(n&&0<n.length&&s){s=n.length;let l=i+s-1,a=e.slice(0,l);e=e.slice(l,e.length),e=`${a}${n}${e}`,i+=s,o+=s}}e===Ko&&n&&(s=n.length,e=n,o=i=s),e!==null&&ta(r,e,i,o,t)}}}function ta(t,e,n,r,i){let o=t;if(o.isAttached()&&(i||!o.isDirty())){var s=o.isComposing();if(t=e,(s||i)&&e[e.length-1]===Ko&&(t=e.slice(0,-1)),e=o.getTextContent(),i||t!==e)if(t==="")if(Be(null),Yl||Vl||Jl)o.remove();else{let c=pe();setTimeout(()=>{c.update(()=>{o.isAttached()&&o.remove()})},20)}else{i=o.getParent(),e=wi();var l=En(),a=o.getKey();o.isToken()||l!==null&&a===l&&!s||i!==null&&V(e)&&!i.canInsertTextBefore()&&e.anchor.offset===0?o.markDirty():(s=ue(),V(s)&&n!==null&&r!==null&&(s.setTextNodeRange(o,n,o,r),o.isSegmented()&&(n=o.getTextContent(),n=Fe(n),o.replace(n),o=n)),o.setTextContent(t))}}}function Mp(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;t=t.anchor.offset;let n=e.getParentOrThrow(),r=e.isToken();return t===0?((t=!e.canInsertTextBefore()||!n.canInsertTextBefore()||r)||(e=e.getPreviousSibling(),t=(F(e)||O(e)&&e.isInline())&&!e.canInsertTextAfter()),t):t===e.getTextContentSize()?!e.canInsertTextAfter()||!n.canInsertTextAfter()||r:!1}function Vr(t,e){var n=t[e];return typeof n=="string"?(n=n.split(" "),t[e]=n):n}function na(t,e,n,r,i){n.size!==0&&(n=r.__key,e=e.get(r.__type),e===void 0&&L(33),r=e.klass,e=t.get(r),e===void 0&&(e=new Map,t.set(r,e)),t=e.get(n),r=t==="destroyed"&&i==="created",(t===void 0||r)&&e.set(n,r?"updated":i))}function ou(t,e,n){let r=t.getParent(),i=n;return r!==null&&(e&&n===0?(i=t.getIndexWithinParent(),t=r):e||n!==t.getChildrenSize()||(i=t.getIndexWithinParent()+1,t=r)),t.getChildAtIndex(e?i-1:i)}function tl(t,e){var n=t.offset;return t.type==="element"?(t=t.getNode(),ou(t,e,n)):(t=t.getNode(),e&&n===0||!e&&n===t.getTextContentSize()?(n=e?t.getPreviousSibling():t.getNextSibling(),n===null?ou(t.getParentOrThrow(),e,t.getIndexWithinParent()+(e?0:1)):n):null)}function vd(t){return t=(t=Go(t).event)&&t.inputType,t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function go(t){return!ut(t)&&!t.isLastChild()&&!t.isInline()}function ho(t,e){return t=t._keyToDOMMap.get(e),t===void 0&&L(75),t}function Wo(t){return t=t.assignedSlot||t.parentElement,t!==null&&t.nodeType===11?t.host:t}function bp(t,e=0){if(e!==0&&L(1),e=ue(),!V(e)||!O(t))return e;let{anchor:n,focus:r}=e,i=n.getNode(),o=r.getNode();return po(i,t)&&n.set(t.__key,0,"element"),po(o,t)&&r.set(t.__key,0,"element"),e}function po(t,e){for(t=t.getParent();t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function Go(t){return t=t._window,t===null&&L(78),t}function Td(t){for(t=t.getParentOrThrow();t!==null&&!Dt(t);)t=t.getParentOrThrow();return t}function Dt(t){return ut(t)||O(t)&&t.isShadowRoot()}function Sd(t){return t=t.constructor.clone(t),yd(t,null),t}function Yo(t){var e=pe();let n=t.constructor.getType();return e=e._nodes.get(n),e===void 0&&L(97),e=e.replace,e!==null?(e=e(t),e instanceof t.constructor||L(98),e):t}function ms(t,e){t=t.getParent(),!ut(t)||O(e)||ae(e)||L(99)}function _s(t){return(ae(t)||O(t)&&!t.canBeEmpty())&&!t.isInline()}function nl(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null,e=t.parentElement,e!==null&&e.removeChild(t)}function Gt(t){return an?(t||window).getSelection():null}function Ad(t,e){let n=t.getChildAtIndex(e);n==null&&(n=t),Dt(t)&&L(102);let r=s=>{const l=s.getParentOrThrow(),a=Dt(l),c=s!==n||a?Sd(s):s;if(a)return s.insertAfter(c),[s,c,c];const[f,d,u]=r(l);return s=s.getNextSiblings(),u.append(c,...s),[f,d,c]},[i,o]=r(n);return[i,o]}function mo(t,e){for(;t!==Wt()&&t!=null;){if(e(t))return t;t=t.getParent()}return null}function Ip(t){let e=[],n=[t];for(;0<n.length;){let r=n.pop();r===void 0&&L(112),O(r)&&n.unshift(...r.getChildren()),r!==t&&e.push(r)}return e}function Rd(t,e,n,r,i){for(t=t.getFirstChild();t!==null;){let o=t.__key;t!==void 0&&t.__parent===e&&(O(t)&&Rd(t,o,n,r,i),n.has(o)||i.delete(o),r.delete(o)),t=t.isAttached()?t.getNextSibling():null}}function Pp(t,e,n,r){t=t._nodeMap,e=e._nodeMap;for(let i of n){let o=e.get(i);o===void 0||o.isAttached()||(t.has(i)||n.delete(i),e.delete(i))}for(let[i]of r)n=e.get(i),n===void 0||n.isAttached()||(O(n)&&Rd(n,i,t,e,r),t.has(i)||r.delete(i),e.delete(i))}function su(t,e){let n=t.__mode,r=t.__format;t=t.__style;let i=e.__mode,o=e.__format;return e=e.__style,(n===null||n===i)&&(r===null||r===o)&&(t===null||t===e)}function lu(t,e){let n=t.mergeWithSibling(e),r=pe()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function wd(t){if(t.__text===""&&t.isSimpleText()&&!t.isUnmergeable())t.remove();else{for(var e;(e=t.getPreviousSibling())!==null&&F(e)&&e.isSimpleText()&&!e.isUnmergeable();)if(e.__text==="")e.remove();else{su(e,t)&&(t=lu(e,t));break}for(var n;(n=t.getNextSibling())!==null&&F(n)&&n.isSimpleText()&&!n.isUnmergeable();)if(n.__text==="")n.remove();else{su(t,n)&&lu(t,n);break}}}function Od(t){return au(t.anchor),au(t.focus),t}function au(t){for(;t.type==="element";){var e=t.getNode(),n=t.offset;if(n===e.getChildrenSize()?(e=e.getChildAtIndex(n-1),n=!0):(e=e.getChildAtIndex(n),n=!1),F(e)){t.set(e.__key,n?e.getTextContentSize():0,"text");break}else if(!O(e))break;t.set(e.__key,n?e.getChildrenSize():0,"element")}}let ve="",Qe="",nn="",Tn,We,di,$d=!1,ra=!1,Vo,Yi=null,rl,il,Yn,Sn,ol,fi;function Vi(t,e){let n=Yn.get(t);if(e!==null){let r=al(t);r.parentNode===e&&e.removeChild(r)}Sn.has(t)||We._keyToDOMMap.delete(t),O(n)&&(t=_o(n,Yn),sl(t,0,t.length-1,null)),n!==void 0&&na(fi,di,Vo,n,"destroyed")}function sl(t,e,n,r){for(;e<=n;++e){let i=t[e];i!==void 0&&Vi(i,r)}}function kn(t,e){t.setProperty("text-align",e)}function Dd(t,e){var n=Tn.theme.indent;if(typeof n=="string"){let r=t.classList.contains(n);0<e&&!r?t.classList.add(n):1>e&&r&&t.classList.remove(n)}n=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||"40px",t.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${n})`)}function kd(t,e){t=t.style,e===0?kn(t,""):e===1?kn(t,"left"):e===2?kn(t,"center"):e===3?kn(t,"right"):e===4?kn(t,"justify"):e===5?kn(t,"start"):e===6&&kn(t,"end")}function Ji(t,e,n){let r=Sn.get(t);r===void 0&&L(60);let i=r.createDOM(Tn,We);var o=We._keyToDOMMap;if(i["__lexicalKey_"+We._key]=t,o.set(t,i),F(r)?i.setAttribute("data-lexical-text","true"):ae(r)&&i.setAttribute("data-lexical-decorator","true"),O(r)){if(t=r.__indent,o=r.__size,t!==0&&Dd(i,t),o!==0){--o,t=_o(r,Sn);var s=Qe;Qe="",ll(t,r,0,o,i,null),Md(r,i),Qe=s}t=r.__format,t!==0&&kd(i,t),r.isInline()||Ld(null,r,i),go(r)&&(ve+=`

`,nn+=`

`)}else o=r.getTextContent(),ae(r)?(s=r.decorate(We,Tn),s!==null&&bd(t,s),i.contentEditable="false"):F(r)&&(r.isDirectionless()||(Qe+=o)),ve+=o,nn+=o;return e!==null&&(n!=null?e.insertBefore(i,n):(n=e.__lexicalLineBreak,n!=null?e.insertBefore(i,n):e.appendChild(i))),na(fi,di,Vo,r,"created"),i}function ll(t,e,n,r,i,o){let s=ve;for(ve="";n<=r;++n)Ji(t[n],i,o);go(e)&&(ve+=`

`),i.__lexicalTextContent=ve,ve=s+ve}function uu(t,e){return t=e.get(t),pi(t)||ae(t)&&t.isInline()}function Ld(t,e,n){t=t!==null&&(t.__size===0||uu(t.__last,Yn)),e=e.__size===0||uu(e.__last,Sn),t?e||(e=n.__lexicalLineBreak,e!=null&&n.removeChild(e),n.__lexicalLineBreak=null):e&&(e=document.createElement("br"),n.__lexicalLineBreak=e,n.appendChild(e))}function Md(t,e){var n=e.__lexicalDir;if(e.__lexicalDirTextContent!==Qe||n!==Yi){let o=Qe==="";if(o)var r=Yi;else r=Qe,r=vp.test(r)?"rtl":Tp.test(r)?"ltr":null;if(r!==n){let s=e.classList,l=Tn.theme;var i=n!==null?l[n]:void 0;let a=r!==null?l[r]:void 0;i!==void 0&&(typeof i=="string"&&(i=i.split(" "),i=l[n]=i),s.remove(...i)),r===null||o&&r==="ltr"?e.removeAttribute("dir"):(a!==void 0&&(typeof a=="string"&&(n=a.split(" "),a=l[r]=n),a!==void 0&&s.add(...a)),e.dir=r),ra||(t.getWritable().__dir=r)}Yi=r,e.__lexicalDirTextContent=Qe,e.__lexicalDir=r}}function _o(t,e){let n=[];for(t=t.__first;t!==null;){let r=e.get(t);r===void 0&&L(101),n.push(t),t=r.__next}return n}function Hr(t,e){var n=Yn.get(t),r=Sn.get(t);n!==void 0&&r!==void 0||L(61);var i=$d||il.has(t)||rl.has(t);let o=ho(We,t);if(n===r&&!i)return O(n)?(r=o.__lexicalTextContent,r!==void 0&&(ve+=r,nn+=r),r=o.__lexicalDirTextContent,r!==void 0&&(Qe+=r)):(r=n.getTextContent(),F(n)&&!n.isDirectionless()&&(Qe+=r),nn+=r,ve+=r),o;if(n!==r&&i&&na(fi,di,Vo,r,"updated"),r.updateDOM(n,o,Tn))return r=Ji(t,null,null),e===null&&L(62),e.replaceChild(r,o),Vi(t,null),r;if(O(n)&&O(r)){if(t=r.__indent,t!==n.__indent&&Dd(o,t),t=r.__format,t!==n.__format&&kd(o,t),i){t=r,i=Qe,Qe="",e=ve;var s=n.__size,l=t.__size;if(ve="",s===1&&l===1){var a=n.__first,c=t.__first;if(a===c)Hr(a,o);else{var f=al(a);c=Ji(c,null,null),o.replaceChild(c,f),Vi(a,null)}}else{c=_o(n,Yn);var d=_o(t,Sn);if(s===0)l!==0&&ll(d,t,0,l-1,o,null);else if(l===0)s!==0&&(a=o.__lexicalLineBreak==null,sl(c,0,s-1,a?null:o),a&&(o.textContent=""));else{var u=c;c=d,d=s-1,s=l-1;let h=o.firstChild,p=0;for(l=0;p<=d&&l<=s;){var g=u[p];let E=c[l];if(g===E)h=ys(Hr(E,o)),p++,l++;else{a===void 0&&(a=new Set(u)),f===void 0&&(f=new Set(c));let v=f.has(g),m=a.has(E);v?(m?(g=ho(We,E),g===h?h=ys(Hr(E,o)):(h!=null?o.insertBefore(g,h):o.appendChild(g),Hr(E,o)),p++):Ji(E,o,h),l++):(h=ys(al(g)),Vi(g,o),p++)}}a=p>d,f=l>s,a&&!f?(a=c[s+1],a=a===void 0?null:We.getElementByKey(a),ll(c,t,l,s,o,a)):f&&!a&&sl(u,p,d,o)}}go(t)&&(ve+=`

`),o.__lexicalTextContent=ve,ve=e+ve,Md(t,o),Qe=i,ut(r)||r.isInline()||Ld(n,r,o)}go(r)&&(ve+=`

`,nn+=`

`)}else n=r.getTextContent(),ae(r)?(i=r.decorate(We,Tn),i!==null&&bd(t,i)):F(r)&&!r.isDirectionless()&&(Qe+=n),ve+=n,nn+=n;return!ra&&ut(r)&&r.__cachedText!==nn&&(r=r.getWritable(),r.__cachedText=nn),o}function bd(t,e){let n=We._pendingDecorators,r=We._decorators;if(n===null){if(r[t]===e)return;n=xd(We)}n[t]=e}function ys(t){return t=t.nextSibling,t!==null&&t===We._blockCursorElement&&(t=t.nextSibling),t}function al(t){return t=ol.get(t),t===void 0&&L(75),t}let Qt=Object.freeze({}),ul=[["keydown",Wp],["pointerdown",Bp],["compositionstart",Hp],["compositionend",Kp],["input",zp],["click",Fp],["cut",Qt],["copy",Qt],["dragstart",Qt],["dragover",Qt],["dragend",Qt],["paste",Qt],["focus",Qt],["blur",Qt],["drop",Qt]];uo&&ul.push(["beforeinput",(t,e)=>jp(t,e)]);let gi=0,Id=0,Pd=0,fr=null,Jr=0,cl=!1,dl=!1,Xr=!1,Kr=!1,Fd=[0,"",0,"root",0];function Bd(t,e,n,r,i){let o=t.anchor,s=t.focus,l=o.getNode();var a=pe();let c=Gt(a._window),f=c!==null?c.anchorNode:null,d=o.key;a=a.getElementByKey(d);let u=n.length;return d!==s.key||!F(l)||(!i&&(!uo||Pd<r+50)||l.isDirty()&&2>u||Nd(n))&&o.offset!==s.offset&&!l.isComposing()||el(l)||l.isDirty()&&1<u||(i||!uo)&&a!==null&&!l.isComposing()&&f!==co(a)||c!==null&&e!==null&&(!e.collapsed||e.startContainer!==c.anchorNode||e.startOffset!==c.anchorOffset)||l.getFormat()!==t.format||l.getStyle()!==t.style||Mp(t,l)}function cu(t,e){return t!==null&&t.nodeValue!==null&&t.nodeType===3&&e!==0&&e!==t.nodeValue.length}function du(t,e,n){let{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}=t;cl&&(cl=!1,cu(r,i)&&cu(o,s))||pt(e,()=>{if(!n)vn(null);else if(Ti(e,r,o)){var l=ue();if(V(l)){var a=l.anchor,c=a.getNode();if(l.isCollapsed()){t.type==="Range"&&t.anchorNode===t.focusNode&&(l.dirty=!0);var f=Go(e).event;f=f?f.timeStamp:performance.now();let[d,u,g,h,p]=Fd;f<p+200&&a.offset===g&&a.key===h?(l.format=d,l.style=u):a.type==="text"?(l.format=c.getFormat(),l.style=c.getStyle()):a.type==="element"&&(l.format=0,l.style="")}else{a=255,c=!1,f=l.getNodes();let d=f.length;for(let u=0;u<d;u++){let g=f[u];if(F(g)&&(c=!0,a&=g.getFormat(),a===0))break}l.format=c?a:0}}P(e,jl,void 0)}})}function Fp(t,e){pt(e,()=>{let n=ue(),r=Gt(e._window),i=wi();if(V(n)){let o=n.anchor,s=o.getNode();r&&o.type==="element"&&o.offset===0&&n.isCollapsed()&&!ut(s)&&Wt().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&i!==null&&n.is(i)&&(r.removeAllRanges(),n.dirty=!0)}P(e,Yc,t)})}function Bp(t,e){let n=t.target;t=t.pointerType,n instanceof Node&&t!=="touch"&&pt(e,()=>{ae(Si(n))||(dl=!0)})}function Ud(t){return t.getTargetRanges?(t=t.getTargetRanges(),t.length===0?null:t[0]):null}function Up(t,e){return t!==e||O(t)||O(e)||!t.isToken()||!e.isToken()}function jp(t,e){let n=t.inputType,r=Ud(t);n==="deleteCompositionText"||Gn&&vd(e)||n!=="insertCompositionText"&&pt(e,()=>{let i=ue();if(n==="deleteContentBackward"){if(i===null){var o=wi();if(!V(o))return;vn(o.clone())}if(V(i)){Id===229&&t.timeStamp<gi+30&&e.isComposing()&&i.anchor.key===i.focus.key?(Be(null),gi=0,setTimeout(()=>{pt(e,()=>{Be(null)})},30),V(i)&&(o=i.anchor.getNode(),o.markDirty(),i.format=o.getFormat(),i.style=o.getStyle())):(t.preventDefault(),P(e,ai,!0));return}}if(V(i)){o=t.data,fr!==null&&ea(!1,e,fr),i.dirty&&fr===null||!i.isCollapsed()||ut(i.anchor.getNode())||r===null||i.applyDOMRange(r),fr=null;var s=i.focus,l=i.anchor.getNode();if(s=s.getNode(),n==="insertText"||n==="insertTranspose")o===`
`?(t.preventDefault(),P(e,Yr,!1)):o===`

`?(t.preventDefault(),P(e,qs,void 0)):o==null&&t.dataTransfer?(o=t.dataTransfer.getData("text/plain"),t.preventDefault(),i.insertRawText(o)):o!=null&&Bd(i,r,o,t.timeStamp,!0)?(t.preventDefault(),P(e,xr,o)):fr=o,Pd=t.timeStamp;else switch(t.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":P(e,xr,t);break;case"insertFromComposition":Be(null),P(e,xr,t);break;case"insertLineBreak":Be(null),P(e,Yr,!1);break;case"insertParagraph":Be(null),Xr?(Xr=!1,P(e,Yr,!1)):P(e,qs,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":P(e,zl,t);break;case"deleteByComposition":Up(l,s)&&P(e,Zs,void 0);break;case"deleteByDrag":case"deleteByCut":P(e,Zs,void 0);break;case"deleteContent":P(e,ai,!1);break;case"deleteWordBackward":P(e,ui,!0);break;case"deleteWordForward":P(e,ui,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":P(e,ci,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":P(e,ci,!1);break;case"formatStrikeThrough":P(e,yn,"strikethrough");break;case"formatBold":P(e,yn,"bold");break;case"formatItalic":P(e,yn,"italic");break;case"formatUnderline":P(e,yn,"underline");break;case"historyUndo":P(e,Hl,void 0);break;case"historyRedo":P(e,Kl,void 0)}}})}function zp(t,e){t.stopPropagation(),pt(e,()=>{var n=ue(),r=t.data,i=Ud(t);if(r!=null&&V(n)&&Bd(n,i,r,t.timeStamp,!1)){Kr&&(fl(e,r),Kr=!1);var o=n.anchor,s=o.getNode();if(i=Gt(e._window),i===null)return;let l=o.offset;(o=uo&&!n.isCollapsed()&&F(s)&&i.anchorNode!==null)&&(s=s.getTextContent().slice(0,l)+r+s.getTextContent().slice(l+n.focus.offset),i=i.anchorNode,o=s===(i.nodeType===3?i.nodeValue:null)),o||P(e,xr,r),r=r.length,Gn&&1<r&&t.inputType==="insertCompositionText"&&!e.isComposing()&&(n.anchor.offset-=r),Yl||Vl||Jl||!e.isComposing()||(gi=0,Be(null))}else ea(!1,e,r!==null?r:void 0),Kr&&(fl(e,r||void 0),Kr=!1);et(),n=pe(),hd(n)}),fr=null}function Hp(t,e){pt(e,()=>{let n=ue();if(V(n)&&!e.isComposing()){let r=n.anchor,i=n.anchor.getNode();Be(r.key),(t.timeStamp<gi+30||r.type==="element"||!n.isCollapsed()||i.getFormat()!==n.format||i.getStyle()!==n.style)&&P(e,xr,Cp)}})}function fl(t,e){var n=t._compositionKey;if(Be(null),n!==null&&e!=null){if(e===""){e=ke(n),t=co(t.getElementByKey(n)),t!==null&&t.nodeValue!==null&&F(e)&&ta(e,t.nodeValue,null,null,!0);return}if(e[e.length-1]===`
`&&(n=ue(),V(n))){e=n.focus,n.anchor.set(e.key,e.offset,e.type),P(t,ao,null);return}}ea(!0,t,e)}function Kp(t,e){Gn?Kr=!0:pt(e,()=>{fl(e,t.data)})}function Wp(t,e){if(gi=t.timeStamp,Id=t.keyCode,!e.isComposing()){var{keyCode:n,shiftKey:r,ctrlKey:i,metaKey:o,altKey:s}=t;if(!P(e,Vc,t)){if(n!==39||i||o||s)if(n!==39||s||r||!i&&!o)if(n!==37||i||o||s)if(n!==37||s||r||!i&&!o)if(n!==38||i||o)if(n!==40||i||o)if(n===13&&r)Xr=!0,P(e,ao,t);else if(n===32)P(e,td,t);else if(Je&&i&&n===79)t.preventDefault(),Xr=!0,P(e,Yr,!0);else if(n!==13||r)if(Je?!(s||o)&&(n===8||n===72&&i):!(i||s||o)&&n===8)n===8?P(e,nd,t):(t.preventDefault(),P(e,ai,!0));else if(n===27)P(e,rd,t);else if(Je?!(r||s||o)&&(n===46||n===68&&i):!(i||s||o)&&n===46)n===46?P(e,id,t):(t.preventDefault(),P(e,ai,!1));else if(n===8&&(Je?s:i))t.preventDefault(),P(e,ui,!0);else if(n===46&&(Je?s:i))t.preventDefault(),P(e,ui,!1);else if(Je&&o&&n===8)t.preventDefault(),P(e,ci,!0);else if(Je&&o&&n===46)t.preventDefault(),P(e,ci,!1);else if(n===66&&!s&&(Je?o:i))t.preventDefault(),P(e,yn,"bold");else if(n===85&&!s&&(Je?o:i))t.preventDefault(),P(e,yn,"underline");else if(n===73&&!s&&(Je?o:i))t.preventDefault(),P(e,yn,"italic");else if(n!==9||s||i||o)if(n===90&&!r&&(Je?o:i))t.preventDefault(),P(e,Hl,void 0);else{var l=Je?n===90&&o&&r:n===89&&i||n===90&&i&&r;l?(t.preventDefault(),P(e,Kl,void 0)):Ri(e._editorState._selection)&&(l=r?!1:n===67?Je?o:i:!1,l?(t.preventDefault(),P(e,Wl,t)):(l=r?!1:n===88?Je?o:i:!1,l?(t.preventDefault(),P(e,Gl,t)):n===65&&(Je?o:i)&&(t.preventDefault(),e.update(()=>{let a=Wt();a.select(0,a.getChildrenSize())}))))}else P(e,od,t);else Xr=!1,P(e,ao,t);else P(e,ed,t);else P(e,Qc,t);else P(e,Zc,t);else P(e,qc,t);else P(e,Xc,t);else P(e,Jc,t);(i||r||s||o)&&P(e,fd,t)}}}function jd(t){let e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}let Nr=new Map;function zd(t){t=t.target;let e=Gt(t==null?null:t.nodeType===9?t.defaultView:t.ownerDocument.defaultView);if(e!==null){var n=Zl(e.anchorNode);if(n!==null){dl&&(dl=!1,pt(n,()=>{var s=wi(),l=e.anchorNode;l!==null&&(l=l.nodeType,l===1||l===3)&&(s=Gd(s,e,n),vn(s))})),t=Ql(n),t=t[t.length-1];var r=t._key,i=Nr.get(r),o=i||t;o!==n&&du(e,o,!1),du(e,n,!0),n!==t?Nr.set(r,n):i&&Nr.delete(r)}}}function Gp(t,e){Jr===0&&t.ownerDocument.addEventListener("selectionchange",zd),Jr++,t.__lexicalEditor=e;let n=jd(t);for(let r=0;r<ul.length;r++){let[i,o]=ul[r],s=typeof o=="function"?l=>{l._lexicalHandled!==!0&&(l._lexicalHandled=!0,e.isEditable()&&o(l,e))}:l=>{if(l._lexicalHandled!==!0&&(l._lexicalHandled=!0,e.isEditable()))switch(i){case"cut":return P(e,Gl,l);case"copy":return P(e,Wl,l);case"paste":return P(e,zl,l);case"dragstart":return P(e,ld,l);case"dragover":return P(e,ad,l);case"dragend":return P(e,ud,l);case"focus":return P(e,cd,l);case"blur":return P(e,dd,l);case"drop":return P(e,sd,l)}};t.addEventListener(i,s),n.push(()=>{t.removeEventListener(i,s)})}}function gl(t,e,n){et();var r=t.__key;let i=t.getParent();if(i!==null){var o=bp(t),s=!1;if(V(o)&&e){let l=o.anchor,a=o.focus;l.key===r&&(Eo(l,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0),a.key===r&&(Eo(a,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0)}V(o)&&e&&!s?(r=t.getIndexWithinParent(),Hn(t),yo(o,i,r,-1)):Hn(t),n||Dt(i)||i.canBeEmpty()||!i.isEmpty()||gl(i,e),e&&ut(i)&&i.isEmpty()&&i.selectEnd()}}class Ai{static getType(){L(64)}static clone(){L(65)}constructor(e){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,yd(this,e)}getType(){return this.__type}isAttached(){for(var e=this.__key;e!==null;){if(e==="root")return!0;if(e=ke(e),e===null)break;e=e.__parent}return!1}isSelected(e){if(e=e||ue(),e==null)return!1;let n=e.getNodes().some(r=>r.__key===this.__key);return F(this)?n:V(e)&&e.anchor.type==="element"&&e.focus.type==="element"&&e.anchor.key===e.focus.key&&e.anchor.offset===e.focus.offset?!1:n}getKey(){return this.__key}getIndexWithinParent(){var e=this.getParent();if(e===null)return-1;e=e.getFirstChild();let n=0;for(;e!==null;){if(this.is(e))return n;n++,e=e.getNextSibling()}return-1}getParent(){let e=this.getLatest().__parent;return e===null?null:ke(e)}getParentOrThrow(){let e=this.getParent();return e===null&&L(66),e}getTopLevelElement(){let e=this;for(;e!==null;){let n=e.getParent();if(Dt(n))return e;e=n}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return e===null&&L(67),e}getParents(){let e=[],n=this.getParent();for(;n!==null;)e.push(n),n=n.getParent();return e}getParentKeys(){let e=[],n=this.getParent();for(;n!==null;)e.push(n.__key),n=n.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return e===null?null:ke(e)}getPreviousSiblings(){let e=[];var n=this.getParent();if(n===null)return e;for(n=n.getFirstChild();n!==null&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return e===null?null:ke(e)}getNextSiblings(){let e=[],n=this.getNextSibling();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getCommonAncestor(e){let n=this.getParents();var r=e.getParents();O(this)&&n.unshift(this),O(e)&&r.unshift(e),e=n.length;var i=r.length;if(e===0||i===0||n[e-1]!==r[i-1])return null;for(r=new Set(r),i=0;i<e;i++){let o=n[i];if(r.has(o))return o}return null}is(e){return e==null?!1:this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var n=this.getCommonAncestor(e);let r=this;for(;;){var i=r.getParentOrThrow();if(i===n){i=r.getIndexWithinParent();break}r=i}for(r=e;;){if(e=r.getParentOrThrow(),e===n){n=r.getIndexWithinParent();break}r=e}return i<n}isParentOf(e){let n=this.__key;if(n===e.__key)return!1;for(;e!==null;){if(e.__key===n)return!0;e=e.getParent()}return!1}getNodesBetween(e){let n=this.isBefore(e),r=[],i=new Set;for(var o=this;;){var s=o.__key;if(i.has(s)||(i.add(s),r.push(o)),o===e)break;if(s=O(o)?n?o.getFirstChild():o.getLastChild():null,s!==null)o=s;else if(s=n?o.getNextSibling():o.getPreviousSibling(),s!==null)o=s;else{if(o=o.getParentOrThrow(),i.has(o.__key)||r.push(o),o===e)break;s=o;do s===null&&L(68),o=n?s.getNextSibling():s.getPreviousSibling(),s=s.getParent(),s!==null&&(o!==null||i.has(s.__key)||r.push(s));while(o===null)}}return n||r.reverse(),r}isDirty(){let e=pe()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){let e=ke(this.__key);return e===null&&L(113),e}getWritable(){et();var e=Yt(),n=pe();e=e._nodeMap;let r=this.__key,i=this.getLatest(),o=i.__parent;n=n._cloneNotNeeded;var s=ue();return s!==null&&(s._cachedNodes=null),n.has(r)?(fo(i),i):(s=i.constructor.clone(i),s.__parent=o,s.__next=i.__next,s.__prev=i.__prev,O(i)&&O(s)?(s.__first=i.__first,s.__last=i.__last,s.__size=i.__size,s.__indent=i.__indent,s.__format=i.__format,s.__dir=i.__dir):F(i)&&F(s)&&(s.__format=i.__format,s.__style=i.__style,s.__mode=i.__mode,s.__detail=i.__detail),n.add(r),s.__key=r,fo(s),e.set(r,s),s)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){L(70)}updateDOM(){L(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){L(72)}static importJSON(){L(18)}static transform(){return null}remove(e){gl(this,!0,e)}replace(e,n){et();var r=ue();r!==null&&(r=r.clone()),ms(this,e);let i=this.getLatest(),o=this.__key,s=e.__key,l=e.getWritable();e=this.getParentOrThrow().getWritable();let a=e.__size;Hn(l);let c=i.getPreviousSibling(),f=i.getNextSibling(),d=i.__prev,u=i.__next,g=i.__parent;return gl(i,!1,!0),c===null?e.__first=s:c.getWritable().__next=s,l.__prev=d,f===null?e.__last=s:f.getWritable().__prev=s,l.__next=u,l.__parent=g,e.__size=a,n&&this.getChildren().forEach(h=>{l.append(h)}),V(r)&&(vn(r),n=r.anchor,r=r.focus,n.key===o&&fu(n,l),r.key===o&&fu(r,l)),En()===o&&Be(s),l}insertAfter(e,n=!0){et(),ms(this,e);var r=this.getWritable();let i=e.getWritable();var o=i.getParent();let s=ue();var l=!1,a=!1;if(o!==null){var c=e.getIndexWithinParent();Hn(i),V(s)&&(a=o.__key,l=s.anchor,o=s.focus,l=l.type==="element"&&l.key===a&&l.offset===c+1,a=o.type==="element"&&o.key===a&&o.offset===c+1)}o=this.getNextSibling(),c=this.getParentOrThrow().getWritable();let f=i.__key,d=r.__next;return o===null?c.__last=f:o.getWritable().__prev=f,c.__size++,r.__next=f,i.__next=d,i.__prev=r.__key,i.__parent=r.__parent,n&&V(s)&&(n=this.getIndexWithinParent(),yo(s,c,n+1),r=c.__key,l&&s.anchor.set(r,n+2,"element"),a&&s.focus.set(r,n+2,"element")),e}insertBefore(e,n=!0){et(),ms(this,e);var r=this.getWritable();let i=e.getWritable(),o=i.__key;Hn(i);let s=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),a=r.__prev,c=this.getIndexWithinParent();return s===null?l.__first=o:s.getWritable().__next=o,l.__size++,r.__prev=o,i.__prev=a,i.__next=r.__key,i.__parent=r.__parent,r=ue(),n&&V(r)&&(n=this.getParentOrThrow(),yo(r,n,c)),e}isParentRequired(){return!1}createParentElementNode(){return Vn()}selectPrevious(e,n){et();let r=this.getPreviousSibling(),i=this.getParentOrThrow();return r===null?i.select(0,0):O(r)?r.select():F(r)?r.select(e,n):(e=r.getIndexWithinParent()+1,i.select(e,e))}selectNext(e,n){et();let r=this.getNextSibling(),i=this.getParentOrThrow();return r===null?i.select():O(r)?r.select(0,0):F(r)?r.select(e,n):(e=r.getIndexWithinParent(),i.select(e,e))}markDirty(){this.getWritable()}}class Kt{constructor(e,n,r){this._selection=null,this.key=e,this.offset=n,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let n=this.getNode(),r=e.getNode(),i=this.offset;if(e=e.offset,O(n)){var o=n.getDescendantByIndex(i);n=o??n}return O(r)&&(o=r.getDescendantByIndex(e),r=o??r),n===r?i<e:n.isBefore(r)}getNode(){let e=ke(this.key);return e===null&&L(20),e}set(e,n,r){let i=this._selection,o=this.key;this.key=e,this.offset=n,this.type=r,kr()||(En()===o&&Be(e),i!==null&&(i._cachedNodes=null,i.dirty=!0))}}function Es(t,e){let n=e.__key,r=t.offset,i="element";if(F(e))i="text",e=e.getTextContentSize(),r>e&&(r=e);else if(!O(e)){var o=e.getNextSibling();F(o)?(n=o.__key,r=0,i="text"):(o=e.getParent())&&(n=o.__key,r=e.getIndexWithinParent()+1)}t.set(n,r,i)}function fu(t,e){if(O(e)){let n=e.getLastDescendant();O(n)||F(n)?Es(t,n):Es(t,e)}else Es(t,e)}function gu(t,e,n,r){let i=t.getNode(),o=i.getChildAtIndex(t.offset),s=Fe(),l=ut(i)?Vn().append(s):s;s.setFormat(n),s.setStyle(r),o===null?i.append(l):o.insertBefore(l),t.is(e)&&e.set(s.__key,0,"text"),t.set(s.__key,0,"text")}function hn(t,e,n,r){t.key=e,t.offset=n,t.type=r}class Jo{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}is(e){if(!Ri(e))return!1;let n=this._nodes,r=e._nodes;return n.size===r.size&&Array.from(n).every(i=>r.has(i))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Jo(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,n){let r=this.getNodes(),i=r.length;var o=r[i-1];if(F(o))o=o.select();else{let s=o.getIndexWithinParent()+1;o=o.getParentOrThrow().select(s,s)}for(o.insertNodes(e,n),e=0;e<i;e++)r[e].remove();return!0}getNodes(){var e=this._cachedNodes;if(e!==null)return e;var n=this._nodes;e=[];for(let r of n)n=ke(r),n!==null&&e.push(n);return kr()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}}function V(t){return t instanceof tr}class Xo{constructor(e,n,r){this.gridKey=e,this.anchor=n,this.focus=r,this.dirty=!1,this._cachedNodes=null,n._selection=this,r._selection=this}is(e){return ia(e)?this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus):!1}set(e,n,r){this.dirty=!0,this.gridKey=e,this.anchor.key=n,this.focus.key=r,this._cachedNodes=null}clone(){return new Xo(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return Xi(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,n){let r=this.focus.getNode();return Od(r.select(0,r.getChildrenSize())).insertNodes(e,n)}getShape(){var e=ke(this.anchor.key);e===null&&L(21);var n=e.getIndexWithinParent();e=e.getParentOrThrow().getIndexWithinParent();var r=ke(this.focus.key);r===null&&L(22);var i=r.getIndexWithinParent();let o=r.getParentOrThrow().getIndexWithinParent();return r=Math.min(n,i),n=Math.max(n,i),i=Math.min(e,o),e=Math.max(e,o),{fromX:Math.min(r,n),fromY:Math.min(i,e),toX:Math.max(r,n),toY:Math.max(i,e)}}getNodes(){function e(E){let{cell:v,startColumn:m,startRow:y}=E;a=Math.min(a,m),c=Math.min(c,y),f=Math.max(f,m+v.__colSpan-1),d=Math.max(d,y+v.__rowSpan-1)}var n=this._cachedNodes;if(n!==null)return n;var r=this.anchor.getNode();n=this.focus.getNode(),r=mo(r,zt);var i=mo(n,zt);zt(r)||L(103),zt(i)||L(104),n=r.getParent(),mi(n)||L(105),n=n.getParent(),aa(n)||L(106);let[o,s,l]=Yd(n,r,i),a=Math.min(s.startColumn,l.startColumn),c=Math.min(s.startRow,l.startRow),f=Math.max(s.startColumn+s.cell.__colSpan-1,l.startColumn+l.cell.__colSpan-1),d=Math.max(s.startRow+s.cell.__rowSpan-1,l.startRow+l.cell.__rowSpan-1);r=a,i=c;for(var u=a,g=c;a<r||c<i||f>u||d>g;){if(a<r){var h=g-i;--r;for(var p=0;p<=h;p++)e(o[i+p][r])}if(c<i)for(h=u-r,--i,p=0;p<=h;p++)e(o[i][r+p]);if(f>u)for(h=g-i,u+=1,p=0;p<=h;p++)e(o[i+p][u]);if(d>g)for(h=u-r,g+=1,p=0;p<=h;p++)e(o[g][r+p])}for(n=[n],r=null,i=c;i<=d;i++)for(u=a;u<=f;u++)({cell:g}=o[i][u]),h=g.getParent(),mi(h)||L(107),h!==r&&n.push(h),n.push(g,...Ip(g)),r=h;return kr()||(this._cachedNodes=n),n}getTextContent(){let e=this.getNodes(),n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}}function ia(t){return t instanceof Xo}class tr{constructor(e,n,r,i){this.anchor=e,this.focus=n,this.dirty=!1,this.format=r,this.style=i,this._cachedNodes=null,e._selection=this,n._selection=this}is(e){return V(e)?this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style:!1}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var e=this._cachedNodes;if(e!==null)return e;e=this.anchor;var n=this.focus,r=e.isBefore(n),i=r?e:n;r=r?n:e,e=i.getNode(),n=r.getNode();let o=i.offset;return i=r.offset,O(e)&&(r=e.getDescendantByIndex(o),e=r??e),O(n)&&(r=n.getDescendantByIndex(i),r!==null&&r!==e&&n.getChildAtIndex(i)===r&&(r=r.getPreviousSibling()),n=r??n),e=e.is(n)?O(e)&&0<e.getChildrenSize()?[]:[e]:e.getNodesBetween(n),kr()||(this._cachedNodes=e),e}setTextNodeRange(e,n,r,i){hn(this.anchor,e.__key,n,"text"),hn(this.focus,r.__key,i,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let e=this.getNodes();if(e.length===0)return"";let n=e[0],r=e[e.length-1],i=this.anchor,o=this.focus,s=i.isBefore(o),[l,a]=Xi(this),c="",f=!0;for(let d=0;d<e.length;d++){let u=e[d];if(O(u)&&!u.isInline())f||(c+=`
`),f=!u.isEmpty();else if(f=!1,F(u)){let g=u.getTextContent();u===n?u===r?(i.type!=="element"||o.type!=="element"||o.offset===i.offset)&&(g=l<a?g.slice(l,a):g.slice(a,l)):g=s?g.slice(l):g.slice(a):u===r&&(g=s?g.slice(0,a):g.slice(0,l)),c+=g}else!ae(u)&&!pi(u)||u===r&&this.isCollapsed()||(c+=u.getTextContent())}return c}applyDOMRange(e){let n=pe(),r=n.getEditorState()._selection;if(e=Kd(e.startContainer,e.startOffset,e.endContainer,e.endOffset,n,r),e!==null){var[i,o]=e;hn(this.anchor,i.key,i.offset,i.type),hn(this.focus,o.key,o.offset,o.type),this._cachedNodes=null}}clone(){let e=this.anchor,n=this.focus;return new tr(new Kt(e.key,e.offset,e.type),new Kt(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(e){this.format=md(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){return(this.format&zn[e])!==0}insertRawText(e){let n=e.split(/\r?\n/);if(n.length===1)this.insertText(e);else{e=[];let r=n.length;for(let i=0;i<r;i++){let o=n[i];o!==""&&e.push(Fe(o)),i!==r-1&&e.push(Ar())}this.insertNodes(e)}}insertText(e){var n=this.anchor,r=this.focus,i=this.isCollapsed()||n.isBefore(r),o=this.format,s=this.style;i&&n.type==="element"?gu(n,r,o,s):i||r.type!=="element"||gu(r,n,o,s);var l=this.getNodes(),a=l.length,c=i?r:n;r=(i?n:r).offset;var f=c.offset;n=l[0],F(n)||L(26),i=n.getTextContent().length;var d=n.getParentOrThrow(),u=l[a-1];if(this.isCollapsed()&&r===i&&(n.isSegmented()||n.isToken()||!n.canInsertTextAfter()||!d.canInsertTextAfter()&&n.getNextSibling()===null)){var g=n.getNextSibling();if((!F(g)||el(g))&&(g=Fe(),g.setFormat(o),d.canInsertTextAfter()?n.insertAfter(g):d.insertAfter(g)),g.select(0,0),n=g,e!==""){this.insertText(e);return}}else if(this.isCollapsed()&&r===0&&(n.isSegmented()||n.isToken()||!n.canInsertTextBefore()||!d.canInsertTextBefore()&&n.getPreviousSibling()===null)){if(g=n.getPreviousSibling(),(!F(g)||el(g))&&(g=Fe(),g.setFormat(o),d.canInsertTextBefore()?n.insertBefore(g):d.insertBefore(g)),g.select(),n=g,e!==""){this.insertText(e);return}}else if(n.isSegmented()&&r!==i)d=Fe(n.getTextContent()),d.setFormat(o),n.replace(d),n=d;else if(!(this.isCollapsed()||e===""||(g=u.getParent(),d.canInsertTextBefore()&&d.canInsertTextAfter()&&(!O(g)||g.canInsertTextBefore()&&g.canInsertTextAfter())))){this.insertText(""),Hd(this.anchor,this.focus,null),this.insertText(e);return}if(a===1)if(n.isToken())e=Fe(e),e.select(),n.replace(e);else{if(l=n.getFormat(),a=n.getStyle(),r===f&&(l!==o||a!==s))if(n.getTextContent()==="")n.setFormat(o),n.setStyle(s);else{l=Fe(e),l.setFormat(o),l.setStyle(s),l.select(),r===0?n.insertBefore(l,!1):([a]=n.splitText(r),a.insertAfter(l,!1)),l.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);return}n=n.spliceText(r,f-r,e,!0),n.getTextContent()===""?n.remove():this.anchor.type==="text"&&(n.isComposing()?this.anchor.offset-=e.length:(this.format=l,this.style=a))}else{if(o=new Set([...n.getParentKeys(),...u.getParentKeys()]),g=O(n)?n:n.getParentOrThrow(),s=O(u)?u:u.getParentOrThrow(),d=u,!g.is(s)&&s.isInline())do d=s,s=s.getParentOrThrow();while(s.isInline());c.type==="text"&&(f!==0||u.getTextContent()==="")||c.type==="element"&&u.getIndexWithinParent()<f?F(u)&&!u.isToken()&&f!==u.getTextContentSize()?(u.isSegmented()&&(c=Fe(u.getTextContent()),u.replace(c),u=c),u=u.spliceText(0,f,""),o.add(u.__key)):(c=u.getParentOrThrow(),c.canBeEmpty()||c.getChildrenSize()!==1?u.remove():c.remove()):o.add(u.__key),c=s.getChildren(),f=new Set(l),u=g.is(s),g=g.isInline()&&n.getNextSibling()===null?g:n;for(let h=c.length-1;0<=h;h--){let p=c[h];if(p.is(n)||O(p)&&p.isParentOf(n))break;p.isAttached()&&(!f.has(p)||p.is(d)?u||g.insertAfter(p,!1):p.remove())}if(!u)for(c=s,f=null;c!==null;)s=c.getChildren(),u=s.length,(u===0||s[u-1].is(f))&&(o.delete(c.__key),f=c),c=c.getParent();for(n.isToken()?r===i?n.select():(e=Fe(e),e.select(),n.replace(e)):(n=n.spliceText(r,i-r,e,!0),n.getTextContent()===""?n.remove():n.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length)),e=1;e<a;e++)n=l[e],o.has(n.__key)||n.remove()}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())this.toggleFormat(e),Be(null);else{var n=this.getNodes(),r=[];for(var i of n)F(i)&&r.push(i);var o=r.length;if(o===0)this.toggleFormat(e),Be(null);else{i=this.anchor;var s=this.focus,l=this.isBackward();n=l?s:i,i=l?i:s;var a=0,c=r[0];if(s=n.type==="element"?0:n.offset,n.type==="text"&&s===c.getTextContentSize()&&(a=1,c=r[1],s=0),c!=null){l=c.getFormatFlags(e,null);var f=o-1,d=r[f];if(o=i.type==="text"?i.offset:d.getTextContentSize(),c.is(d))s!==o&&(s===0&&o===c.getTextContentSize()?c.setFormat(l):(e=c.splitText(s,o),e=s===0?e[0]:e[1],e.setFormat(l),n.type==="text"&&n.set(e.__key,0,"text"),i.type==="text"&&i.set(e.__key,o-s,"text")),this.format=l);else{s!==0&&([,c]=c.splitText(s),s=0),c.setFormat(l);var u=d.getFormatFlags(e,l);for(0<o&&(o!==d.getTextContentSize()&&([d]=d.splitText(o)),d.setFormat(u)),a+=1;a<f;a++){let g=r[a];if(!g.isToken()){let h=g.getFormatFlags(e,u);g.setFormat(h)}}n.type==="text"&&n.set(c.__key,s,"text"),i.type==="text"&&i.set(d.__key,o,"text"),this.format=l|u}}}}}insertNodes(e,n){if(!this.isCollapsed()){var r=this.isBackward()?this.anchor:this.focus,i=r.getNode().getNextSibling();if(i=i?i.getKey():null,r=(r=r.getNode().getPreviousSibling())?r.getKey():null,this.removeText(),this.isCollapsed()&&this.focus.type==="element"){if(this.focus.key===i&&this.focus.offset===0){var o=Fe();this.focus.getNode().insertBefore(o)}else this.focus.key===r&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(o=Fe(),this.focus.getNode().insertAfter(o));o&&(this.focus.set(o.__key,0,"text"),this.anchor.set(o.__key,0,"text"))}}o=this.anchor,r=o.offset;var s=o.getNode();i=s,o.type==="element"&&(o=o.getNode(),i=o.getChildAtIndex(r-1),i=i===null?o:i),o=[];var l=s.getNextSiblings(),a=Dt(s)?null:s.getTopLevelElementOrThrow();if(F(s))if(i=s.getTextContent().length,r===0&&i!==0)i=s.getPreviousSibling(),i=i!==null?i:s.getParentOrThrow(),o.push(s);else if(r===i)i=s;else{if(s.isToken())return!1;[i,s]=s.splitText(r),o.push(s)}s=i,o.push(...l),l=e[0];var c=!1,f=null;for(let h=0;h<e.length;h++){var d=e[h];if(Dt(i)||ae(i)||!O(d)||d.isInline())c&&!O(d)&&!ae(d)&&Dt(i.getParent())&&L(28);else{if(d.is(l)){if(O(i)&&i.isEmpty()&&i.canReplaceWith(d)){i.replace(d),i=d,c=!0;continue}if(c=d.getFirstDescendant(),_d(c)){for(var u=c.getParentOrThrow();u.isInline();)u=u.getParentOrThrow();if(f=u.getChildren(),c=f.length,O(i)){var g=i.getFirstChild();for(let p=0;p<c;p++){let E=f[p];g===null?i.append(E):g.insertAfter(E),g=E}}else{for(g=c-1;0<=g;g--)i.insertAfter(f[g]);i=i.getParentOrThrow()}if(f=f[c-1],u.remove(),c=!0,u.is(d))continue}}F(i)&&(a===null&&L(27),i=a)}c=!1,O(i)&&!i.isInline()?(f=d,ae(d)&&!d.isInline()?i=i.insertAfter(d,!1):O(d)?(d.canBeEmpty()||!d.isEmpty())&&(ut(i)?(u=i.getChildAtIndex(r),u!==null?u.insertBefore(d):i.append(d),i=d):d.isInline()?(i.append(d),i=d):i=i.insertAfter(d,!1)):(u=i.getFirstChild(),u!==null?u.insertBefore(d):i.append(d),i=d)):!O(d)||O(d)&&d.isInline()||ae(i)&&!i.isInline()?(f=d,V(this)&&ae(d)&&(O(i)||F(i))&&!d.isInline()?(F(i)?(u=i.getParentOrThrow(),[i]=i.splitText(r),i=i.getIndexWithinParent()+1):(u=i,i=r),[,i]=Ad(u,i),i=i.insertBefore(d)):i=i.insertAfter(d,!1)):(d=i.getParentOrThrow(),pi(i)&&i.remove(),i=d,h--)}if(n&&(F(s)?s.select():(e=i.getPreviousSibling(),F(e)?e.select():(e=i.getIndexWithinParent(),i.getParentOrThrow().select(e,e)))),O(i)){if(e=F(f)?f:O(f)&&f.isInline()?f.getLastDescendant():i.getLastDescendant(),n||(e===null?i.select():F(e)?e.getTextContent()===""?e.selectPrevious():e.select():e.selectNext()),o.length!==0)for(n=i,e=o.length-1;0<=e;e--)r=o[e],a=r.getParentOrThrow(),!O(i)||yu(r)||ae(r)&&(!r.isInline()||r.isIsolated())?O(i)||yu(r)?O(r)&&!r.canInsertAfter(i)?(s=a.constructor.clone(a),O(s)||L(29),s.append(r),i.insertAfter(s)):i.insertAfter(r):(i.insertBefore(r),i=r):(n===i?i.append(r):i.insertBefore(r),i=r),a.isEmpty()&&!a.canBeEmpty()&&a.remove()}else n||(F(i)?i.select():(n=i.getParentOrThrow(),e=i.getIndexWithinParent()+1,n.select(e,e)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var e=this.anchor,n=e.offset,r=[];if(e.type==="text"){var i=e.getNode(),o=i.getNextSiblings().reverse(),s=i.getParentOrThrow(),l=s.isInline(),a=l?s.getTextContentSize():i.getTextContentSize();n===0?o.push(i):(l&&(r=s.getNextSiblings()),n===a||l&&n===i.getTextContentSize()||([,i]=i.splitText(n),o.push(i)))}else{if(s=e.getNode(),Dt(s)){o=Vn(),r=s.getChildAtIndex(n),o.select(),r!==null?r.insertBefore(o,!1):s.append(o);return}o=s.getChildren().slice(n).reverse()}if(i=o.length,n===0&&0<i&&s.isInline()){if(r=s.getParentOrThrow(),o=r.insertNewAfter(this,!1),O(o))for(r=r.getChildren(),s=0;s<r.length;s++)o.append(r[s])}else if(l=s.insertNewAfter(this,!1),l===null)this.insertLineBreak();else if(O(l))if(a=s.getFirstChild(),n===0&&(s.is(e.getNode())||a&&a.is(e.getNode()))&&0<i)s.insertBefore(l);else{if(s=null,n=r.length,e=l.getParentOrThrow(),0<n)for(a=0;a<n;a++)e.append(r[a]);if(i!==0)for(r=0;r<i;r++)n=o[r],s===null?l.append(n):s.insertBefore(n),s=n;l.canBeEmpty()||l.getChildrenSize()!==0?l.selectStart():(l.selectPrevious(),l.remove())}}insertLineBreak(e){let n=Ar();var r=this.anchor;r.type==="element"&&(r=r.getNode(),ut(r)&&this.insertParagraph()),e?this.insertNodes([n],!0):this.insertNodes([n])&&n.selectNext(0,0)}getCharacterOffsets(){return Xi(this)}extract(){var e=this.getNodes(),n=e.length,r=n-1,i=this.anchor;let o=this.focus;var s=e[0];let l=e[r],[a,c]=Xi(this);return n===0?[]:n===1?F(s)&&!this.isCollapsed()?(e=a>c?c:a,r=s.splitText(e,a>c?a:c),e=e===0?r[0]:r[1],e!=null?[e]:[]):[s]:(n=i.isBefore(o),F(s)&&(i=n?a:c,i===s.getTextContentSize()?e.shift():i!==0&&([,s]=s.splitText(i),e[0]=s)),F(l)&&(s=l.getTextContent().length,n=n?c:a,n===0?e.pop():n!==s&&([l]=l.splitText(n),e[r]=l)),e)}modify(e,n,r){var i=this.focus,o=this.anchor,s=e==="move",l=tl(i,n);if(ae(l)&&!l.isIsolated())s&&l.isKeyboardSelectable()?(n=hl(),n.add(l.__key),vn(n)):(e=n?l.getPreviousSibling():l.getNextSibling(),F(e)?(l=e.__key,n=n?e.getTextContent().length:0,i.set(l,n,"text"),s&&o.set(l,n,"text")):(r=l.getParentOrThrow(),O(e)?(r=e.__key,l=n?e.getChildrenSize():0):(l=l.getIndexWithinParent(),r=r.__key,n||l++),i.set(r,l,"element"),s&&o.set(r,l,"element")));else if(o=pe(),i=Gt(o._window)){var a=o._blockCursorElement,c=o._rootElement;if(c===null||a===null||!O(l)||l.isInline()||l.canBeEmpty()||nl(a,o,c),i.modify(e,n?"backward":"forward",r),0<i.rangeCount&&(l=i.getRangeAt(0),o=this.anchor.getNode(),o=ut(o)?o:Td(o),this.applyDOMRange(l),this.dirty=!0,!s)){for(s=this.getNodes(),e=[],r=!1,a=0;a<s.length;a++)c=s[a],po(c,o)?e.push(c):r=!0;r&&0<e.length&&(n?(n=e[0],O(n)?n.selectStart():n.getParentOrThrow().selectStart()):(n=e[e.length-1],O(n)?n.selectEnd():n.getParentOrThrow().selectEnd())),(i.anchorNode!==l.startContainer||i.anchorOffset!==l.startOffset)&&(n=this.focus,s=this.anchor,i=s.key,l=s.offset,o=s.type,hn(s,n.key,n.offset,n.type),hn(n,i,l,o),this._cachedNodes=null)}}}deleteCharacter(e){if(this.isCollapsed()){var n=this.anchor,r=this.focus,i=n.getNode();if(!e&&(n.type==="element"&&O(i)&&n.offset===i.getChildrenSize()||n.type==="text"&&n.offset===i.getTextContentSize())){var o=i.getParent();if(o=i.getNextSibling()||(o===null?null:o.getNextSibling()),O(o)&&o.isShadowRoot())return}if(o=tl(r,e),ae(o)&&!o.isIsolated()){o.isKeyboardSelectable()&&O(i)&&i.getChildrenSize()===0?(i.remove(),e=hl(),e.add(o.__key),vn(e)):o.remove();return}if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&n.offset===0&&(n.type==="element"?n.getNode():n.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(o=r.type==="text"?r.getNode():null,i=n.type==="text"?n.getNode():null,o!==null&&o.isSegmented()){if(n=r.offset,r=o.getTextContentSize(),o.is(i)||e&&n!==r||!e&&n!==0){pu(o,e,n);return}}else if(i!==null&&i.isSegmented()&&(n=n.offset,r=i.getTextContentSize(),i.is(o)||e&&n!==0||!e&&n!==r)){pu(i,e,n);return}if(i=this.anchor,o=this.focus,n=i.getNode(),r=o.getNode(),n===r&&i.type==="text"&&o.type==="text"){var s=i.offset,l=o.offset;let a=s<l;r=a?s:l,l=a?l:s,s=l-1,r!==s&&(n=n.getTextContent().slice(r,l),Nd(n)||(e?o.offset=s:i.offset=s))}}}i=this.isCollapsed(),this.removeText(),e&&!i&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0&&(e=this.anchor.getNode(),e.isEmpty()&&ut(e.getParent())&&e.getIndexWithinParent()===0&&e.collapseAtStart(this))}deleteLine(e){this.isCollapsed()&&(this.anchor.type==="text"&&this.modify("extend",e,"lineboundary"),(e?this.focus:this.anchor).offset===0&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function Ri(t){return t instanceof Jo}function hu(t){let e=t.offset;return t.type==="text"?e:(t=t.getNode(),e===t.getChildrenSize()?t.getTextContent().length:0)}function Xi(t){let e=t.anchor;return t=t.focus,e.type==="element"&&t.type==="element"&&e.key===t.key&&e.offset===t.offset?[0,0]:[hu(e),hu(t)]}function pu(t,e,n){let r=t.getTextContent().split(/(?=\s)/g),i=r.length,o=0,s=0;for(let l=0;l<i;l++){let a=r[l],c=l===i-1;if(s=o,o+=a.length,e&&o===n||o>n||c){r.splice(l,1),c&&(s=void 0);break}}e=r.join("").trim(),e===""?t.remove():(t.setTextContent(e),t.select(s,s))}function mu(t,e,n,r){var i=e;if(t.nodeType===1){let l=!1;var o=t.childNodes,s=o.length;i===s&&(l=!0,i=s-1);let a=o[i];if(s=!1,a===r._blockCursorElement?(a=o[i+1],s=!0):r._blockCursorElement!==null&&i--,r=hr(a),F(r))i=l?r.getTextContentSize():0;else{if(o=hr(t),o===null)return null;if(O(o)?(t=o.getChildAtIndex(i),(e=O(t))&&(e=t.getParent(),e=n===null||e===null||!e.canBeEmpty()||e!==n.getNode()),e&&(n=l?t.getLastDescendant():t.getFirstDescendant(),n===null?(o=t,i=0):(t=n,o=O(t)?t:t.getParentOrThrow())),F(t)?(r=t,o=null,i=l?t.getTextContentSize():0):t!==o&&l&&!s&&i++):(i=o.getIndexWithinParent(),i=e===0&&ae(o)&&hr(t)===o?i:i+1,o=o.getParentOrThrow()),O(o))return new Kt(o.__key,i,"element")}}else r=hr(t);return F(r)?new Kt(r.__key,i,"text"):null}function _u(t,e,n){var r=t.offset,i=t.getNode();r===0?(r=i.getPreviousSibling(),i=i.getParent(),e?(n||!e)&&r===null&&O(i)&&i.isInline()&&(e=i.getPreviousSibling(),F(e)&&(t.key=e.__key,t.offset=e.getTextContent().length)):O(r)&&!n&&r.isInline()?(t.key=r.__key,t.offset=r.getChildrenSize(),t.type="element"):F(r)&&(t.key=r.__key,t.offset=r.getTextContent().length)):r===i.getTextContent().length&&(r=i.getNextSibling(),i=i.getParent(),e&&O(r)&&r.isInline()?(t.key=r.__key,t.offset=0,t.type="element"):(n||e)&&r===null&&O(i)&&i.isInline()&&!i.canInsertTextAfter()&&(e=i.getNextSibling(),F(e)&&(t.key=e.__key,t.offset=0)))}function Hd(t,e,n){if(t.type==="text"&&e.type==="text"){var r=t.isBefore(e);let i=t.is(e);_u(t,r,i),_u(e,!r,i),i&&(e.key=t.key,e.offset=t.offset,e.type=t.type),r=pe(),r.isComposing()&&r._compositionKey!==t.key&&V(n)&&(r=n.anchor,n=n.focus,hn(t,r.key,r.offset,r.type),hn(e,n.key,n.offset,n.type))}}function Kd(t,e,n,r,i,o){return t===null||n===null||!Ti(i,t,n)||(e=mu(t,e,V(o)?o.anchor:null,i),e===null)||(r=mu(n,r,V(o)?o.focus:null,i),r===null||e.type==="element"&&r.type==="element"&&(t=hr(t),n=hr(n),ae(t)&&ae(n)))?null:(Hd(e,r,o),[e,r])}function yu(t){return O(t)&&!t.isInline()}function Wd(t,e,n,r,i,o){let s=Yt();return t=new tr(new Kt(t,e,i),new Kt(n,r,o),0,""),t.dirty=!0,s._selection=t}function hl(){return new Jo(new Set)}function Yp(t){let e=t.getEditorState()._selection,n=Gt(t._window);return Ri(e)||ia(e)?e.clone():Gd(e,n,t)}function Gd(t,e,n){var r=n._window;if(r===null)return null;var i=r.event,o=i?i.type:void 0;r=o==="selectionchange",i=!Qs&&(r||o==="beforeinput"||o==="compositionstart"||o==="compositionend"||o==="click"&&i&&i.detail===3||o==="drop"||o===void 0);let s;if(!V(t)||i){if(e===null)return null;if(i=e.anchorNode,o=e.focusNode,s=e.anchorOffset,e=e.focusOffset,r&&V(t)&&!Ti(n,i,o))return t.clone()}else return t.clone();if(n=Kd(i,s,o,e,n,t),n===null)return null;let[l,a]=n;return new tr(l,a,V(t)?t.format:0,V(t)?t.style:"")}function ue(){return Yt()._selection}function wi(){return pe()._editorState._selection}function yo(t,e,n,r=1){var i=t.anchor,o=t.focus,s=i.getNode(),l=o.getNode();if(e.is(s)||e.is(l)){if(s=e.__key,t.isCollapsed())e=i.offset,(n<=e&&0<r||n<e&&0>r)&&(n=Math.max(0,e+r),i.set(s,n,"element"),o.set(s,n,"element"),Eu(t));else{let c=t.isBackward();l=c?o:i;var a=l.getNode();i=c?i:o,o=i.getNode(),e.is(a)&&(a=l.offset,(n<=a&&0<r||n<a&&0>r)&&l.set(s,Math.max(0,a+r),"element")),e.is(o)&&(e=i.offset,(n<=e&&0<r||n<e&&0>r)&&i.set(s,Math.max(0,e+r),"element"))}Eu(t)}}function Eu(t){var e=t.anchor,n=e.offset;let r=t.focus;var i=r.offset,o=e.getNode(),s=r.getNode();if(t.isCollapsed())O(o)&&(s=o.getChildrenSize(),s=(i=n>=s)?o.getChildAtIndex(s-1):o.getChildAtIndex(n),F(s)&&(n=0,i&&(n=s.getTextContentSize()),e.set(s.__key,n,"text"),r.set(s.__key,n,"text")));else{if(O(o)){let l=o.getChildrenSize();n=(t=n>=l)?o.getChildAtIndex(l-1):o.getChildAtIndex(n),F(n)&&(o=0,t&&(o=n.getTextContentSize()),e.set(n.__key,o,"text"))}O(s)&&(n=s.getChildrenSize(),i=(e=i>=n)?s.getChildAtIndex(n-1):s.getChildAtIndex(i),F(i)&&(s=0,e&&(s=i.getTextContentSize()),r.set(i.__key,s,"text")))}}function Vp(t,e){if(e=e.getEditorState()._selection,t=t._selection,V(t)){var n=t.anchor;let r=t.focus,i;n.type==="text"&&(i=n.getNode(),i.selectionTransform(e,t)),r.type==="text"&&(n=r.getNode(),i!==n&&n.selectionTransform(e,t))}}function Eo(t,e,n,r,i){let o=null,s=0,l=null;r!==null?(o=r.__key,F(r)?(s=r.getTextContentSize(),l="text"):O(r)&&(s=r.getChildrenSize(),l="element")):i!==null&&(o=i.__key,F(i)?l="text":O(i)&&(l="element")),o!==null&&l!==null?t.set(o,s,l):(s=e.getIndexWithinParent(),s===-1&&(s=n.getChildrenSize()),t.set(n.__key,s,"element"))}function xu(t,e,n,r,i){t.type==="text"?(t.key=n,e||(t.offset+=i)):t.offset>r.getIndexWithinParent()&&--t.offset}function Yd(t,e,n){let r=[],i=null,o=null;t=t.getChildren();for(let f=0;f<t.length;f++){var s=t[f];mi(s)||L(108);var l=s.getChildren();s=0;for(let d of l){for(zt(d)||L(109);r[f]!==void 0&&r[f][s]!==void 0;)s++;l=f;var a=s,c=d;let u={cell:c,startColumn:a,startRow:l},g=c.__rowSpan,h=c.__colSpan;for(let p=0;p<g;p++){r[l+p]===void 0&&(r[l+p]=[]);for(let E=0;E<h;E++)r[l+p][a+E]=u}e.is(c)&&(i=u),n.is(c)&&(o=u),s+=d.__colSpan}}return i===null&&L(110),o===null&&L(111),[r,i,o]}let Le=null,Me=null,ct=!1,xs=!1,hi=0,Nu={characterData:!0,childList:!0,subtree:!0};function kr(){return ct||Le!==null&&Le._readOnly}function et(){ct&&L(13)}function Yt(){return Le===null&&L(15),Le}function pe(){return Me===null&&L(16),Me}function Cu(t,e,n){var r=e.__type;let i=t._nodes.get(r);for(i===void 0&&L(30),t=n.get(r),t===void 0&&(t=Array.from(i.transforms),n.set(r,t)),n=t.length,r=0;r<n&&(t[r](e),e.isAttached());r++);}function Jp(t,e){e=e._dirtyLeaves,t=t._nodeMap;for(let n of e)e=t.get(n),F(e)&&e.isAttached()&&e.isSimpleText()&&!e.isUnmergeable()&&wd(e)}function Xp(t,e){let n=e._dirtyLeaves,r=e._dirtyElements;t=t._nodeMap;let i=En(),o=new Map;var s=n;let l=s.size;for(var a=r,c=a.size;0<l||0<c;){if(0<l){e._dirtyLeaves=new Set;for(let f of s)s=t.get(f),F(s)&&s.isAttached()&&s.isSimpleText()&&!s.isUnmergeable()&&wd(s),s!==void 0&&s!==void 0&&s.__key!==i&&s.isAttached()&&Cu(e,s,o),n.add(f);if(s=e._dirtyLeaves,l=s.size,0<l){hi++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map;for(let f of a)a=f[0],c=f[1],(a==="root"||c)&&(s=t.get(a),s!==void 0&&s!==void 0&&s.__key!==i&&s.isAttached()&&Cu(e,s,o),r.set(a,c));s=e._dirtyLeaves,l=s.size,a=e._dirtyElements,c=a.size,hi++}e._dirtyLeaves=n,e._dirtyElements=r}function oa(t,e){var n=e.get(t.type);if(n===void 0&&L(17),n=n.klass,t.type!==n.getType()&&L(18),n=n.importJSON(t),t=t.children,O(n)&&Array.isArray(t))for(let r=0;r<t.length;r++){let i=oa(t[r],e);n.append(i)}return n}function vu(t,e){let n=Le,r=ct,i=Me;Le=t,ct=!0,Me=null;try{return e()}finally{Le=n,ct=r,Me=i}}function Kn(t){let e=t._pendingEditorState,n=t._rootElement,r=t._headless||n===null;if(e!==null){var i=t._editorState,o=i._selection,s=e._selection,l=t._dirtyType!==0,a=Le,c=ct,f=Me,d=t._updating,u=t._observer,g=null;if(t._pendingEditorState=null,t._editorState=e,!r&&l&&u!==null){Me=t,Le=e,ct=!1,t._updating=!0;try{let le=t._dirtyType,Re=t._dirtyElements,Ie=t._dirtyLeaves;u.disconnect();var h=le,p=Re,E=Ie;Qe=nn=ve="",$d=h===2,Yi=null,We=t,Tn=t._config,di=t._nodes,Vo=We._listeners.mutation,rl=p,il=E,Yn=i._nodeMap,Sn=e._nodeMap,ra=e._readOnly,ol=new Map(t._keyToDOMMap);let at=new Map;fi=at,Hr("root",null),fi=ol=Tn=Sn=Yn=il=rl=di=We=void 0,g=at}catch(le){if(le instanceof Error&&t._onError(le),xs)throw le;qd(t,null,n,e),pd(t),t._dirtyType=2,xs=!0,Kn(t),xs=!1;return}finally{u.observe(n,Nu),t._updating=d,Le=a,ct=c,Me=f}}e._readOnly||(e._readOnly=!0);var v=t._dirtyLeaves,m=t._dirtyElements,y=t._normalizedNodes,S=t._updateTags,R=t._deferred;l&&(t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set);var A=t._decorators,k=t._pendingDecorators||A,K=e._nodeMap,M;for(M in k)K.has(M)||(k===A&&(k=xd(t)),delete k[M]);var J=r?null:Gt(t._window);if(t._editable&&J!==null&&(l||s===null||s.dirty)){Me=t,Le=e;try{if(u!==null&&u.disconnect(),l||s===null||s.dirty){let le=t._blockCursorElement;le!==null&&nl(le,t,n);e:{let Re=J.anchorNode,Ie=J.focusNode,at=J.anchorOffset,wt=J.focusOffset,Ne=document.activeElement;if(!(S.has("collaboration")&&Ne!==n||Ne!==null&&ql(Ne)))if(V(s)){var te=s.anchor,se=s.focus,ot=te.key,dt=se.key,ft=ho(t,ot),Ke=ho(t,dt),_e=te.offset,I=se.offset,q=s.format,Y=s.style,Se=s.isCollapsed(),W=ft,ye=Ke,Ae=!1;if(te.type==="text"){W=co(ft);let Ce=te.getNode();Ae=Ce.getFormat()!==q||Ce.getStyle()!==Y}else V(o)&&o.anchor.type==="text"&&(Ae=!0);if(se.type==="text"&&(ye=co(Ke)),W!==null&&ye!==null){if(Se&&(o===null||Ae||V(o)&&(o.format!==q||o.style!==Y))){var Ye=performance.now();Fd=[q,Y,_e,ot,Ye]}if(at===_e&&wt===I&&Re===W&&Ie===ye&&(J.type!=="Range"||!Se)&&(Ne!==null&&n.contains(Ne)||n.focus({preventScroll:!0}),te.type!=="element"))break e;try{J.setBaseAndExtent(W,_e,ye,I)}catch{}if(!S.has("skip-scroll-into-view")&&s.isCollapsed()&&n!==null&&n===document.activeElement){let Ce=s instanceof tr&&s.anchor.type==="element"?W.childNodes[_e]||null:0<J.rangeCount?J.getRangeAt(0):null;if(Ce!==null){let Ve;if(Ce instanceof Text){let Pe=document.createRange();Pe.selectNode(Ce),Ve=Pe.getBoundingClientRect()}else Ve=Ce.getBoundingClientRect();let Ot=n.ownerDocument,Mt=Ot.defaultView;if(Mt!==null)for(var{top:st,bottom:At}=Ve,Rt,lt,Ee=n;Ee!==null;){let Pe=Ee===Ot.body;if(Pe)Rt=0,lt=Go(t).innerHeight;else{let Xt=Ee.getBoundingClientRect();Rt=Xt.top,lt=Xt.bottom}let bt=0;if(st<Rt?bt=-(Rt-st):At>lt&&(bt=At-lt),bt!==0)if(Pe)Mt.scrollBy(0,bt);else{let Xt=Ee.scrollTop;Ee.scrollTop+=bt;let On=Ee.scrollTop-Xt;st-=On,At-=On}if(Pe)break;Ee=Wo(Ee)}}}cl=!0}}else o!==null&&Ti(t,Re,Ie)&&J.removeAllRanges()}}e:{let le=t._blockCursorElement;if(V(s)&&s.isCollapsed()&&s.anchor.type==="element"&&n.contains(document.activeElement)){let Re=s.anchor,Ie=Re.getNode(),at=Re.offset,wt=Ie.getChildrenSize(),Ne=!1,Ce=null;if(at===wt){let Ve=Ie.getChildAtIndex(at-1);_s(Ve)&&(Ne=!0)}else{let Ve=Ie.getChildAtIndex(at);if(_s(Ve)){let Ot=Ve.getPreviousSibling();(Ot===null||_s(Ot))&&(Ne=!0,Ce=t.getElementByKey(Ve.__key))}}if(Ne){let Ve=t.getElementByKey(Ie.__key);if(le===null){let Ot=t._config.theme,Mt=document.createElement("div");Mt.contentEditable="false",Mt.setAttribute("data-lexical-cursor","true");let Pe=Ot.blockCursor;if(Pe!==void 0){if(typeof Pe=="string"){let bt=Pe.split(" ");Pe=Ot.blockCursor=bt}Pe!==void 0&&Mt.classList.add(...Pe)}t._blockCursorElement=le=Mt}n.style.caretColor="transparent",Ce===null?Ve.appendChild(le):Ve.insertBefore(le,Ce);break e}}le!==null&&nl(le,t,n)}u!==null&&u.observe(n,Nu)}finally{Me=f,Le=a}}if(g!==null){var Lt=g;let le=Array.from(t._listeners.mutation),Re=le.length;for(let Ie=0;Ie<Re;Ie++){let[at,wt]=le[Ie],Ne=Lt.get(wt);Ne!==void 0&&at(Ne,{dirtyLeaves:v,updateTags:S})}}V(s)||s===null||o!==null&&o.is(s)||t.dispatchCommand(jl,void 0);var Jt=t._pendingDecorators;Jt!==null&&(t._decorators=Jt,t._pendingDecorators=null,qr("decorator",t,!0,Jt));var mt=iu(i),Rn=iu(e);if(mt!==Rn&&qr("textcontent",t,!0,Rn),qr("update",t,!0,{dirtyElements:m,dirtyLeaves:v,editorState:e,normalizedNodes:y,prevEditorState:i,tags:S}),t._deferred=[],R.length!==0){let le=t._updating;t._updating=!0;try{for(let Re=0;Re<R.length;Re++)R[Re]()}finally{t._updating=le}}var wn=t._updates;if(wn.length!==0){let le=wn.shift();if(le){let[Re,Ie]=le;Vd(t,Re,Ie)}}}}function qr(t,e,n,...r){let i=e._updating;e._updating=n;try{let o=Array.from(e._listeners[t]);for(t=0;t<o.length;t++)o[t].apply(null,r)}finally{e._updating=i}}function P(t,e,n){if(t._updating===!1||Me!==t){let o=!1;return t.update(()=>{o=P(t,e,n)}),o}let r=Ql(t);for(let o=4;0<=o;o--)for(let s=0;s<r.length;s++){var i=r[s]._commands.get(e);if(i!==void 0&&(i=i[o],i!==void 0)){i=Array.from(i);let l=i.length;for(let a=0;a<l;a++)if(i[a](n,t)===!0)return!0}}return!1}function Tu(t,e){let n=t._updates;for(e=e||!1;n.length!==0;){var r=n.shift();if(r){let[i,o]=r,s;o!==void 0&&(r=o.onUpdate,s=o.tag,o.skipTransforms&&(e=!0),r&&t._deferred.push(r),s&&t._updateTags.add(s)),i()}}return e}function Vd(t,e,n){let r=t._updateTags;var i,o=i=!1;if(n!==void 0){var s=n.onUpdate;i=n.tag,i!=null&&r.add(i),i=n.skipTransforms||!1,o=n.discrete||!1}s&&t._deferred.push(s),n=t._editorState,s=t._pendingEditorState;let l=!1;(s===null||s._readOnly)&&(s=t._pendingEditorState=new qo(new Map((s||n)._nodeMap)),l=!0),s._flushSync=o,o=Le;let a=ct,c=Me,f=t._updating;Le=s,ct=!1,t._updating=!0,Me=t;try{l&&(t._headless?n._selection!=null&&(s._selection=n._selection.clone()):s._selection=Yp(t));let d=t._compositionKey;e(),i=Tu(t,i),Vp(s,t),t._dirtyType!==0&&(i?Jp(s,t):Xp(s,t),Tu(t),Pp(n,s,t._dirtyLeaves,t._dirtyElements)),d!==t._compositionKey&&(s._flushSync=!0);let u=s._selection;if(V(u)){let g=s._nodeMap,h=u.focus.key;g.get(u.anchor.key)!==void 0&&g.get(h)!==void 0||L(19)}else Ri(u)&&u._nodes.size===0&&(s._selection=null)}catch(d){d instanceof Error&&t._onError(d),t._pendingEditorState=n,t._dirtyType=2,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),Kn(t);return}finally{Le=o,ct=a,Me=c,t._updating=f,hi=0}t._dirtyType!==0||qp(s,t)?s._flushSync?(s._flushSync=!1,Kn(t)):l&&kp(()=>{Kn(t)}):(s._flushSync=!1,l&&(r.clear(),t._deferred=[],t._pendingEditorState=null))}function pt(t,e,n){t._updating?t._updates.push([e,n]):Vd(t,e,n)}class Jd extends Ai{constructor(e){super(e)}decorate(){L(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function ae(t){return t instanceof Jd}class nr extends Ai{constructor(e){super(e),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return Ap[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],n=this.getFirstChild();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getChildrenKeys(){let e=[],n=this.getFirstChild();for(;n!==null;)e.push(n.__key),n=n.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){let e=pe()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(e)}getAllTextNodes(){let e=[],n=this.getFirstChild();for(;n!==null;){if(F(n)&&e.push(n),O(n)){let r=n.getAllTextNodes();e.push(...r)}n=n.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;e!==null;){if(O(e)){let n=e.getFirstChild();if(n!==null){e=n;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;e!==null;){if(O(e)){let n=e.getLastChild();if(n!==null){e=n;continue}}break}return e}getDescendantByIndex(e){let n=this.getChildren(),r=n.length;return e>=r?(e=n[r-1],O(e)&&e.getLastDescendant()||e||null):(e=n[e],O(e)&&e.getFirstDescendant()||e||null)}getFirstChild(){let e=this.getLatest().__first;return e===null?null:ke(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return e===null&&L(45),e}getLastChild(){let e=this.getLatest().__last;return e===null?null:ke(e)}getLastChildOrThrow(){let e=this.getLastChild();return e===null&&L(96),e}getChildAtIndex(e){var n=this.getChildrenSize();let r;if(e<n/2){for(r=this.getFirstChild(),n=0;r!==null&&n<=e;){if(n===e)return r;r=r.getNextSibling(),n++}return null}for(r=this.getLastChild(),--n;r!==null&&n>=e;){if(n===e)return r;r=r.getPreviousSibling(),n--}return null}getTextContent(){let e="",n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){let o=n[i];e+=o.getTextContent(),O(o)&&i!==r-1&&!o.isInline()&&(e+=`

`)}return e}getTextContentSize(){let e=0,n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){let o=n[i];e+=o.getTextContentSize(),O(o)&&i!==r-1&&!o.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){return e!==""?(e=ru[e],(this.getFormat()&e)!==0):!1}select(e,n){et();let r=ue(),i=e,o=n;var s=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&n===0){if(e=this.getFirstChild(),F(e)||O(e))return e.select(0,0)}else if(!(e!==void 0&&e!==s||n!==void 0&&n!==s)&&(e=this.getLastChild(),F(e)||O(e)))return e.select()}if(i===void 0&&(i=s),o===void 0&&(o=s),s=this.__key,V(r))r.anchor.set(s,i,"element"),r.focus.set(s,o,"element"),r.dirty=!0;else return Wd(s,i,s,o,"element","element");return r}selectStart(){let e=this.getFirstDescendant();return O(e)||F(e)?e.select(0,0):e!==null?e.selectPrevious():this.select(0,0)}selectEnd(){let e=this.getLastDescendant();return O(e)||F(e)?e.select():e!==null?e.selectNext():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(n=>n.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let n=this.getWritable();return n.__dir=e,n}setFormat(e){return this.getWritable().__format=e!==""?ru[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,n,r){let i=r.length,o=this.getChildrenSize(),s=this.getWritable(),l=s.__key;var a=[],c=[];let f=this.getChildAtIndex(e+n),d=null,u=o-n+i;if(e!==0)if(e===o)d=this.getLastChild();else{var g=this.getChildAtIndex(e);g!==null&&(d=g.getPreviousSibling())}if(0<n){var h=d===null?this.getFirstChild():d.getNextSibling();for(g=0;g<n;g++){h===null&&L(100);var p=h.getNextSibling(),E=h.__key;h=h.getWritable(),Hn(h),c.push(E),h=p}}for(g=d,p=0;p<i;p++){E=r[p],g!==null&&E.is(g)&&(d=g=g.getPreviousSibling()),h=E.getWritable(),h.__parent===l&&u--,Hn(h);let v=E.__key;g===null?(s.__first=v,h.__prev=null):(g=g.getWritable(),g.__next=v,h.__prev=g.__key),E.__key===l&&L(76),h.__parent=l,a.push(v),g=E}if(e+n===o?g!==null&&(g.getWritable().__next=null,s.__last=g.__key):f!==null&&(e=f.getWritable(),g!==null?(n=g.getWritable(),e.__prev=g.__key,n.__next=f.__key):e.__prev=null),s.__size=u,c.length&&(e=ue(),V(e))){c=new Set(c),a=new Set(a);let{anchor:v,focus:m}=e;Su(v,c,a)&&Eo(v,v.getNode(),this,d,f),Su(m,c,a)&&Eo(m,m.getNode(),this,d,f),u!==0||this.canBeEmpty()||Dt(this)||this.remove()}return s}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canInsertTab(){return!1}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function O(t){return t instanceof nr}function Su(t,e,n){for(t=t.getNode();t;){let r=t.__key;if(e.has(r)&&!n.has(r))return!0;t=t.getParent()}return!1}class Lr extends nr{static getType(){return"root"}static clone(){return new Lr}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){L(51)}getTextContent(){let e=this.__cachedText;return!kr()&&pe()._dirtyType!==0||e===null?super.getTextContent():e}remove(){L(52)}replace(){L(53)}insertBefore(){L(54)}insertAfter(){L(55)}updateDOM(){return!1}append(...e){for(let n=0;n<e.length;n++){let r=e[n];O(r)||ae(r)||L(56)}return super.append(...e)}static importJSON(e){let n=Wt();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function ut(t){return t instanceof Lr}function qp(t,e){if(e=e.getEditorState()._selection,t=t._selection,t!==null){if(t.dirty||!t.is(e))return!0}else if(e!==null)return!0;return!1}function sa(){return new qo(new Map([["root",new Lr]]))}function Xd(t){let e=t.exportJSON();e.type!==t.constructor.getType()&&L(58);let n=e.children;if(O(t)){Array.isArray(n)||L(59),t=t.getChildren();for(let r=0;r<t.length;r++){let i=Xd(t[r]);n.push(i)}}return e}class qo{constructor(e,n){this._nodeMap=e,this._selection=n||null,this._readOnly=this._flushSync=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e){return vu(this,e)}clone(e){return e=new qo(this._nodeMap,e===void 0?this._selection:e),e._readOnly=!0,e}toJSON(){return vu(this,()=>({root:Xd(Wt())}))}}class Mr extends Ai{static getType(){return"linebreak"}static clone(e){return new Mr(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{let n=e.parentElement;return n!=null&&n.firstChild===e&&n.lastChild===e?null:{conversion:Zp,priority:0}}}}static importJSON(){return Ar()}exportJSON(){return{type:"linebreak",version:1}}}function Zp(){return{node:Ar()}}function Ar(){return Yo(new Mr)}function pi(t){return t instanceof Mr}function Ns(t,e){return e&16?"code":e&128?"mark":e&32?"sub":e&64?"sup":null}function Cs(t,e){return e&1?"strong":e&2?"em":"span"}function vs(t,e,n,r,i){t=r.classList,r=Vr(i,"base"),r!==void 0&&t.add(...r),r=Vr(i,"underlineStrikethrough");let o=!1,s=e&8&&e&4;var l=n&8&&n&4;r!==void 0&&(l?(o=!0,s||t.add(...r)):s&&t.remove(...r));for(let a in zn)l=zn[a],r=Vr(i,a),r!==void 0&&(n&l?!o||a!=="underline"&&a!=="strikethrough"?(!(e&l)||s&&a==="underline"||a==="strikethrough")&&t.add(...r):e&l&&t.remove(...r):e&l&&t.remove(...r))}function Ts(t,e,n){let r=e.firstChild;if(n=n.isComposing(),t+=n?Ko:"",r==null)e.textContent=t;else if(e=r.nodeValue,e!==t)if(n||Gn){n=e.length;let i=t.length,o=0,s=0;for(;o<n&&o<i&&e[o]===t[o];)o++;for(;s+o<n&&s+o<i&&e[n-s-1]===t[i-s-1];)s++;t=[o,n-o-s,t.slice(o,i-s)];let[l,a,c]=t;a!==0&&r.deleteData(l,a),r.insertData(l,c)}else r.nodeValue=t}function Li(t,e){return e=document.createElement(e),e.appendChild(t),e}class br extends Ai{static getType(){return"text"}static clone(e){return new br(e.__text,e.__key)}constructor(e,n){super(n),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return wp[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===En()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return(this.getLatest().__detail&1)!==0}isUnmergeable(){return(this.getLatest().__detail&2)!==0}hasFormat(e){return e=zn[e],(this.getFormat()&e)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,n){let r=this.getLatest().__format;return md(r,e,n)}createDOM(e){var n=this.__format,r=Ns(this,n);let i=Cs(this,n),o=document.createElement(r===null?i:r),s=o;return r!==null&&(s=document.createElement(i),o.appendChild(s)),r=s,Ts(this.__text,r,this),e=e.theme.text,e!==void 0&&vs(i,0,n,r,e),n=this.__style,n!==""&&(o.style.cssText=n),o}updateDOM(e,n,r){let i=this.__text;var o=e.__format,s=this.__format,l=Ns(this,o);let a=Ns(this,s);var c=Cs(this,o);let f=Cs(this,s);return(l===null?c:l)!==(a===null?f:a)?!0:l===a&&c!==f?(o=n.firstChild,o==null&&L(48),e=l=document.createElement(f),Ts(i,e,this),r=r.theme.text,r!==void 0&&vs(f,0,s,e,r),n.replaceChild(l,o),!1):(c=n,a!==null&&l!==null&&(c=n.firstChild,c==null&&L(49)),Ts(i,c,this),r=r.theme.text,r!==void 0&&o!==s&&vs(f,o,s,c,r),s=this.__style,e.__style!==s&&(n.style.cssText=s),!1)}static importDOM(){return{"#text":()=>({conversion:nm,priority:0}),b:()=>({conversion:tm,priority:0}),br:()=>({conversion:em,priority:0}),code:()=>({conversion:dn,priority:0}),em:()=>({conversion:dn,priority:0}),i:()=>({conversion:dn,priority:0}),s:()=>({conversion:dn,priority:0}),span:()=>({conversion:Qp,priority:0}),strong:()=>({conversion:dn,priority:0}),sub:()=>({conversion:dn,priority:0}),sup:()=>({conversion:dn,priority:0}),u:()=>({conversion:dn,priority:0})}}static importJSON(e){let n=Fe(e.text);return n.setFormat(e.format),n.setDetail(e.detail),n.setMode(e.mode),n.setStyle(e.style),n}exportDOM(e){return{element:e}=super.exportDOM(e),e!==null&&(this.hasFormat("bold")&&(e=Li(e,"b")),this.hasFormat("italic")&&(e=Li(e,"i")),this.hasFormat("strikethrough")&&(e=Li(e,"s")),this.hasFormat("underline")&&(e=Li(e,"u"))),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(e){let n=this.getWritable();return n.__format=typeof e=="string"?zn[e]:e,n}setDetail(e){let n=this.getWritable();return n.__detail=typeof e=="string"?Sp[e]:e,n}setStyle(e){let n=this.getWritable();return n.__style=e,n}toggleFormat(e){return e=zn[e],this.setFormat(this.getFormat()^e)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){if(e=Rp[e],this.__mode===e)return this;let n=this.getWritable();return n.__mode=e,n}setTextContent(e){if(this.__text===e)return this;let n=this.getWritable();return n.__text=e,n}select(e,n){et();let r=ue();var i=this.getTextContent();let o=this.__key;if(typeof i=="string"?(i=i.length,e===void 0&&(e=i),n===void 0&&(n=i)):n=e=0,V(r))i=En(),i!==r.anchor.key&&i!==r.focus.key||Be(o),r.setTextNodeRange(this,e,this,n);else return Wd(o,e,o,n,"text","text");return r}spliceText(e,n,r,i){let o=this.getWritable(),s=o.__text,l=r.length,a=e;0>a&&(a=l+a,0>a&&(a=0));let c=ue();return i&&V(c)&&(e+=l,c.setTextNodeRange(o,e,o,e)),n=s.slice(0,a)+r+s.slice(a+n),o.__text=n,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}canContainTabs(){return!1}splitText(...e){et();var n=this.getLatest(),r=n.getTextContent(),i=n.__key,o=En(),s=new Set(e);e=[];for(var l=r.length,a="",c=0;c<l;c++)a!==""&&s.has(c)&&(e.push(a),a=""),a+=r[c];if(a!==""&&e.push(a),s=e.length,s===0)return[];if(e[0]===r)return[n];var f=e[0];r=n.getParentOrThrow(),c=n.getFormat();let d=n.getStyle(),u=n.__detail;l=!1,n.isSegmented()?(a=Fe(f),a.__format=c,a.__style=d,a.__detail=u,l=!0):(a=n.getWritable(),a.__text=f),n=ue(),a=[a],f=f.length;for(let p=1;p<s;p++){var g=e[p],h=g.length;g=Fe(g).getWritable(),g.__format=c,g.__style=d,g.__detail=u;let E=g.__key;if(h=f+h,V(n)){let v=n.anchor,m=n.focus;v.key===i&&v.type==="text"&&v.offset>f&&v.offset<=h&&(v.key=E,v.offset-=f,n.dirty=!0),m.key===i&&m.type==="text"&&m.offset>f&&m.offset<=h&&(m.key=E,m.offset-=f,n.dirty=!0)}o===i&&Be(E),f=h,a.push(g)}return i=this.getPreviousSibling(),o=this.getNextSibling(),i!==null&&fo(i),o!==null&&fo(o),i=r.getWritable(),o=this.getIndexWithinParent(),l?(i.splice(o,0,a),this.remove()):i.splice(o,1,a),V(n)&&yo(n,r,o,s-1),a}mergeWithSibling(e){var n=e===this.getPreviousSibling();n||e===this.getNextSibling()||L(50);var r=this.__key;let i=e.__key,o=this.__text,s=o.length;En()===i&&Be(r);let l=ue();if(V(l)){let a=l.anchor,c=l.focus;a!==null&&a.key===i&&(xu(a,n,r,e,s),l.dirty=!0),c!==null&&c.key===i&&(xu(c,n,r,e,s),l.dirty=!0)}return r=e.__text,this.setTextContent(n?r+o:o+r),n=this.getWritable(),e.remove(),n}isTextEntity(){return!1}}function Qp(t){let e=t.style.fontWeight==="700",n=t.style.textDecoration==="line-through",r=t.style.fontStyle==="italic",i=t.style.textDecoration==="underline",o=t.style.verticalAlign;return{forChild:s=>(F(s)&&(e&&s.toggleFormat("bold"),n&&s.toggleFormat("strikethrough"),r&&s.toggleFormat("italic"),i&&s.toggleFormat("underline"),o==="sub"&&s.toggleFormat("subscript"),o==="super"&&s.toggleFormat("superscript")),s),node:null}}function em(){return{node:Ar()}}function tm(t){let e=t.style.fontWeight==="normal";return{forChild:n=>(F(n)&&!e&&n.toggleFormat("bold"),n),node:null}}function nm(t,e,n){return t=t.textContent||"",!n&&/\n/.test(t)&&(t=t.replace(/\r?\n/gm," "),t.trim().length===0)?{node:null}:{node:Fe(t)}}let rm={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function dn(t){let e=rm[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:n=>(F(n)&&!n.hasFormat(e)&&n.toggleFormat(e),n),node:null}}function Fe(t=""){return Yo(new br(t))}function F(t){return t instanceof br}class Ir extends nr{static getType(){return"paragraph"}static clone(e){return new Ir(e.__key)}createDOM(e){let n=document.createElement("p");return e=Vr(e.theme,"paragraph"),e!==void 0&&n.classList.add(...e),n}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:im,priority:0})}}exportDOM(e){if({element:e}=super.exportDOM(e),e&&this.isEmpty()&&e.append(document.createElement("br")),e){var n=this.getFormatType();e.style.textAlign=n,(n=this.getDirection())&&(e.dir=n),n=this.getIndent(),0<n&&(e.style.textIndent=`${20*n}px`)}return{element:e}}static importJSON(e){let n=Vn();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,n){e=Vn();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,n),e}collapseAtStart(){let e=this.getChildren();if(e.length===0||F(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function im(t){let e=Vn();return t.style&&(e.setFormat(t.style.textAlign),t=parseInt(t.style.textIndent,10)/20,0<t&&e.setIndent(t)),{node:e}}function Vn(){return Yo(new Ir)}function qd(t,e,n,r){let i=t._keyToDOMMap;i.clear(),t._editorState=sa(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null,r=t._observer,r!==null&&(r.disconnect(),t._observer=null),e!==null&&(e.textContent=""),n!==null&&(n.textContent="",i.set("root",n))}function om(t){let e=new Map,n=new Set;return t.forEach(r=>{if(r=r.klass.importDOM!=null?r.klass.importDOM.bind(r.klass):null,r!=null&&!n.has(r)){n.add(r);var i=r();i!==null&&Object.keys(i).forEach(o=>{let s=e.get(o);s===void 0&&(s=[],e.set(o,s)),s.push(i[o])})}}),e}class sm{constructor(e,n,r,i,o,s,l){this._parentEditor=n,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Cd(),this._onError=o,this._htmlConversions=s,this._editable=l,this._headless=n!==null&&n._headless,this._blockCursorElement=this._window=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){let n=this._listeners.update;return n.add(e),()=>{n.delete(e)}}registerEditableListener(e){let n=this._listeners.editable;return n.add(e),()=>{n.delete(e)}}registerDecoratorListener(e){let n=this._listeners.decorator;return n.add(e),()=>{n.delete(e)}}registerTextContentListener(e){let n=this._listeners.textcontent;return n.add(e),()=>{n.delete(e)}}registerRootListener(e){let n=this._listeners.root;return e(this._rootElement,null),n.add(e),()=>{e(null,this._rootElement),n.delete(e)}}registerCommand(e,n,r){r===void 0&&L(35);let i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);let o=i.get(e);o===void 0&&L(36);let s=o[r];return s.add(n),()=>{s.delete(n),o.every(l=>l.size===0)&&i.delete(e)}}registerMutationListener(e,n){this._nodes.get(e.getType())===void 0&&L(37);let r=this._listeners.mutation;return r.set(n,e),()=>{r.delete(n)}}registerNodeTransformToKlass(e,n){return e=e.getType(),e=this._nodes.get(e),e===void 0&&L(37),e.transforms.add(n),e}registerNodeTransform(e,n){var r=this.registerNodeTransformToKlass(e,n);let i=[r];return r=r.replaceWithKlass,r!=null&&(r=this.registerNodeTransformToKlass(r,n),i.push(r)),Lp(this,e.getType()),()=>{i.forEach(o=>o.transforms.delete(n))}}hasNodes(e){for(let n=0;n<e.length;n++){let r=e[n].getType();if(!this._nodes.has(r))return!1}return!0}dispatchCommand(e,n){return P(this,e,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let n=this._rootElement;if(e!==n){let o=Vr(this._config.theme,"root");var r=this._pendingEditorState||this._editorState;if(this._rootElement=e,qd(this,n,e,r),n!==null){if(!this._config.disableEvents){if(Jr!==0&&(Jr--,Jr===0&&n.ownerDocument.removeEventListener("selectionchange",zd)),r=n.__lexicalEditor,r!=null){if(r._parentEditor!==null){var i=Ql(r);i=i[i.length-1]._key,Nr.get(i)===r&&Nr.delete(i)}else Nr.delete(r._key);n.__lexicalEditor=null}for(r=jd(n),i=0;i<r.length;i++)r[i]();n.__lexicalEventHandles=[]}o!=null&&n.classList.remove(...o)}e!==null?(r=(r=e.ownerDocument)&&r.defaultView||null,i=e.style,i.userSelect="text",i.whiteSpace="pre-wrap",i.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=r,this._dirtyType=2,pd(this),this._updateTags.add("history-merge"),Kn(this),this._config.disableEvents||Gp(e,this),o!=null&&e.classList.add(...o)):this._window=null,qr("root",this,!1,e,n)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,n){e.isEmpty()&&L(38),hd(this);let r=this._pendingEditorState,i=this._updateTags;n=n!==void 0?n.tag:null,r===null||r.isEmpty()||(n!=null&&i.add(n),Kn(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,n!=null&&i.add(n),Kn(this)}parseEditorState(e,n){e=typeof e=="string"?JSON.parse(e):e;let r=sa(),i=Le,o=ct,s=Me,l=this._dirtyElements,a=this._dirtyLeaves,c=this._cloneNotNeeded,f=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,Le=r,ct=!1,Me=this;try{oa(e.root,this._nodes),n&&n(),r._readOnly=!0}catch(d){d instanceof Error&&this._onError(d)}finally{this._dirtyElements=l,this._dirtyLeaves=a,this._cloneNotNeeded=c,this._dirtyType=f,Le=i,ct=o,Me=s}return r}update(e,n){pt(this,e,n)}focus(e,n={}){let r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),pt(this,()=>{let i=ue(),o=Wt();i!==null?i.dirty=!0:o.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?o.selectStart():o.selectEnd())},{onUpdate:()=>{r.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){var e=this._rootElement;e!==null&&e.blur(),e=Gt(this._window),e!==null&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,qr("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class la extends nr{constructor(e,n){super(n),this.__colSpan=e,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}}function zt(t){return t instanceof la}class Zd extends nr{}function aa(t){return t instanceof Zd}class Qd extends nr{}function mi(t){return t instanceof Qd}w.$addUpdateTag=function(t){et(),pe()._updateTags.add(t)};w.$applyNodeReplacement=Yo;w.$copyNode=Sd;w.$createLineBreakNode=Ar;w.$createNodeSelection=hl;w.$createParagraphNode=Vn;w.$createRangeSelection=function(){let t=new Kt("root",0,"element"),e=new Kt("root",0,"element");return new tr(t,e,0,"")};w.$createTextNode=Fe;w.$getAdjacentNode=tl;w.$getNearestNodeFromDOMNode=Si;w.$getNearestRootOrShadowRoot=Td;w.$getNodeByKey=ke;w.$getPreviousSelection=wi;w.$getRoot=Wt;w.$getSelection=ue;w.$getTextContent=function(){let t=ue();return t===null?"":t.getTextContent()};w.$hasAncestor=po;w.$hasUpdateTag=function(t){return pe()._updateTags.has(t)};w.$insertNodes=function(t,e){let n=ue();return n===null&&(n=Wt().selectEnd()),n.insertNodes(t,e)};w.$isDecoratorNode=ae;w.$isElementNode=O;w.$isInlineElementOrDecoratorNode=function(t){return O(t)&&t.isInline()||ae(t)&&t.isInline()};w.$isLeafNode=_d;w.$isLineBreakNode=pi;w.$isNodeSelection=Ri;w.$isParagraphNode=function(t){return t instanceof Ir};w.$isRangeSelection=V;w.$isRootNode=ut;w.$isRootOrShadowRoot=Dt;w.$isTextNode=F;w.$nodesOfType=function(t){var e=Yt();let n=e._readOnly,r=t.getType();e=e._nodeMap;let i=[];for(let[,o]of e)o instanceof t&&o.__type===r&&(n||o.isAttached())&&i.push(o);return i};w.$normalizeSelection__EXPERIMENTAL=Od;w.$parseSerializedNode=function(t){return oa(t,pe()._nodes)};w.$setCompositionKey=Be;w.$setSelection=vn;w.$splitNode=Ad;w.BLUR_COMMAND=dd;w.CAN_REDO_COMMAND={};w.CAN_UNDO_COMMAND={};w.CLEAR_EDITOR_COMMAND={};w.CLEAR_HISTORY_COMMAND={};w.CLICK_COMMAND=Yc;w.COMMAND_PRIORITY_CRITICAL=4;w.COMMAND_PRIORITY_EDITOR=0;w.COMMAND_PRIORITY_HIGH=3;w.COMMAND_PRIORITY_LOW=1;w.COMMAND_PRIORITY_NORMAL=2;w.CONTROLLED_TEXT_INSERTION_COMMAND=xr;w.COPY_COMMAND=Wl;w.CUT_COMMAND=Gl;w.DELETE_CHARACTER_COMMAND=ai;w.DELETE_LINE_COMMAND=ci;w.DELETE_WORD_COMMAND=ui;w.DEPRECATED_$computeGridMap=Yd;w.DEPRECATED_$createGridSelection=function(){let t=new Kt("root",0,"element"),e=new Kt("root",0,"element");return new Xo("root",t,e)};w.DEPRECATED_$getNodeTriplet=function(t){t instanceof la||(t instanceof Ai?(t=mo(t,zt),zt(t)||L(114)):(t=mo(t.getNode(),zt),zt(t)||L(114)));let e=t.getParent();mi(e)||L(115);let n=e.getParent();return aa(n)||L(116),[t,e,n]};w.DEPRECATED_$isGridCellNode=zt;w.DEPRECATED_$isGridNode=aa;w.DEPRECATED_$isGridRowNode=mi;w.DEPRECATED_$isGridSelection=ia;w.DEPRECATED_GridCellNode=la;w.DEPRECATED_GridNode=Zd;w.DEPRECATED_GridRowNode=Qd;w.DRAGEND_COMMAND=ud;w.DRAGOVER_COMMAND=ad;w.DRAGSTART_COMMAND=ld;w.DROP_COMMAND=sd;w.DecoratorNode=Jd;w.ElementNode=nr;w.FOCUS_COMMAND=cd;w.FORMAT_ELEMENT_COMMAND={};w.FORMAT_TEXT_COMMAND=yn;w.INDENT_CONTENT_COMMAND={};w.INSERT_LINE_BREAK_COMMAND=Yr;w.INSERT_PARAGRAPH_COMMAND=qs;w.KEY_ARROW_DOWN_COMMAND=ed;w.KEY_ARROW_LEFT_COMMAND=qc;w.KEY_ARROW_RIGHT_COMMAND=Jc;w.KEY_ARROW_UP_COMMAND=Qc;w.KEY_BACKSPACE_COMMAND=nd;w.KEY_DELETE_COMMAND=id;w.KEY_DOWN_COMMAND=Vc;w.KEY_ENTER_COMMAND=ao;w.KEY_ESCAPE_COMMAND=rd;w.KEY_MODIFIER_COMMAND=fd;w.KEY_SPACE_COMMAND=td;w.KEY_TAB_COMMAND=od;w.LineBreakNode=Mr;w.MOVE_TO_END=Xc;w.MOVE_TO_START=Zc;w.OUTDENT_CONTENT_COMMAND={};w.PASTE_COMMAND=zl;w.ParagraphNode=Ir;w.REDO_COMMAND=Kl;w.REMOVE_TEXT_COMMAND=Zs;w.RootNode=Lr;w.SELECTION_CHANGE_COMMAND=jl;w.TextNode=br;w.UNDO_COMMAND=Hl;w.createCommand=function(){return{}};w.createEditor=function(t){var e=t||{},n=Me,r=e.theme||{};let i=t===void 0?n:e.parentEditor||null,o=e.disableEvents||!1,s=sa(),l=e.namespace||(i!==null?i._config.namespace:Cd()),a=e.editorState,c=[Lr,br,Mr,Ir,...e.nodes||[]],f=e.onError;if(e=e.editable!==void 0?e.editable:!0,t===void 0&&n!==null)t=n._nodes;else for(t=new Map,n=0;n<c.length;n++){let u=c[n],g=null;var d=null;typeof u!="function"&&(d=u,u=d.replace,g=d.with,d=d.withKlass?d.withKlass:null);let h=u.getType(),p=u.transform(),E=new Set;p!==null&&E.add(p),t.set(h,{klass:u,replace:g,replaceWithKlass:d,transforms:E})}return r=new sm(s,i,t,{disableEvents:o,namespace:l,theme:r},f||console.error,om(t),e),a!==void 0&&(r._pendingEditorState=a,r._dirtyType=2),r};w.getNearestEditorFromDOMNode=Zl;w.isSelectionCapturedInDecoratorInput=ql;w.isSelectionWithinEditor=Ti;const lm=w;var H=lm,z=H;let xo=new Map;function Au(t){for(;t!=null;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild}return null}function Ru(t){let e=t.parentNode;if(e==null)throw Error("Should never happen");return[e,Array.from(e.childNodes).indexOf(t)]}function ef(t){let e={};t=t.split(";");for(let n of t)if(n!==""){let[r,i]=n.split(/:([^]+)/);e[r.trim()]=i.trim()}return e}function No(t){let e=xo.get(t);return e===void 0&&(e=ef(t),xo.set(t,e)),e}function am(t){let e="";for(let n in t)n&&(e+=`${n}: ${t[n]};`);return e}function or(t,e){var n=No("getStyle"in t?t.getStyle():t.style);e=Object.entries(e).reduce((r,[i,o])=>(o===null?delete r[i]:r[i]=o,r),{...n}),n=am(e),t.setStyle(n),xo.set(n,e)}function um(t){for(;t!==null&&!z.$isRootOrShadowRoot(t);){let e=t.getLatest(),n=t.getParent();e.getChildrenSize()===0&&t.remove(!0),t=n}}function Ss(t,e,n,r,i=null){if(e.length!==0){var o=e[0],s=new Map,l=[];o=z.$isElementNode(o)?o:o.getParentOrThrow(),o.isInline()&&(o=o.getParentOrThrow());for(var a=!1;o!==null;){var c=o.getPreviousSibling();if(c!==null){o=c,a=!0;break}if(o=o.getParentOrThrow(),z.$isRootOrShadowRoot(o))break}c=new Set;for(var f=0;f<n;f++){var d=e[f];z.$isElementNode(d)&&d.getChildrenSize()===0&&c.add(d.getKey())}var u=new Set;for(f=0;f<n;f++){d=e[f];var g=d.getParent();if(g!==null&&g.isInline()&&(g=g.getParent()),g!==null&&z.$isLeafNode(d)&&!u.has(d.getKey())){if(d=g.getKey(),s.get(d)===void 0){let h=r();h.setFormat(g.getFormatType()),h.setIndent(g.getIndent()),l.push(h),s.set(d,h),g.getChildren().forEach(p=>{h.append(p),u.add(p.getKey()),z.$isElementNode(p)&&p.getChildrenKeys().forEach(E=>u.add(E))}),um(g)}}else c.has(d.getKey())&&(g=r(),g.setFormat(d.getFormatType()),g.setIndent(d.getIndent()),l.push(g),d.remove(!0))}if(i!==null)for(e=0;e<l.length;e++)i.append(l[e]);if(e=null,z.$isRootOrShadowRoot(o))if(a)if(i!==null)o.insertAfter(i);else for(i=l.length-1;0<=i;i--)o.insertAfter(l[i]);else if(a=o.getFirstChild(),z.$isElementNode(a)&&(o=a),a===null)if(i)o.append(i);else for(i=0;i<l.length;i++)a=l[i],o.append(a),e=a;else if(i!==null)a.insertBefore(i);else for(o=0;o<l.length;o++)i=l[o],a.insertBefore(i),e=i;else if(i)o.insertAfter(i);else for(i=l.length-1;0<=i;i--)a=l[i],o.insertAfter(a),e=a;l=z.$getPreviousSelection(),z.$isRangeSelection(l)&&l.anchor.getNode().isAttached()&&l.focus.getNode().isAttached()?z.$setSelection(l.clone()):e!==null?e.selectEnd():t.dirty=!0}}function tf(t,e,n,r){t.modify(e?"extend":"move",n,r)}function nf(t){return t=t.anchor.getNode(),(z.$isRootNode(t)?t:t.getParentOrThrow()).getDirection()==="rtl"}be.$addNodeStyle=function(t){t=t.getStyle();let e=ef(t);xo.set(t,e)};be.$cloneWithProperties=function(t){t=t.getLatest();let e=t.constructor.clone(t);return e.__parent=t.__parent,e.__next=t.__next,e.__prev=t.__prev,z.$isElementNode(t)&&z.$isElementNode(e)?(e.__first=t.__first,e.__last=t.__last,e.__size=t.__size,e.__format=t.__format,e.__indent=t.__indent,e.__dir=t.__dir,e):(z.$isTextNode(t)&&z.$isTextNode(e)&&(e.__format=t.__format,e.__style=t.__style,e.__mode=t.__mode,e.__detail=t.__detail),e)};be.$getSelectionStyleValueForProperty=function(t,e,n=""){let r=null,i=t.getNodes();var o=t.anchor,s=t.focus,l=t.isBackward();let a=l?s.offset:o.offset;if(o=l?s.getNode():o.getNode(),t.style!==""&&(t=No(t.style),t!==null&&e in t))return t[e];for(t=0;t<i.length;t++){var c=i[t];if((t===0||a!==0||!c.is(o))&&z.$isTextNode(c)){if(s=e,l=n,c=c.getStyle(),c=No(c),s=c!==null&&c[s]||l,r===null)r=s;else if(r!==s){r="";break}}}return r===null?n:r};be.$isAtNodeEnd=function(t){return t.type==="text"?t.offset===t.getNode().getTextContentSize():t.offset===t.getNode().getChildrenSize()};be.$isParentElementRTL=nf;be.$moveCaretSelection=tf;be.$moveCharacter=function(t,e,n){let r=nf(t);tf(t,e,n?!r:r,"character")};be.$patchStyleText=function(t,e){var n=t.getNodes();let r=n.length-1,i=n[0],o=n[r];if(t.isCollapsed())or(t,e);else{var s=t.anchor,l=t.focus,a=i.getTextContent().length,c=l.offset,f=s.offset,d=s.isBefore(l),u=d?f:c;t=d?c:f;var g=d?s.type:l.type,h=d?l.type:s.type;if(s=d?l.key:s.key,z.$isTextNode(i)&&u===a&&(l=i.getNextSibling(),z.$isTextNode(l)&&(u=f=0,i=l)),n.length===1)z.$isTextNode(i)&&(u=g==="element"?0:f>c?c:f,t=h==="element"?a:f>c?f:c,u!==t&&(u===0&&t===a?(or(i,e),i.select(u,t)):(n=i.splitText(u,t),n=u===0?n[0]:n[1],or(n,e),n.select(0,t-u))));else for(z.$isTextNode(i)&&u<i.getTextContentSize()&&(u!==0&&(i=i.splitText(u)[1]),or(i,e)),z.$isTextNode(o)&&(u=o.getTextContent().length,o.__key!==s&&t!==0&&(t=u),t!==u&&([o]=o.splitText(t)),t!==0&&or(o,e)),t=1;t<r;t++)u=n[t],a=u.getKey(),z.$isTextNode(u)&&a!==i.getKey()&&a!==o.getKey()&&!u.isToken()&&or(u,e)}};be.$selectAll=function(t){let e=t.anchor;t=t.focus;var n=e.getNode().getTopLevelElementOrThrow().getParentOrThrow();let r=n.getFirstDescendant();n=n.getLastDescendant();let i="element",o="element",s=0;z.$isTextNode(r)?i="text":z.$isElementNode(r)||r===null||(r=r.getParentOrThrow()),z.$isTextNode(n)?(o="text",s=n.getTextContentSize()):z.$isElementNode(n)||n===null||(n=n.getParentOrThrow()),r&&n&&(e.set(r.getKey(),0,i),t.set(n.getKey(),s,o))};be.$setBlocksType=function(t,e){if(t.anchor.key==="root"){e=e();var n=z.$getRoot();(t=n.getFirstChild())?t.replace(e,!0):n.append(e)}else for(n=t.getNodes(),t=t.anchor.getNode().getParentOrThrow(),n.indexOf(t)===-1&&n.push(t),t.isInline()&&(t=t.getParentOrThrow(),n.indexOf(t)===-1&&n.push(t)),t=0;t<n.length;t++){let o=n[t];var r=o;if(!z.$isElementNode(r)||z.$isRootOrShadowRoot(r))r=!1;else{var i=r.getFirstChild();i=i===null||z.$isTextNode(i)||i.isInline(),r=!r.isInline()&&r.canBeEmpty()!==!1&&i}r&&(r=e(),r.setFormat(o.getFormatType()),r.setIndent(o.getIndent()),o.replace(r,!0))}};be.$shouldOverrideDefaultCharacterSelection=function(t,e){return t=z.$getAdjacentNode(t.focus,e),z.$isDecoratorNode(t)&&!t.isIsolated()||z.$isElementNode(t)&&!t.isInline()&&!t.canBeEmpty()};be.$sliceSelectedTextNodeContent=function(t,e){if(e.isSelected()&&!e.isSegmented()&&!e.isToken()&&(z.$isRangeSelection(t)||z.DEPRECATED_$isGridSelection(t))){var n=t.anchor.getNode(),r=t.focus.getNode(),i=e.is(n),o=e.is(r);if(i||o){i=t.isBackward();let[s,l]=t.getCharacterOffsets();t=n.is(r),o=e.is(i?r:n),r=e.is(i?n:r),n=0;let a;t?(n=s>l?l:s,a=s>l?s:l):o?(n=i?l:s,a=void 0):r&&(i=i?s:l,n=0,a=i),e.__text=e.__text.slice(n,a)}}return e};be.$wrapNodes=function(t,e,n=null){var r=t.getNodes();let i=r.length;var o=t.anchor;if(i===0||i===1&&o.type==="element"&&o.getNode().getChildrenSize()===0){t=o.type==="text"?o.getNode().getParentOrThrow():o.getNode(),r=t.getChildren();let l=e();l.setFormat(t.getFormatType()),l.setIndent(t.getIndent()),r.forEach(a=>l.append(a)),n&&(l=n.append(l)),t.replace(l)}else{o=null;var s=[];for(let l=0;l<i;l++){let a=r[l];z.$isRootOrShadowRoot(a)?(Ss(t,s,s.length,e,n),s=[],o=a):o===null||o!==null&&z.$hasAncestor(a,o)?s.push(a):(Ss(t,s,s.length,e,n),s=[a])}Ss(t,s,s.length,e,n)}};be.createDOMRange=function(t,e,n,r,i){let o=e.getKey(),s=r.getKey(),l=document.createRange(),a=t.getElementByKey(o);if(t=t.getElementByKey(s),z.$isTextNode(e)&&(a=Au(a)),z.$isTextNode(r)&&(t=Au(t)),e===void 0||r===void 0||a===null||t===null)return null;a.nodeName==="BR"&&([a,n]=Ru(a)),t.nodeName==="BR"&&([t,i]=Ru(t)),e=a.firstChild,a===t&&e!=null&&e.nodeName==="BR"&&n===0&&i===0&&(i=1);try{l.setStart(a,n),l.setEnd(t,i)}catch{return null}return!l.collapsed||n===i&&o===s||(l.setStart(t,i),l.setEnd(a,n)),l};be.createRectsFromDOMRange=function(t,e){var n=t.getRootElement();if(n===null)return[];t=n.getBoundingClientRect(),n=getComputedStyle(n),n=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e=Array.from(e.getClientRects());let r=e.length,i;for(let o=0;o<r;o++){let s=e[o],l=s.width+n===t.width;i&&i.top===s.top&&i.left===s.left&&i.width===s.width&&i.height===s.height||l?(e.splice(o--,1),r--):i=s}return e};be.getStyleObjectFromCSS=No;be.trimTextContentFromAnchor=function(t,e,n){let r=e.getNode();if(z.$isElementNode(r)){var i=r.getDescendantByIndex(e.offset);i!==null&&(r=i)}for(;0<n&&r!==null;){var o=r.getPreviousSibling(),s=0;if(o===null){i=r.getParentOrThrow();for(var l=i.getPreviousSibling();l===null;){if(i=i.getParent(),i===null){o=null;break}l=i.getPreviousSibling()}i!==null&&(s=i.isInline()?0:2,o=z.$isElementNode(l)?l.getLastDescendant():l)}if(l=r.getTextContent(),l===""&&z.$isElementNode(r)&&!r.isInline()&&(l=`

`),i=r.getTextContentSize(),!z.$isTextNode(r)||n>=i)l=r.getParent(),r.remove(),l==null||l.getChildrenSize()!==0||z.$isRootNode(l)||l.remove(),n-=i+s,r=o;else{let a=r.getKey();s=t.getEditorState().read(()=>{const f=z.$getNodeByKey(a);return z.$isTextNode(f)&&f.isSimpleText()?f.getTextContent():null}),o=i-n;let c=l.slice(0,o);s!==null&&s!==l?(n=z.$getPreviousSelection(),i=r,r.isSimpleText()?r.setTextContent(s):(i=z.$createTextNode(s),r.replace(i)),z.$isRangeSelection(n)&&n.isCollapsed()&&(n=n.anchor.offset,i.select(n,n))):r.isSimpleText()?(s=e.key===a,l=e.offset,l<n&&(l=i),n=s?l-n:0,i=s?l:o,s&&n===0?([n]=r.splitText(n,i),n.remove()):([,n]=r.splitText(n,i),n.remove())):(n=z.$createTextNode(c),r.replace(n)),n=0}}};const cm=be;var Nt=cm,wu=Nt,pr=H;function rf(t,e,n,r=null){let i=r!=null?e.isSelected():!0,o=pr.$isElementNode(e)&&e.excludeFromCopy("html");var s=e;r!==null&&(s=wu.$cloneWithProperties(e),s=pr.$isTextNode(s)&&r!=null?wu.$sliceSelectedTextNodeContent(r,s):s);let l=pr.$isElementNode(s)?s.getChildren():[],{element:a,after:c}=s.exportDOM(t);if(!a)return!1;let f=document.createDocumentFragment();for(let d=0;d<l.length;d++){let u=l[d],g=rf(t,u,f,r);!i&&pr.$isElementNode(e)&&g&&e.extractWithChild(u,r,"html")&&(i=!0)}return i&&!o?(a.append(f),n.append(a),c&&(t=c.call(s,a))&&a.replaceWith(t)):n.append(f),i}let of=new Set(["STYLE","SCRIPT"]);function sf(t,e,n=new Map,r,i=!1){let o=[];if(of.has(t.nodeName))return o;let s=null;var{nodeName:l}=t,a=e._htmlConversions.get(l.toLowerCase());if(l=null,a!==void 0)for(c of a)a=c(t),a!==null&&(l===null||l.priority<a.priority)&&(l=a);var c=(c=l!==null?l.conversion:null)?c(t,void 0,i):null;if(l=null,c!==null){if(l=c.after,s=c.node,s!==null){for(var[,f]of n)if(s=f(s,r),!s)break;s&&o.push(s)}c.forChild!=null&&n.set(t.nodeName,c.forChild)}for(t=t.childNodes,r=[],f=0;f<t.length;f++)r.push(...sf(t[f],e,new Map(n),s,i||(c&&c.preformatted)===!0));return l!=null&&(r=l(r)),s==null?o=o.concat(r):pr.$isElementNode(s)&&s.append(...r),o}Ul.$generateHtmlFromNodes=function(t,e){if(typeof document>"u"||typeof window>"u")throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let n=document.createElement("div"),r=pr.$getRoot().getChildren();for(let i=0;i<r.length;i++)rf(t,r[i],n,e);return n.innerHTML};Ul.$generateNodesFromDOM=function(t,e){let n=[];e=e.body?e.body.childNodes:[];for(let i=0;i<e.length;i++){var r=e[i];of.has(r.nodeName)||(r=sf(r,t),r!==null&&(n=n.concat(r)))}return n};const dm=Ul;var lf=dm,af={},Zo={},uf=N;let cf=uf.createContext(null);Zo.LexicalComposerContext=cf;Zo.createLexicalComposerContext=function(t,e){let n=null;return t!=null&&(n=t[1]),{getTheme:function(){return e??(n!=null?n.getTheme():null)}}};Zo.useLexicalComposerContext=function(){let t=uf.useContext(cf);if(t==null)throw Error("Minified Lexical error #8; visit https://lexical.dev/docs/error?code=8 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return t};const fm=Zo;var Ge=fm,Ou=Ge,Wr=H,Co=N;let df=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";var gm=df?Co.useLayoutEffect:Co.useEffect;let Mi={tag:"history-merge"};function hm(t,e){if(e!==null){if(e===void 0)t.update(()=>{var n=Wr.$getRoot();if(n.isEmpty()){let r=Wr.$createParagraphNode();n.append(r),n=df?document.activeElement:null,(Wr.$getSelection()!==null||n!==null&&n===t.getRootElement())&&r.select()}},Mi);else if(e!==null)switch(typeof e){case"string":let n=t.parseEditorState(e);t.setEditorState(n,Mi);break;case"object":t.setEditorState(e,Mi);break;case"function":t.update(()=>{Wr.$getRoot().isEmpty()&&e(t)},Mi)}}}af.LexicalComposer=function({initialConfig:t,children:e}){let n=Co.useMemo(()=>{const{theme:r,namespace:i,editor__DEPRECATED:o,nodes:s,onError:l,editorState:a}=t,c=Ou.createLexicalComposerContext(null,r);let f=o||null;if(f===null){const d=Wr.createEditor({editable:t.editable,namespace:i,nodes:s,onError:u=>l(u,d),theme:r});hm(d,a),f=d}return[f,c]},[]);return gm(()=>{let r=t.editable,[i]=n;i.setEditable(r!==void 0?r:!0)},[]),Co.createElement(Ou.LexicalComposerContext.Provider,{value:n},e)};const pm=af;var mm=pm,ff={},_m=Ge,Zr=N,ym=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Zr.useLayoutEffect:Zr.useEffect;function Em(t){let[e]=_m.useLexicalComposerContext(),n=Zr.useMemo(()=>t(e),[e,t]),r=Zr.useRef(n.initialValueFn()),[i,o]=Zr.useState(r.current);return ym(()=>{let{initialValueFn:s,subscribe:l}=n,a=s();return r.current!==a&&(r.current=a,o(a)),l(c=>{r.current=c,o(c)})},[n,t]),i}function xm(t){return{initialValueFn:()=>t.isEditable(),subscribe:e=>t.registerEditableListener(e)}}var Nm=function(){return Em(xm)};const Cm=Nm;var vm=Cm,An={},Ze=H;function ua(t,e=!0){return t?!1:(t=gf(),e&&(t=t.trim()),t==="")}function gf(){return Ze.$getRoot().getTextContent()}function hf(t){if(!ua(t,!1))return!1;t=Ze.$getRoot().getChildren();let e=t.length;if(1<e)return!1;for(let r=0;r<e;r++){var n=t[r];if(Ze.$isDecoratorNode(n))return!1;if(Ze.$isElementNode(n)){if(!Ze.$isParagraphNode(n)||n.__indent!==0)return!1;n=n.getChildren();let i=n.length;for(let o=0;o<i;o++)if(!Ze.$isTextNode(n[r]))return!1}}return!0}An.$canShowPlaceholder=hf;An.$canShowPlaceholderCurry=function(t){return()=>hf(t)};An.$findTextIntersectionFromCharacters=function(t,e){var n=t.getFirstChild();t=0;e:for(;n!==null;){if(Ze.$isElementNode(n)){var r=n.getFirstChild();if(r!==null){n=r;continue}}else if(Ze.$isTextNode(n)){if(r=n.getTextContentSize(),t+r>e)return{node:n,offset:e-t};t+=r}if(r=n.getNextSibling(),r!==null)n=r;else{for(n=n.getParent();n!==null;){if(r=n.getNextSibling(),r!==null){n=r;continue e}n=n.getParent()}break}}return null};An.$isRootTextContentEmpty=ua;An.$isRootTextContentEmptyCurry=function(t,e){return()=>ua(t,e)};An.$rootTextContent=gf;An.registerLexicalTextEntity=function(t,e,n,r){let i=s=>{const l=Ze.$createTextNode(s.getTextContent());l.setFormat(s.getFormat()),s.replace(l)},o=t.registerNodeTransform(Ze.TextNode,s=>{if(s.isSimpleText()){var l=s.getPreviousSibling(),a=s.getTextContent(),c=s;if(Ze.$isTextNode(l)){var f=l.getTextContent(),d=e(f+a);if(l instanceof n){if(d===null||l.getLatest().__mode!==0){i(l);return}if(d=d.end-f.length,0<d){c=a.slice(0,d),c=f+c,l.select(),l.setTextContent(c),d===a.length?s.remove():(l=a.slice(d),s.setTextContent(l));return}}else if(d===null||d.start<f.length)return}for(;;){if(s=e(a),a=d=s===null?"":a.slice(s.end),d===""){if(f=c.getNextSibling(),Ze.$isTextNode(f)){if(d=c.getTextContent()+f.getTextContent(),d=e(d),d===null){f instanceof n?i(f):f.markDirty();break}else if(d.start!==0)break}}else if(f=e(d),f!==null&&f.start===0)break;if(s===null)break;if(s.start===0&&Ze.$isTextNode(l)&&l.isTextEntity())continue;let u;if(s.start===0?[u,c]=c.splitText(s.end):[,u,c]=c.splitText(s.start,s.end),s=r(u),u.replace(s),c==null)break}}});return t=t.registerNodeTransform(n,s=>{var l=s.getTextContent();const a=e(l);a===null||a.start!==0?i(s):l.length>a.end?s.splitText(a.end):(l=s.getPreviousSibling(),Ze.$isTextNode(l)&&l.isTextEntity()&&(i(l),i(s)),l=s.getNextSibling(),Ze.$isTextNode(l)&&l.isTextEntity()&&(i(l),s instanceof n&&i(s)))}),[o,t]};const Tm=An;var Sm=Tm,He={},Am=Nt,De=H;function pf(t,e){for(let n of e)if(t.type.startsWith(n))return!0;return!1}function mf(t,e){for(;t!==De.$getRoot()&&t!=null;){if(e(t))return t;t=t.getParent()}return null}function _f(t){return t.nodeType===1}He.$splitNode=De.$splitNode;He.$dfs=function(t,e){let n=[];t=(t||De.$getRoot()).getLatest(),e=e||(De.$isElementNode(t)?t.getLastDescendant():t);for(var r=t,i=0;(r=r.getParent())!==null;)i++;for(r=i;t!==null&&!t.is(e);)if(n.push({depth:r,node:t}),De.$isElementNode(t)&&0<t.getChildrenSize())t=t.getFirstChild(),r++;else for(i=null;i===null&&t!==null;)i=t.getNextSibling(),i===null?(t=t.getParent(),r--):t=i;return t!==null&&t.is(e)&&n.push({depth:r,node:t}),n};He.$findMatchingParent=mf;He.$getNearestBlockElementAncestorOrThrow=function(t){if(t=mf(t,e=>De.$isElementNode(e)&&!e.isInline()),!De.$isElementNode(t))throw Error("Minified Lexical error #4; visit https://lexical.dev/docs/error?code=4 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return t};He.$getNearestNodeOfType=function(t,e){for(;t!=null;){if(t instanceof e)return t;t=t.getParent()}return null};He.$insertNodeToNearestRoot=function(t){var e=De.$getSelection();if(De.$isRangeSelection(e)){var{focus:n}=e;if(e=n.getNode(),n=n.offset,De.$isRootOrShadowRoot(e))n=e.getChildAtIndex(n),n==null?e.append(t):n.insertBefore(t),t.selectNext();else{let r,i;De.$isTextNode(e)?(r=e.getParentOrThrow(),i=e.getIndexWithinParent(),0<n&&(i+=1,e.splitText(n))):(r=e,i=n),[,e]=De.$splitNode(r,i),e.insertBefore(t),e.selectStart()}}else De.$isNodeSelection(e)||De.DEPRECATED_$isGridSelection(e)?(e=e.getNodes(),e[e.length-1].getTopLevelElementOrThrow().insertAfter(t)):De.$getRoot().append(t),e=De.$createParagraphNode(),t.insertAfter(e),e.select();return t.getLatest()};He.$restoreEditorState=function(t,e){let n=new Map,r=t._pendingEditorState;for(let[i,o]of e._nodeMap){let s=Am.$cloneWithProperties(o);De.$isTextNode(s)&&(s.__text=o.__text),n.set(i,s)}r&&(r._nodeMap=n),t._dirtyType=2,t=e._selection,De.$setSelection(t===null?null:t.clone())};He.$wrapNodeInElement=function(t,e){return e=e(),t.replace(e),e.append(t),e};He.addClassNamesToElement=function(t,...e){e.forEach(n=>{typeof n=="string"&&(n=n.split(" ").filter(r=>r!==""),t.classList.add(...n))})};He.isHTMLAnchorElement=function(t){return _f(t)&&t.tagName==="A"};He.isHTMLElement=_f;He.isMimeType=pf;He.mediaFileReader=function(t,e){let n=t[Symbol.iterator]();return new Promise((r,i)=>{let o=[],s=()=>{const{done:l,value:a}=n.next();if(l)return r(o);const c=new FileReader;c.addEventListener("error",i),c.addEventListener("load",()=>{const f=c.result;typeof f=="string"&&o.push({file:a,result:f}),s()}),pf(a,e)?c.readAsDataURL(a):s()};s()})};He.mergeRegister=function(...t){return()=>{t.forEach(e=>e())}};He.registerNestedElementResolver=function(t,e,n,r){return t.registerNodeTransform(e,i=>{e:{for(var o=i.getChildren(),s=0;s<o.length;s++)if(o[s]instanceof e){o=null;break e}for(o=i;o!==null;)if(s=o,o=o.getParent(),o instanceof e){o={child:s,parent:o};break e}o=null}if(o!==null){const{child:l,parent:a}=o;if(l.is(i)){if(r(a,i),i=l.getNextSiblings(),o=i.length,a.insertAfter(l),o!==0){s=n(a),l.insertAfter(s);for(let c=0;c<o;c++)s.append(i[c])}a.canBeEmpty()||a.getChildrenSize()!==0||a.remove()}}})};He.removeClassNamesFromElement=function(t,...e){e.forEach(n=>{typeof n=="string"&&t.classList.remove(...n.split(" "))})};const Rm=He;var nt=Rm,yf={},bi=H;yf.registerDragonSupport=function(t){let e=window.location.origin,n=r=>{if(r.origin===e){var i=t.getRootElement();if(document.activeElement===i&&(i=r.data,typeof i=="string")){try{var o=JSON.parse(i)}catch{return}if(o&&o.protocol==="nuanria_messaging"&&o.type==="request"&&(o=o.payload)&&o.functionId==="makeChanges"&&(o=o.args)){const[s,l,a,c,f]=o;t.update(()=>{const d=bi.$getSelection();if(bi.$isRangeSelection(d)){var u=d.anchor;let g=u.getNode(),h=0,p=0;bi.$isTextNode(g)&&0<=s&&0<=l&&(h=s,p=s+l,d.setTextNodeRange(g,h,g,p)),(h!==p||a!=="")&&(d.insertRawText(a),g=u.getNode()),bi.$isTextNode(g)&&(h=c,p=c+f,u=g.getTextContentSize(),h=h>u?u:h,p=p>u?u:p,d.setTextNodeRange(g,h,g,p)),r.stopImmediatePropagation()}})}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}};const wm=yf;var Om=wm,Vt={},un={},Ef=lf,pl=Nt,Qr=nt,G=H;function rn(t){throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?code=${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function xf(t){let e=G.$getSelection();if(e==null)throw Error("Expected valid LexicalSelection");return G.$isRangeSelection(e)&&e.isCollapsed()||e.getNodes().length===0?"":Ef.$generateHtmlFromNodes(t,e)}function Nf(t){let e=G.$getSelection();if(e==null)throw Error("Expected valid LexicalSelection");return G.$isRangeSelection(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(vf(t,e))}function ml(t,e,n){(G.DEPRECATED_$isGridSelection(n)||Qr.$findMatchingParent(n.anchor.getNode(),r=>G.DEPRECATED_$isGridCellNode(r))!==null&&Qr.$findMatchingParent(n.focus.getNode(),r=>G.DEPRECATED_$isGridCellNode(r))!==null)&&e.length===1&&G.DEPRECATED_$isGridNode(e[0])?Dm(e,n,!1,t):$m(e,n)}function $m(t,e){let n=[],r=null;for(let i=0;i<t.length;i++){let o=t[i],s=G.$isLineBreakNode(o);if(s||G.$isDecoratorNode(o)&&o.isInline()||G.$isElementNode(o)&&o.isInline()||G.$isTextNode(o)||o.isParentRequired()){if(r===null&&(r=o.createParentElementNode(),n.push(r),s))continue;r!==null&&r.append(o)}else n.push(o),r=null}G.$isRangeSelection(e)?e.insertNodes(n):G.DEPRECATED_$isGridSelection(e)&&(t=e.anchor.getNode(),G.DEPRECATED_$isGridCellNode(t)||rn(41),t.append(...n))}function Dm(t,e,n,r){t.length===1&&G.DEPRECATED_$isGridNode(t[0])||rn(42);var i=t[0];t=i.getChildren(),n=i.getFirstChildOrThrow().getChildrenSize();var o=i.getChildrenSize(),s=Qr.$findMatchingParent(e.anchor.getNode(),g=>G.DEPRECATED_$isGridCellNode(g));e=(i=s&&Qr.$findMatchingParent(s,g=>G.DEPRECATED_$isGridRowNode(g)))&&Qr.$findMatchingParent(i,g=>G.DEPRECATED_$isGridNode(g)),G.DEPRECATED_$isGridCellNode(s)&&G.DEPRECATED_$isGridRowNode(i)&&G.DEPRECATED_$isGridNode(e)||rn(43);var l=i.getIndexWithinParent(),a=Math.min(e.getChildrenSize()-1,l+o-1);o=s.getIndexWithinParent(),s=Math.min(i.getChildrenSize()-1,o+n-1),n=Math.min(o,s),i=Math.min(l,a),o=Math.max(o,s),l=Math.max(l,a),a=e.getChildren(),s=0;let c,f;for(let g=i;g<=l;g++){var d=a[g];G.DEPRECATED_$isGridRowNode(d)||rn(24);var u=t[s];G.DEPRECATED_$isGridRowNode(u)||rn(24),d=d.getChildren(),u=u.getChildren();let h=0;for(let p=n;p<=o;p++){let E=d[p];G.DEPRECATED_$isGridCellNode(E)||rn(25);let v=u[h];G.DEPRECATED_$isGridCellNode(v)||rn(25),g===i&&p===n?c=E.getKey():g===l&&p===o&&(f=E.getKey());let m=E.getChildren();v.getChildren().forEach(y=>{G.$isTextNode(y)&&G.$createParagraphNode().append(y),E.append(y)}),m.forEach(y=>y.remove()),h++}s++}c&&f&&(t=G.DEPRECATED_$createGridSelection(),t.set(e.getKey(),c,f),G.$setSelection(t),r.dispatchCommand(G.SELECTION_CHANGE_COMMAND,void 0))}function Cf(t,e,n,r=[]){let i=e!=null?n.isSelected(e):!0,o=G.$isElementNode(n)&&n.excludeFromCopy("html");var s=n;if(e!==null){var l=pl.$cloneWithProperties(n);s=l=G.$isTextNode(l)&&e!=null?pl.$sliceSelectedTextNodeContent(e,l):l}let a=G.$isElementNode(s)?s.getChildren():[];var c=s;l=c.exportJSON(),l.type!==c.constructor.getType()&&rn(58);var f=l.children;for(G.$isElementNode(c)&&(Array.isArray(f)||rn(59)),G.$isTextNode(s)&&(s=s.__text,0<s.length?l.text=s:i=!1),s=0;s<a.length;s++)c=a[s],f=Cf(t,e,c,l.children),!i&&G.$isElementNode(n)&&f&&n.extractWithChild(c,e,"clone")&&(i=!0);if(i&&!o)r.push(l);else if(Array.isArray(l.children))for(t=0;t<l.children.length;t++)r.push(l.children[t]);return i}function vf(t,e){let n=[],r=G.$getRoot().getChildren();for(let i=0;i<r.length;i++)Cf(t,e,r[i],n);return{namespace:t._config.namespace,nodes:n}}function Tf(t){let e=[];for(let n=0;n<t.length;n++){let r=G.$parseSerializedNode(t[n]);G.$isTextNode(r)&&pl.$addNodeStyle(r),e.push(r)}return e}let sr=null;function $u(t,e){var n=window.getSelection();if(!n)return!1;var r=n.anchorNode;if(n=n.focusNode,r!==null&&n!==null&&!G.isSelectionWithinEditor(t,r,n)||(e.preventDefault(),e=e.clipboardData,r=G.$getSelection(),e===null||r===null))return!1;n=xf(t),t=Nf(t);let i="";return r!==null&&(i=r.getTextContent()),n!==null&&e.setData("text/html",n),t!==null&&e.setData("application/x-lexical-editor",t),e.setData("text/plain",i),!0}un.$generateJSONFromSelectedNodes=vf;un.$generateNodesFromSerializedNodes=Tf;un.$getHtmlContent=xf;un.$getLexicalContent=Nf;un.$insertDataTransferForPlainText=function(t,e){t=t.getData("text/plain"),t!=null&&e.insertRawText(t)};un.$insertDataTransferForRichText=function(t,e,n){var r=t.getData("application/x-lexical-editor");if(r)try{let o=JSON.parse(r);if(o.namespace===n._config.namespace&&Array.isArray(o.nodes)){let s=Tf(o.nodes);return ml(n,s,e)}}catch{}if(r=t.getData("text/html"))try{var i=new DOMParser().parseFromString(r,"text/html");let o=Ef.$generateNodesFromDOM(n,i);return ml(n,o,e)}catch{}if(t=t.getData("text/plain"),t!=null)if(G.$isRangeSelection(e))for(t=t.split(/\r?\n/),n=t.length,i=0;i<n;i++)e.insertText(t[i]),i<n-1&&e.insertParagraph();else e.insertRawText(t)};un.$insertGeneratedNodes=ml;un.copyToClipboard=async function(t,e){if(sr!==null)return!1;if(e!==null)return new Promise(o=>{t.update(()=>{o($u(t,e))})});var n=t.getRootElement();let r=document.getSelection();if(n===null||r===null)return!1;let i=document.createElement("span");return i.style.cssText="position: fixed; top: -1000px;",i.append(document.createTextNode("#")),n.append(i),n=new Range,n.setStart(i,0),n.setEnd(i,1),r.removeAllRanges(),r.addRange(n),new Promise(o=>{let s=t.registerCommand(G.COPY_COMMAND,l=>(l instanceof ClipboardEvent&&(s(),sr!==null&&(window.clearTimeout(sr),sr=null),o($u(t,l))),!0),G.COMMAND_PRIORITY_CRITICAL);sr=window.setTimeout(()=>{s(),sr=null,o(!1)},50),document.execCommand("copy"),i.remove()})};const km=un;var Lm=km,vo=Lm,Ii=Nt,Cr=nt,T=H;function Du(t,e){return typeof document.caretRangeFromPoint<"u"?(t=document.caretRangeFromPoint(t,e),t===null?null:{node:t.startContainer,offset:t.startOffset}):document.caretPositionFromPoint!=="undefined"?(t=document.caretPositionFromPoint(t,e),t===null?null:{node:t.offsetNode,offset:t.offset}):null}let Pr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mm=Pr&&"documentMode"in document?document.documentMode:null,bm=Pr&&"InputEvent"in window&&!Mm?"getTargetRanges"in new window.InputEvent("input"):!1,Im=Pr&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Pm=Pr&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Fm=Pr&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Bm=Pr&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Fm,_l=T.createCommand("DRAG_DROP_PASTE_FILE"),ca=class Sf extends T.ElementNode{static getType(){return"quote"}static clone(e){return new Sf(e.__key)}constructor(e){super(e)}createDOM(e){let n=document.createElement("blockquote");return Cr.addClassNamesToElement(n,e.theme.quote),n}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:Um,priority:0})}}static importJSON(e){let n=da();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(e,n){e=T.$createParagraphNode();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,n),e}collapseAtStart(){let e=T.$createParagraphNode();return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}};function da(){return T.$applyNodeReplacement(new ca)}let fa=class Af extends T.ElementNode{static getType(){return"heading"}static clone(e){return new Af(e.__tag,e.__key)}constructor(e,n){super(n),this.__tag=e}getTag(){return this.__tag}createDOM(e){let n=this.__tag,r=document.createElement(n);return e=e.theme.heading,e!==void 0&&Cr.addClassNamesToElement(r,e[n]),r}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:lr,priority:0}),h2:()=>({conversion:lr,priority:0}),h3:()=>({conversion:lr,priority:0}),h4:()=>({conversion:lr,priority:0}),h5:()=>({conversion:lr,priority:0}),h6:()=>({conversion:lr,priority:0}),p:e=>(e=e.firstChild,e!==null&&ku(e)?{conversion:()=>({node:null}),priority:3}:null),span:e=>ku(e)?{conversion:()=>({node:mr("h1")}),priority:3}:null}}static importJSON(e){let n=mr(e.tag);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(e,n=!0){e=e?e.anchor.offset:0,e=0<e&&e<this.getTextContentSize()?mr(this.getTag()):T.$createParagraphNode();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,n),e}collapseAtStart(){let e=this.isEmpty()?T.$createParagraphNode():mr(this.getTag());return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}extractWithChild(){return!0}};function ku(t){return t.nodeName.toLowerCase()==="span"?t.style.fontSize==="26pt":!1}function lr(t){t=t.nodeName.toLowerCase();let e=null;return(t==="h1"||t==="h2"||t==="h3"||t==="h4"||t==="h5"||t==="h6")&&(e=mr(t)),{node:e}}function Um(){return{node:da()}}function mr(t){return T.$applyNodeReplacement(new fa(t))}function jm(t,e){t.preventDefault(),e.update(()=>{let n=T.$getSelection(),r=t instanceof InputEvent||t instanceof KeyboardEvent?null:t.clipboardData;r!=null&&(T.$isRangeSelection(n)||T.DEPRECATED_$isGridSelection(n))&&vo.$insertDataTransferForRichText(r,n,e)},{tag:"paste"})}async function zm(t,e){await vo.copyToClipboard(e,t instanceof ClipboardEvent?t:null),e.update(()=>{let n=T.$getSelection();T.$isRangeSelection(n)?n.removeText():T.$isNodeSelection(n)&&n.getNodes().forEach(r=>r.remove())})}function Gr(t){let e=null;if(t instanceof DragEvent?e=t.dataTransfer:t instanceof ClipboardEvent&&(e=t.clipboardData),e===null)return[!1,[],!1];var n=e.types;return t=n.includes("Files"),n=n.includes("text/html")||n.includes("text/plain"),[t,Array.from(e.files),n]}function Lu(t,e){var n=T.$getSelection();if(T.$isRangeSelection(n)){var r=new Set;n=n.getNodes();for(let i=0;i<n.length;i++){let o=n[i],s=o.getKey();if(r.has(s))continue;let l=Cr.$getNearestBlockElementAncestorOrThrow(o),a=l.getKey();l.canInsertTab()?(t(o),r.add(s)):l.canIndent()&&!r.has(a)&&(r.add(a),e(l))}}}function Pi(t){return t=T.$getNearestNodeFromDOMNode(t),T.$isDecoratorNode(t)}Vt.$createHeadingNode=mr;Vt.$createQuoteNode=da;Vt.$isHeadingNode=function(t){return t instanceof fa};Vt.$isQuoteNode=function(t){return t instanceof ca};Vt.DRAG_DROP_PASTE=_l;Vt.HeadingNode=fa;Vt.QuoteNode=ca;Vt.eventFiles=Gr;Vt.registerRichText=function(t){return Cr.mergeRegister(t.registerCommand(T.CLICK_COMMAND,()=>{const e=T.$getSelection();return T.$isNodeSelection(e)?(e.clear(),!0):!1},0),t.registerCommand(T.DELETE_CHARACTER_COMMAND,e=>{const n=T.$getSelection();return T.$isRangeSelection(n)?(n.deleteCharacter(e),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.DELETE_WORD_COMMAND,e=>{const n=T.$getSelection();return T.$isRangeSelection(n)?(n.deleteWord(e),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.DELETE_LINE_COMMAND,e=>{const n=T.$getSelection();return T.$isRangeSelection(n)?(n.deleteLine(e),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.CONTROLLED_TEXT_INSERTION_COMMAND,e=>{const n=T.$getSelection();if(typeof e=="string")T.$isRangeSelection(n)?n.insertText(e):T.DEPRECATED_$isGridSelection(n);else{if(!T.$isRangeSelection(n)&&!T.DEPRECATED_$isGridSelection(n))return!1;const r=e.dataTransfer;r!=null?vo.$insertDataTransferForRichText(r,n,t):T.$isRangeSelection(n)&&(e=e.data)&&n.insertText(e)}return!0},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.REMOVE_TEXT_COMMAND,()=>{const e=T.$getSelection();return T.$isRangeSelection(e)?(e.removeText(),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.FORMAT_TEXT_COMMAND,e=>{const n=T.$getSelection();return T.$isRangeSelection(n)?(n.formatText(e),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.FORMAT_ELEMENT_COMMAND,e=>{var n=T.$getSelection();if(!T.$isRangeSelection(n)&&!T.$isNodeSelection(n))return!1;n=n.getNodes();for(const r of n)Cr.$getNearestBlockElementAncestorOrThrow(r).setFormat(e);return!0},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.INSERT_LINE_BREAK_COMMAND,e=>{const n=T.$getSelection();return T.$isRangeSelection(n)?(n.insertLineBreak(e),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.INSERT_PARAGRAPH_COMMAND,()=>{const e=T.$getSelection();return T.$isRangeSelection(e)?(e.insertParagraph(),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.INDENT_CONTENT_COMMAND,()=>(Lu(()=>{t.dispatchCommand(T.CONTROLLED_TEXT_INSERTION_COMMAND,"	")},e=>{const n=e.getIndent();n!==10&&e.setIndent(n+1)}),!0),T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.OUTDENT_CONTENT_COMMAND,()=>(Lu(e=>{T.$isTextNode(e)&&(e=e.getTextContent(),e[e.length-1]==="	"&&t.dispatchCommand(T.DELETE_CHARACTER_COMMAND,!0))},e=>{const n=e.getIndent();n!==0&&e.setIndent(n-1)}),!0),T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_ARROW_UP_COMMAND,e=>{var n=T.$getSelection();if(T.$isNodeSelection(n)&&!Pi(e.target)){if(e=n.getNodes(),0<e.length)return e[0].selectPrevious(),!0}else if(T.$isRangeSelection(n)){if(n=T.$getAdjacentNode(n.focus,!0),T.$isDecoratorNode(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0;if(T.$isElementNode(n)&&!n.isInline()&&!n.canBeEmpty())return n.select(),e.preventDefault(),!0}return!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_ARROW_DOWN_COMMAND,e=>{var n=T.$getSelection();if(T.$isNodeSelection(n)){if(e=n.getNodes(),0<e.length)return e[0].selectNext(0,0),!0}else if(T.$isRangeSelection(n)){let r=n.focus;if(r.key==="root"&&r.offset===T.$getRoot().getChildrenSize())return e.preventDefault(),!0;if(n=T.$getAdjacentNode(n.focus,!1),T.$isDecoratorNode(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_ARROW_LEFT_COMMAND,e=>{const n=T.$getSelection();if(T.$isNodeSelection(n)){var r=n.getNodes();if(0<r.length)return e.preventDefault(),r[0].selectPrevious(),!0}return T.$isRangeSelection(n)&&Ii.$shouldOverrideDefaultCharacterSelection(n,!0)?(r=e.shiftKey,e.preventDefault(),Ii.$moveCharacter(n,r,!0),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_ARROW_RIGHT_COMMAND,e=>{const n=T.$getSelection();if(T.$isNodeSelection(n)&&!Pi(e.target)){var r=n.getNodes();if(0<r.length)return e.preventDefault(),r[0].selectNext(0,0),!0}return T.$isRangeSelection(n)?(r=e.shiftKey,Ii.$shouldOverrideDefaultCharacterSelection(n,!1)?(e.preventDefault(),Ii.$moveCharacter(n,r,!1),!0):!1):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_BACKSPACE_COMMAND,e=>{if(Pi(e.target))return!1;const n=T.$getSelection();if(!T.$isRangeSelection(n))return!1;e.preventDefault(),{anchor:e}=n;const r=e.getNode();return n.isCollapsed()&&e.offset===0&&!T.$isRootNode(r)&&0<Cr.$getNearestBlockElementAncestorOrThrow(r).getIndent()?t.dispatchCommand(T.OUTDENT_CONTENT_COMMAND,void 0):t.dispatchCommand(T.DELETE_CHARACTER_COMMAND,!0)},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_DELETE_COMMAND,e=>{if(Pi(e.target))return!1;const n=T.$getSelection();return T.$isRangeSelection(n)?(e.preventDefault(),t.dispatchCommand(T.DELETE_CHARACTER_COMMAND,!1)):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_ENTER_COMMAND,e=>{const n=T.$getSelection();if(!T.$isRangeSelection(n))return!1;if(e!==null){if((Pm||Im||Bm)&&bm)return!1;if(e.preventDefault(),e.shiftKey)return t.dispatchCommand(T.INSERT_LINE_BREAK_COMMAND,!1)}return t.dispatchCommand(T.INSERT_PARAGRAPH_COMMAND,void 0)},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.KEY_ESCAPE_COMMAND,()=>{const e=T.$getSelection();return T.$isRangeSelection(e)?(t.blur(),!0):!1},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.DROP_COMMAND,e=>{const[,n]=Gr(e);if(0<n.length){var r=Du(e.clientX,e.clientY);if(r!==null){const{offset:o,node:s}=r;var i=T.$getNearestNodeFromDOMNode(s);if(i!==null){if(r=T.$createRangeSelection(),T.$isTextNode(i))r.anchor.set(i.getKey(),o,"text"),r.focus.set(i.getKey(),o,"text");else{const l=i.getParentOrThrow().getKey();i=i.getIndexWithinParent()+1,r.anchor.set(l,i,"element"),r.focus.set(l,i,"element")}r=T.$normalizeSelection__EXPERIMENTAL(r),T.$setSelection(r)}t.dispatchCommand(_l,n)}return e.preventDefault(),!0}return e=T.$getSelection(),!!T.$isRangeSelection(e)},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.DRAGSTART_COMMAND,e=>{[e]=Gr(e);const n=T.$getSelection();return!(e&&!T.$isRangeSelection(n))},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.DRAGOVER_COMMAND,e=>{var[n]=Gr(e);const r=T.$getSelection();return n&&!T.$isRangeSelection(r)?!1:(n=Du(e.clientX,e.clientY),n!==null&&(n=T.$getNearestNodeFromDOMNode(n.node),T.$isDecoratorNode(n)&&e.preventDefault()),!0)},T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.COPY_COMMAND,e=>(vo.copyToClipboard(t,e instanceof ClipboardEvent?e:null),!0),T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.CUT_COMMAND,e=>(zm(e,t),!0),T.COMMAND_PRIORITY_EDITOR),t.registerCommand(T.PASTE_COMMAND,e=>{const[,n,r]=Gr(e);if(0<n.length&&!r)return t.dispatchCommand(_l,n),!0;if(T.isSelectionCapturedInDecoratorInput(e.target))return!1;const i=T.$getSelection();return T.$isRangeSelection(i)||T.DEPRECATED_$isGridSelection(i)?(jm(e,t),!0):!1},T.COMMAND_PRIORITY_EDITOR))};const Hm=Vt;var Nn=Hm,Rf=Ge,Km=vm,xt=N,Wm=Sm,wf=nt,Mu=Ws,Gm=Om,Ym=Nn,ga=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?xt.useLayoutEffect:xt.useEffect;function bu(t){return t.getEditorState().read(Wm.$canShowPlaceholderCurry(t.isComposing()))}function Vm(t){let[e,n]=xt.useState(()=>bu(t));return ga(()=>{function r(){let i=bu(t);n(i)}return r(),wf.mergeRegister(t.registerUpdateListener(()=>{r()}),t.registerEditableListener(()=>{r()}))},[t]),e}function Jm(t,e){let[n,r]=xt.useState(()=>t.getDecorators());return ga(()=>t.registerDecoratorListener(i=>{Mu.flushSync(()=>{r(i)})}),[t]),xt.useEffect(()=>{r(t.getDecorators())},[t]),xt.useMemo(()=>{let i=[],o=Object.keys(n);for(let l=0;l<o.length;l++){var s=o[l];let a=xt.createElement(e,{onError:c=>t._onError(c)},xt.createElement(xt.Suspense,{fallback:null},n[s]));s=t.getElementByKey(s),s!==null&&i.push(Mu.createPortal(a,s))}return i},[e,n,t])}function Xm(t){ga(()=>wf.mergeRegister(Ym.registerRichText(t),Gm.registerDragonSupport(t)),[t])}function qm({content:t}){var[e]=Rf.useLexicalComposerContext();e=Vm(e);let n=Km();return e?typeof t=="function"?t(n):t:null}ff.RichTextPlugin=function({contentEditable:t,placeholder:e,ErrorBoundary:n}){let[r]=Rf.useLexicalComposerContext();return n=Jm(r,n),Xm(r),xt.createElement(xt.Fragment,null,t,xt.createElement(qm,{content:e}),n)};const Zm=ff;var Qm=Zm,Of={},e_=Ge,ei=N,t_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ei.useLayoutEffect:ei.useEffect;Of.ContentEditable=function({ariaActiveDescendant:t,ariaAutoComplete:e,ariaControls:n,ariaDescribedBy:r,ariaExpanded:i,ariaLabel:o,ariaLabelledBy:s,ariaMultiline:l,ariaOwns:a,ariaRequired:c,autoCapitalize:f,className:d,id:u,role:g="textbox",spellCheck:h=!0,style:p,tabIndex:E,"data-testid":v}){let[m]=e_.useLexicalComposerContext(),[y,S]=ei.useState(!1),R=ei.useCallback(A=>{m.setRootElement(A)},[m]);return t_(()=>(S(m.isEditable()),m.registerEditableListener(A=>{S(A)})),[m]),ei.createElement("div",{"aria-activedescendant":y?t:void 0,"aria-autocomplete":y?e:"none","aria-controls":y?n:void 0,"aria-describedby":r,"aria-expanded":y&&g==="combobox"?!!i:void 0,"aria-label":o,"aria-labelledby":s,"aria-multiline":l,"aria-owns":y?a:void 0,"aria-required":c,autoCapitalize:f,className:d,contentEditable:y,"data-testid":v,id:u,ref:R,role:y?g:void 0,spellCheck:h,style:p,tabIndex:E})};const n_=Of;var r_=n_,ha={},pa={},i_=nt,oe=H;function o_(t,e,n,r,i){if(t===null||n.size===0&&r.size===0&&!i)return 0;var o=e._selection,s=t._selection;if(i)return 1;if(!(oe.$isRangeSelection(o)&&oe.$isRangeSelection(s)&&s.isCollapsed()&&o.isCollapsed()))return 0;i=e._nodeMap;let l=[];for(let a of n)n=i.get(a),n!==void 0&&l.push(n);for(let[a,c]of r)c&&(r=i.get(a),r===void 0||oe.$isRootNode(r)||l.push(r));return l.length===0?0:1<l.length?(r=e._nodeMap,e=r.get(o.anchor.key),s=r.get(s.anchor.key),e&&s&&!t._nodeMap.has(e.__key)&&oe.$isTextNode(e)&&e.__text.length===1&&o.anchor.offset===1?2:0):(e=l[0],t=t._nodeMap.get(e.__key),!oe.$isTextNode(t)||!oe.$isTextNode(e)||t.__mode!==e.__mode||(t=t.__text,e=e.__text,t===e)||(o=o.anchor,s=s.anchor,o.key!==s.key||o.type!=="text")?0:(o=o.offset,s=s.offset,t=e.length-t.length,t===1&&s===o-1?2:t===-1&&s===o+1?3:t===-1&&s===o?4:0))}function s_(t,e){let n=Date.now(),r=0;return(i,o,s,l,a,c)=>{let f=Date.now();if(c.has("historic"))return r=0,n=f,2;let d=o_(i,o,l,a,t.isComposing()),u=(()=>{var g=s===null||s.editor===t,h=c.has("history-push");if(!h&&g&&c.has("history-merge"))return 0;if(i===null)return 1;var p=o._selection;if(!(0<l.size||0<a.size))return p!==null?0:2;if(h===!1&&d!==0&&d===r&&f<n+e&&g)return 0;if(l.size===1){{h=Array.from(l)[0],g=i._nodeMap.get(h),h=o._nodeMap.get(h),p=i._selection;let E=o._selection,v=!1;oe.$isRangeSelection(p)&&oe.$isRangeSelection(E)&&(v=p.anchor.type==="element"&&p.focus.type==="element"&&E.anchor.type==="text"&&E.focus.type==="text"),g=!v&&oe.$isTextNode(g)&&oe.$isTextNode(h)?g.__type===h.__type&&g.__text===h.__text&&g.__mode===h.__mode&&g.__detail===h.__detail&&g.__style===h.__style&&g.__format===h.__format&&g.__parent===h.__parent:!1}if(g)return 0}return 1})();return n=f,r=d,u}}pa.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}};pa.registerHistory=function(t,e,n){let r=s_(t,n);n=({editorState:s,prevEditorState:l,dirtyLeaves:a,dirtyElements:c,tags:f})=>{const d=e.current,u=e.redoStack,g=e.undoStack,h=d===null?null:d.editorState;if(d===null||s!==h){if(a=r(l,s,d,a,c,f),a===1)u.length!==0&&(e.redoStack=[],t.dispatchCommand(oe.CAN_REDO_COMMAND,!1)),d!==null&&(g.push({...d,undoSelection:l.read(oe.$getSelection)}),t.dispatchCommand(oe.CAN_UNDO_COMMAND,!0));else if(a===2)return;e.current={editor:t,editorState:s}}};let i=i_.mergeRegister(t.registerCommand(oe.UNDO_COMMAND,()=>{let s=e.redoStack,l=e.undoStack;if(l.length!==0){let a=e.current,c=l.pop();a!==null&&(s.push(a),t.dispatchCommand(oe.CAN_REDO_COMMAND,!0)),l.length===0&&t.dispatchCommand(oe.CAN_UNDO_COMMAND,!1),e.current=c||null,c&&c.editor.setEditorState(c.editorState.clone(c.undoSelection),{tag:"historic"})}return!0},oe.COMMAND_PRIORITY_EDITOR),t.registerCommand(oe.REDO_COMMAND,()=>{let s=e.redoStack;var l=e.undoStack;if(s.length!==0){let a=e.current;a!==null&&(l.push(a),t.dispatchCommand(oe.CAN_UNDO_COMMAND,!0)),l=s.pop(),s.length===0&&t.dispatchCommand(oe.CAN_REDO_COMMAND,!1),e.current=l||null,l&&l.editor.setEditorState(l.editorState,{tag:"historic"})}return!0},oe.COMMAND_PRIORITY_EDITOR),t.registerCommand(oe.CLEAR_EDITOR_COMMAND,()=>(e.undoStack=[],e.redoStack=[],e.current=null,!1),oe.COMMAND_PRIORITY_EDITOR),t.registerCommand(oe.CLEAR_HISTORY_COMMAND,()=>(e.undoStack=[],e.redoStack=[],e.current=null,t.dispatchCommand(oe.CAN_REDO_COMMAND,!1),t.dispatchCommand(oe.CAN_UNDO_COMMAND,!1),!0),oe.COMMAND_PRIORITY_EDITOR),t.registerUpdateListener(n)),o=t.registerUpdateListener(n);return()=>{i(),o()}};const l_=pa;var a_=l_,u_=Ge,yl=a_,Iu=N;function c_(t,e,n=1e3){let r=Iu.useMemo(()=>e||yl.createEmptyHistoryState(),[e]);Iu.useEffect(()=>yl.registerHistory(t,r,n),[n,t,r])}ha.createEmptyHistoryState=yl.createEmptyHistoryState;ha.HistoryPlugin=function({externalHistoryState:t}){let[e]=u_.useLexicalComposerContext();return c_(e,t),null};const d_=ha;var f_=d_,$f={},g_=Ge,Pu=N,h_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Pu.useLayoutEffect:Pu.useEffect;$f.OnChangePlugin=function({ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:e=!1,onChange:n}){let[r]=g_.useLexicalComposerContext();return h_(()=>{if(n)return r.registerUpdateListener(({editorState:i,dirtyElements:o,dirtyLeaves:s,prevEditorState:l,tags:a})=>{e&&o.size===0&&s.size===0||t&&a.has("history-merge")||l.isEmpty()||n(i,r,a)})},[r,t,e,n]),null};const p_=$f;var m_=p_,ti=N;function El(t,e){return El=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},El(t,e)}function __(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,El(t,e)}function y_(t,e){return t===void 0&&(t=[]),e===void 0&&(e=[]),t.length!==e.length||t.some(function(n,r){return!Object.is(n,e[r])})}var Fu={error:null},E_=function(t){function e(){for(var r,i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.state=Fu,r.resetErrorBoundary=function(){for(var l,a=arguments.length,c=Array(a),f=0;f<a;f++)c[f]=arguments[f];r.props.onReset==null||(l=r.props).onReset.apply(l,c),r.reset()},r}__(e,t),e.getDerivedStateFromError=function(r){return{error:r}};var n=e.prototype;return n.reset=function(){this.setState(Fu)},n.componentDidCatch=function(r,i){var o,s;(o=(s=this.props).onError)==null||o.call(s,r,i)},n.componentDidUpdate=function(r,i){var o=this.props.resetKeys;if(this.state.error!==null&&i.error!==null&&y_(r.resetKeys,o)){var s,l;(s=(l=this.props).onResetKeysChange)==null||s.call(l,r.resetKeys,o),this.reset()}},n.render=function(){var r=this.state.error,i=this.props,o=i.fallbackRender,s=i.FallbackComponent;if(i=i.fallback,r!==null){if(r={error:r,resetErrorBoundary:this.resetErrorBoundary},ti.isValidElement(i))return i;if(typeof o=="function")return o(r);if(s)return ti.createElement(s,r);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},e}(ti.Component),x_=function({children:t,onError:e}){return ti.createElement(E_,{fallback:ti.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:e},t)};const N_=x_;var C_=N_,Df={},cn={},kf=nt,Ht=H;let v_=new Set(["http:","https:","mailto:","sms:","tel:"]),Qo=class Lf extends Ht.ElementNode{static getType(){return"link"}static clone(e){return new Lf(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e,n={},r){super(r);let{target:i=null,rel:o=null,title:s=null}=n;this.__url=e,this.__target=i,this.__rel=o,this.__title=s}createDOM(e){let n=document.createElement("a");return n.href=this.sanitizeUrl(this.__url),this.__target!==null&&(n.target=this.__target),this.__rel!==null&&(n.rel=this.__rel),this.__title!==null&&(n.title=this.__title),kf.addClassNamesToElement(n,e.theme.link),n}updateDOM(e,n){let r=this.__url,i=this.__target,o=this.__rel,s=this.__title;return r!==e.__url&&(n.href=r),i!==e.__target&&(i?n.target=i:n.removeAttribute("target")),o!==e.__rel&&(o?n.rel=o:n.removeAttribute("rel")),s!==e.__title&&(s?n.title=s:n.removeAttribute("title")),!1}static importDOM(){return{a:()=>({conversion:T_,priority:1})}}static importJSON(e){let n=_i(e.url,{rel:e.rel,target:e.target,title:e.title});return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}sanitizeUrl(e){try{let n=new URL(e);if(!v_.has(n.protocol))return"about:blank"}catch{return"https://"}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(e){this.getWritable().__url=e}getTarget(){return this.getLatest().__target}setTarget(e){this.getWritable().__target=e}getRel(){return this.getLatest().__rel}setRel(e){this.getWritable().__rel=e}getTitle(){return this.getLatest().__title}setTitle(e){this.getWritable().__title=e}insertNewAfter(e,n=!0){return e=this.getParentOrThrow().insertNewAfter(e,n),Ht.$isElementNode(e)?(n=_i(this.__url,{rel:this.__rel,target:this.__target,title:this.__title}),e.append(n),n):null}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,n){if(!Ht.$isRangeSelection(n))return!1;e=n.anchor.getNode();let r=n.focus.getNode();return this.isParentOf(e)&&this.isParentOf(r)&&0<n.getTextContent().length}};function T_(t){let e=null;if(kf.isHTMLAnchorElement(t)){let n=t.textContent;n!==null&&n!==""&&(e=_i(t.getAttribute("href")||"",{rel:t.getAttribute("rel"),target:t.getAttribute("target"),title:t.getAttribute("title")}))}return{node:e}}function _i(t,e){return Ht.$applyNodeReplacement(new Qo(t,e))}function bn(t){return t instanceof Qo}let ma=class Mf extends Qo{static getType(){return"autolink"}static clone(e){return new Mf(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}static importJSON(e){let n=xl(e.url,{rel:e.rel,target:e.target,title:e.title});return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),type:"autolink",version:1}}insertNewAfter(e,n=!0){return e=this.getParentOrThrow().insertNewAfter(e,n),Ht.$isElementNode(e)?(n=xl(this.__url,{rel:this._rel,target:this.__target,title:this.__title}),e.append(n),n):null}};function xl(t,e){return Ht.$applyNodeReplacement(new ma(t,e))}let S_=Ht.createCommand("TOGGLE_LINK_COMMAND");function A_(t,e){for(;t!==null&&(t=t.getParent())!==null&&!e(t););return t}cn.$createAutoLinkNode=xl;cn.$createLinkNode=_i;cn.$isAutoLinkNode=function(t){return t instanceof ma};cn.$isLinkNode=bn;cn.AutoLinkNode=ma;cn.LinkNode=Qo;cn.TOGGLE_LINK_COMMAND=S_;cn.toggleLink=function(t,e={}){let{target:n,title:r}=e,i=e.rel===void 0?"noopener":e.rel;if(e=Ht.$getSelection(),Ht.$isRangeSelection(e))if(e=e.extract(),t===null)e.forEach(s=>{if(s=s.getParent(),bn(s)){let l=s.getChildren();for(let a=0;a<l.length;a++)s.insertBefore(l[a]);s.remove()}});else{if(e.length===1){var o=e[0];if(o=bn(o)?o:A_(o,bn),o!==null){o.setURL(t),n!==void 0&&o.setTarget(n),i!==null&&o.setRel(i),r!==void 0&&o.setTitle(r);return}}let s=null,l=null;e.forEach(a=>{var c=a.getParent();if(c!==l&&c!==null&&(!Ht.$isElementNode(a)||a.isInline()))if(bn(c))l=c,c.setURL(t),n!==void 0&&c.setTarget(n),i!==null&&l.setRel(i),r!==void 0&&l.setTitle(r);else if(c.is(s)||(s=c,l=_i(t,{rel:i,target:n}),bn(c)?a.getPreviousSibling()===null?c.insertBefore(l):c.insertAfter(l):a.insertBefore(l)),bn(a)){if(!a.is(l)){if(l!==null){c=a.getChildren();for(let f=0;f<c.length;f++)l.append(c[f])}a.remove()}}else l!==null&&l.append(a)})}};const R_=cn;var Ct=R_,ar=Ct,w_=Ge,O_=nt,ur=H,$_=N;Df.LinkPlugin=function({validateUrl:t}){let[e]=w_.useLexicalComposerContext();return $_.useEffect(()=>{if(!e.hasNodes([ar.LinkNode]))throw Error("LinkPlugin: LinkNode not registered on editor");return O_.mergeRegister(e.registerCommand(ar.TOGGLE_LINK_COMMAND,n=>{if(n===null)return ar.toggleLink(n),!0;if(typeof n=="string")return t===void 0||t(n)?(ar.toggleLink(n),!0):!1;let{url:r,target:i,rel:o,title:s}=n;return ar.toggleLink(r,{rel:o,target:i,title:s}),!0},ur.COMMAND_PRIORITY_LOW),t!==void 0?e.registerCommand(ur.PASTE_COMMAND,n=>{let r=ur.$getSelection();if(!ur.$isRangeSelection(r)||r.isCollapsed()||!(n instanceof ClipboardEvent)||n.clipboardData==null)return!1;let i=n.clipboardData.getData("text");return t(i)?r.getNodes().some(o=>ur.$isElementNode(o))?!1:(e.dispatchCommand(ar.TOGGLE_LINK_COMMAND,i),n.preventDefault(),!0):!1},ur.COMMAND_PRIORITY_LOW):()=>{})},[e,t]),null};const D_=Df;var k_=D_,ne={},C=H,he=nt;let ce={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1},_a=class bf extends C.DEPRECATED_GridCellNode{static getType(){return"tablecell"}static clone(e){let n=new bf(e.__headerState,e.__colSpan,e.__width,e.__key);return n.__rowSpan=e.__rowSpan,n.__backgroundColor=e.__backgroundColor,n}static importDOM(){return{td:()=>({conversion:Bu,priority:0}),th:()=>({conversion:Bu,priority:0})}}static importJSON(e){let n=vt(e.headerState,e.colSpan,e.width||void 0);return n.__rowSpan=e.rowSpan,n.__backgroundColor=e.backgroundColor||null,n}constructor(e=ce.NO_STATUS,n=1,r,i){super(n,i),this.__headerState=e,this.__width=r,this.__backgroundColor=null}createDOM(e){let n=document.createElement(this.getTag());return this.__width&&(n.style.width=`${this.__width}px`),1<this.__colSpan&&(n.colSpan=this.__colSpan),1<this.__rowSpan&&(n.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(n.style.backgroundColor=this.__backgroundColor),he.addClassNamesToElement(n,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),n}exportDOM(e){if({element:e}=super.exportDOM(e),e){var n=this.getParentOrThrow().getChildrenSize();e.style.border="1px solid black",1<this.__colSpan&&(e.colSpan=this.__colSpan),1<this.__rowSpan&&(e.rowSpan=this.__rowSpan),e.style.width=`${this.getWidth()||Math.max(90,700/n)}px`,e.style.verticalAlign="top",e.style.textAlign="start",n=this.getBackgroundColor(),n!==null?e.style.backgroundColor=n:this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return{element:e}}exportJSON(){return{...super.exportJSON(),backgroundColor:this.getBackgroundColor(),headerState:this.__headerState,type:"tablecell",width:this.getWidth()}}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e){return this.getWritable().__headerState=e,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){return this.getWritable().__width=e,this.__width}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){this.getWritable().__backgroundColor=e}toggleHeaderStyle(e){let n=this.getWritable();return n.__headerState=(n.__headerState&e)===e?n.__headerState-e:n.__headerState+e,n}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==ce.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}};function Bu(t){var e=t.nodeName.toLowerCase();return e=vt(e==="th"?ce.ROW:ce.NO_STATUS),e.__colSpan=t.colSpan,e.__rowSpan=t.rowSpan,t=t.style.backgroundColor,t!==""&&(e.__backgroundColor=t),{forChild:(n,r)=>Z(r)&&!C.$isElementNode(n)?(r=C.$createParagraphNode(),C.$isLineBreakNode(n)&&n.getTextContent()===`
`?null:(r.append(n),r)):n,node:e}}function vt(t,e=1,n){return C.$applyNodeReplacement(new _a(t,e,n))}function Z(t){return t instanceof _a}let ya=class If extends C.DEPRECATED_GridRowNode{static getType(){return"tablerow"}static clone(e){return new If(e.__height,e.__key)}static importDOM(){return{tr:()=>({conversion:L_,priority:0})}}static importJSON(e){return Jn(e.height)}constructor(e,n){super(n),this.__height=e}exportJSON(){return{...super.exportJSON(),type:"tablerow",version:1}}createDOM(e){let n=document.createElement("tr");return this.__height&&(n.style.height=`${this.__height}px`),he.addClassNamesToElement(n,e.theme.tableRow),n}isShadowRoot(){return!0}setHeight(e){return this.getWritable().__height=e,this.__height}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}};function L_(){return{node:Jn()}}function Jn(t){return C.$applyNodeReplacement(new ya(t))}function Xn(t){return t instanceof ya}function Ue(t){throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?code=${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let M_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pf=class{constructor(e,n){this.isHighlightingCells=!1,this.focusY=this.focusX=this.anchorY=this.anchorX=-1,this.listenersToRemove=new Set,this.tableNodeKey=n,this.editor=e,this.grid={cells:[],columns:0,rows:0},this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.trackTableGrid()}getGrid(){return this.grid}removeListeners(){Array.from(this.listenersToRemove).forEach(e=>e())}trackTableGrid(){let e=new MutationObserver(n=>{this.editor.update(()=>{var r=!1;for(let i=0;i<n.length;i++){const o=n[i].target.nodeName;if(o==="TABLE"||o==="TR"){r=!0;break}}if(r){if(r=this.editor.getElementByKey(this.tableNodeKey),!r)throw Error("Expected to find TableElement in DOM");this.grid=Zi(r)}})});this.editor.update(()=>{let n=this.editor.getElementByKey(this.tableNodeKey);if(!n)throw Error("Expected to find TableElement in DOM");this.grid=Zi(n),e.observe(n,{childList:!0,subtree:!0})})}clearHighlight(){let e=this.editor;this.isHighlightingCells=!1,this.focusY=this.focusX=this.anchorY=this.anchorX=-1,this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.enableHighlightStyle(),e.update(()=>{var n=C.$getNodeByKey(this.tableNodeKey);if(!vr(n))throw Error("Expected TableNode.");if(n=e.getElementByKey(this.tableNodeKey),!n)throw Error("Expected to find TableElement in DOM");n=Zi(n),Fi(e,n,null),C.$setSelection(null),e.dispatchCommand(C.SELECTION_CHANGE_COMMAND,void 0)})}enableHighlightStyle(){let e=this.editor;e.update(()=>{let n=e.getElementByKey(this.tableNodeKey);if(!n)throw Error("Expected to find TableElement in DOM");n.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1})}disableHighlightStyle(){let e=this.editor;e.update(()=>{let n=e.getElementByKey(this.tableNodeKey);if(!n)throw Error("Expected to find TableElement in DOM");n.classList.add("disable-selection"),this.hasHijackedSelectionStyles=!0})}updateTableGridSelection(e){if(e!=null&&e.gridKey===this.tableNodeKey){let n=this.editor;this.gridSelection=e,this.isHighlightingCells=!0,this.disableHighlightStyle(),Fi(n,this.grid,this.gridSelection)}else e==null&&this.clearHighlight()}setFocusCellForSelection(e,n=!1){let r=this.editor;r.update(()=>{var i=C.$getNodeByKey(this.tableNodeKey);if(!vr(i))throw Error("Expected TableNode.");if(!r.getElementByKey(this.tableNodeKey))throw Error("Expected to find TableElement in DOM");i=e.x;let o=e.y;if(this.focusCell=e,this.anchorCell!==null){let s=M_?(r._window||window).getSelection():null;s&&s.setBaseAndExtent(this.anchorCell.elem,0,this.focusCell.elem,0)}if(!this.isHighlightingCells&&(this.anchorX!==i||this.anchorY!==o||n))this.isHighlightingCells=!0,this.disableHighlightStyle();else if(i===this.focusX&&o===this.focusY)return;this.focusX=i,this.focusY=o,this.isHighlightingCells&&(i=C.$getNearestNodeFromDOMNode(e.elem),this.gridSelection!=null&&this.anchorCellNodeKey!=null&&Z(i)&&(i=i.getKey(),this.gridSelection=this.gridSelection.clone()||C.DEPRECATED_$createGridSelection(),this.focusCellNodeKey=i,this.gridSelection.set(this.tableNodeKey,this.anchorCellNodeKey,this.focusCellNodeKey),C.$setSelection(this.gridSelection),r.dispatchCommand(C.SELECTION_CHANGE_COMMAND,void 0),Fi(r,this.grid,this.gridSelection)))})}setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y,this.editor.update(()=>{var n=C.$getNearestNodeFromDOMNode(e.elem);Z(n)&&(n=n.getKey(),this.gridSelection=C.DEPRECATED_$createGridSelection(),this.anchorCellNodeKey=n)})}formatCells(e){this.editor.update(()=>{let n=C.$getSelection();C.DEPRECATED_$isGridSelection(n)||Ue(11);let r=C.$createRangeSelection(),i=r.anchor,o=r.focus;n.getNodes().forEach(s=>{Z(s)&&s.getTextContentSize()!==0&&(i.set(s.getKey(),0,"element"),o.set(s.getKey(),s.getChildrenSize(),"element"),r.formatText(e))}),C.$setSelection(n),this.editor.dispatchCommand(C.SELECTION_CHANGE_COMMAND,void 0)})}clearText(){let e=this.editor;e.update(()=>{let n=C.$getNodeByKey(this.tableNodeKey);if(!vr(n))throw Error("Expected TableNode.");var r=C.$getSelection();C.DEPRECATED_$isGridSelection(r)||Ue(11),r=r.getNodes().filter(Z),r.length===this.grid.columns*this.grid.rows?(n.selectPrevious(),n.remove(),C.$getRoot().selectStart()):(r.forEach(i=>{if(C.$isElementNode(i)){let o=C.$createParagraphNode(),s=C.$createTextNode();o.append(s),i.append(o),i.getChildren().forEach(l=>{l!==o&&l.remove()})}}),Fi(e,this.grid,null),C.$setSelection(null),e.dispatchCommand(C.SELECTION_CHANGE_COMMAND,void 0))})}};function qi(t){for(;t!=null;){let e=t.nodeName;if(e==="TD"||e==="TH"){if(t=t._cell,t===void 0)break;return t}t=t.parentNode}return null}function Zi(t){let e=[],n={cells:e,columns:0,rows:0};var r=t.firstChild;let i=t=0;for(e.length=0;r!=null;){var o=r.nodeName;if(o==="TD"||o==="TH")o=r,o={elem:o,hasBackgroundColor:o.style.backgroundColor!=="",highlighted:!1,x:t,y:i},r._cell=o,e[i]===void 0&&(e[i]=[]),e[i][t]=o;else if(o=r.firstChild,o!=null){r=o;continue}if(o=r.nextSibling,o!=null)t++,r=o;else if(o=r.parentNode,o!=null){if(r=o.nextSibling,r==null)break;i++,t=0}}return n.columns=t+1,n.rows=i+1,n}function Fi(t,e,n){let r=[],i=new Set(n?n.getNodes():[]);return Ea(e,(o,s)=>{let l=o.elem;i.has(s)?(o.highlighted=!0,Ff(t,o),r.push(o)):(o.highlighted=!1,Bf(t,o),l.getAttribute("style")||l.removeAttribute("style"))}),r}function Ea(t,e){({cells:t}=t);for(let n=0;n<t.length;n++){let r=t[n];for(let i=0;i<r.length;i++){let o=r[i],s=C.$getNearestNodeFromDOMNode(o.elem);s!==null&&e(o,s,{x:i,y:n})}}}function Uu(t,e){e.disableHighlightStyle(),Ea(e.grid,n=>{n.highlighted=!0,Ff(t,n)})}function b_(t,e){e.enableHighlightStyle(),Ea(e.grid,n=>{let r=n.elem;n.highlighted=!1,Bf(t,n),r.getAttribute("style")||r.removeAttribute("style")})}let Ur=(t,e,n,r,i)=>{const o=i==="forward";switch(i){case"backward":case"forward":return n!==(o?t.grid.columns-1:0)?Bi(e.getCellNodeFromCordsOrThrow(n+(o?1:-1),r,t.grid)):r!==(o?t.grid.rows-1:0)?Bi(e.getCellNodeFromCordsOrThrow(o?0:t.grid.columns-1,r+(o?1:-1),t.grid)):o?e.selectNext():e.selectPrevious(),!0;case"up":return r!==0?Bi(e.getCellNodeFromCordsOrThrow(n,r-1,t.grid)):e.selectPrevious(),!0;case"down":return r!==t.grid.rows-1?Bi(e.getCellNodeFromCordsOrThrow(n,r+1,t.grid)):e.selectNext(),!0;default:return!1}},fn=(t,e,n,r,i)=>{const o=i==="forward";switch(i){case"backward":case"forward":return n!==(o?t.grid.columns-1:0)&&t.setFocusCellForSelection(e.getCellFromCordsOrThrow(n+(o?1:-1),r,t.grid)),!0;case"up":return r!==0?(t.setFocusCellForSelection(e.getCellFromCordsOrThrow(n,r-1,t.grid)),!0):!1;case"down":return r!==t.grid.rows-1?(t.setFocusCellForSelection(e.getCellFromCordsOrThrow(n,r+1,t.grid)),!0):!1;default:return!1}};function en(t,e){if(C.$isRangeSelection(t)||C.DEPRECATED_$isGridSelection(t)){let n=e.isParentOf(t.anchor.getNode());return t=e.isParentOf(t.focus.getNode()),n&&t}return!1}function Bi(t){let e=t.getChildren().find(n=>C.$isParagraphNode(n));C.$isParagraphNode(e)?e.selectEnd():t.selectEnd()}function Ff(t,e){if(t=e.elem,e=C.$getNearestNodeFromDOMNode(t),!Z(e))throw Error("Expected to find LexicalNode from Table Cell DOMNode");e.getBackgroundColor()===null?t.style.setProperty("background-color","rgb(172,206,247)"):t.style.setProperty("background-image","linear-gradient(to right, rgba(172,206,247,0.85), rgba(172,206,247,0.85))"),t.style.setProperty("caret-color","transparent")}function Bf(t,e){if(t=e.elem,e=C.$getNearestNodeFromDOMNode(t),!Z(e))throw Error("Expected to find LexicalNode from Table Cell DOMNode");e.getBackgroundColor()===null&&t.style.removeProperty("background-color"),t.style.removeProperty("background-image"),t.style.removeProperty("caret-color")}let xa=class Uf extends C.DEPRECATED_GridNode{static getType(){return"table"}static clone(e){return new Uf(e.__key)}static importDOM(){return{table:()=>({conversion:I_,priority:1})}}static importJSON(){return es()}constructor(e){super(e)}exportJSON(){return{...super.exportJSON(),type:"table",version:1}}createDOM(e){let n=document.createElement("table");return he.addClassNamesToElement(n,e.theme.table),n}updateDOM(){return!1}exportDOM(e){return{...super.exportDOM(e),after:n=>{if(n){let r=n.cloneNode(),i=document.createElement("colgroup"),o=document.createElement("tbody");if(o.append(...n.children),n=this.getFirstChildOrThrow(),!Xn(n))throw Error("Expected to find row node.");n=n.getChildrenSize();for(let s=0;s<n;s++){let l=document.createElement("col");i.append(l)}return r.replaceChildren(i,o),r}}}}canExtractContents(){return!1}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,n){let{rows:r,cells:i}=n;for(n=0;n<r;n++){var o=i[n];if(o==null)throw Error(`Row not found at y:${n}`);if(o=o.findIndex(({elem:s})=>C.$getNearestNodeFromDOMNode(s)===e),o!==-1)return{x:o,y:n}}throw Error("Cell not found in table.")}getCellFromCords(e,n,r){return{cells:r}=r,n=r[n],n==null?null:(e=n[e],e??null)}getCellFromCordsOrThrow(e,n,r){if(e=this.getCellFromCords(e,n,r),!e)throw Error("Cell not found at cords.");return e}getCellNodeFromCords(e,n,r){return e=this.getCellFromCords(e,n,r),e==null?null:(e=C.$getNearestNodeFromDOMNode(e.elem),Z(e)?e:null)}getCellNodeFromCordsOrThrow(e,n,r){if(e=this.getCellNodeFromCords(e,n,r),!e)throw Error("Node at cords not TableCellNode.");return e}canSelectBefore(){return!0}canIndent(){return!1}};function I_(){return{node:es()}}function es(){return C.$applyNodeReplacement(new xa)}function vr(t){return t instanceof xa}function Na(t){if(t=he.$findMatchingParent(t,e=>Xn(e)),Xn(t))return t;throw Error("Expected table cell to be inside of table row.")}function Ca(t){if(t=he.$findMatchingParent(t,e=>vr(e)),vr(t))return t;throw Error("Expected table cell to be inside of table.")}function jf(t,e){let n=Ca(t),{x:r,y:i}=n.getCordsFromCellNode(t,e);return{above:n.getCellNodeFromCords(r,i-1,e),below:n.getCellNodeFromCords(r,i+1,e),left:n.getCellNodeFromCords(r-1,i,e),right:n.getCellNodeFromCords(r+1,i,e)}}function yi(t){t=t.getFirstDescendant(),t===null&&Ue(124),t.getParentOrThrow().selectStart()}function va(t,e){let n=t.getFirstChild();n!==null?n.insertBefore(e):t.append(e)}let P_=C.createCommand("INSERT_TABLE_COMMAND");ne.$createTableCellNode=vt;ne.$createTableNode=es;ne.$createTableNodeWithDimensions=function(t,e,n=!0){let r=es();for(let o=0;o<t;o++){let s=Jn();for(let l=0;l<e;l++){var i=ce.NO_STATUS;typeof n=="object"?(o===0&&n.rows&&(i|=ce.ROW),l===0&&n.columns&&(i|=ce.COLUMN)):n&&(o===0&&(i|=ce.ROW),l===0&&(i|=ce.COLUMN)),i=vt(i);let a=C.$createParagraphNode();a.append(C.$createTextNode()),i.append(a),s.append(i)}r.append(s)}return r};ne.$createTableRowNode=Jn;ne.$deleteTableColumn=function(t,e){let n=t.getChildren();for(let i=0;i<n.length;i++){var r=n[i];if(Xn(r)){if(r=r.getChildren(),e>=r.length||0>e)throw Error("Table column target index out of range");r[e].remove()}}return t};ne.$deleteTableColumn__EXPERIMENTAL=function(){var t=C.$getSelection();C.$isRangeSelection(t)||C.DEPRECATED_$isGridSelection(t)||Ue(118);var e=t.anchor.getNode();t=t.focus.getNode();let[n,,r]=C.DEPRECATED_$getNodeTriplet(e);[e]=C.DEPRECATED_$getNodeTriplet(t);let[i,o,s]=C.DEPRECATED_$computeGridMap(r,n,e);var{startColumn:l}=o;let{startRow:a,startColumn:c}=s;t=Math.min(l,c),l=Math.max(l+n.__colSpan-1,c+e.__colSpan-1);let f=l-t+1;if(i[0].length===l-t+1)r.selectPrevious(),r.remove();else{var d=i.length;for(let u=0;u<d;u++)for(let g=t;g<=l;g++){let{cell:h,startColumn:p}=i[u][g];p<t?g===t&&h.setColSpan(h.__colSpan-Math.min(f,h.__colSpan-(t-p))):p+h.__colSpan-1>l?g===l&&h.setColSpan(h.__colSpan-(l-p+1)):h.remove()}t=i[a],e=t[c+e.__colSpan],e!==void 0?({cell:e}=e,yi(e)):({cell:e}=t[c-1],yi(e))}};ne.$deleteTableRow__EXPERIMENTAL=function(){var t=C.$getSelection();C.$isRangeSelection(t)||C.DEPRECATED_$isGridSelection(t)||Ue(118);var e=t.anchor.getNode();t=t.focus.getNode();let[n,,r]=C.DEPRECATED_$getNodeTriplet(e);[t]=C.DEPRECATED_$getNodeTriplet(t);let[i,o,s]=C.DEPRECATED_$computeGridMap(r,n,t);({startRow:e}=o);var{startRow:l}=s;if(t=l+t.__rowSpan-1,i.length===t-e+1)r.remove();else{l=i[0].length;var a=i[t+1],c=r.getChildAtIndex(t+1);for(let d=t;d>=e;d--){for(var f=l-1;0<=f;f--){let{cell:u,startRow:g,startColumn:h}=i[d][f];if(h===f&&(d===e&&g<e&&u.setRowSpan(u.__rowSpan-(g-e)),g>=e&&g+u.__rowSpan-1>t))if(u.setRowSpan(u.__rowSpan-(t-g+1)),c===null&&Ue(122),f===0)va(c,u);else{let{cell:p}=a[f-1];p.insertAfter(u)}}f=r.getChildAtIndex(d),C.DEPRECATED_$isGridRowNode(f)||Ue(123),f.remove()}a!==void 0?({cell:e}=a[0],yi(e)):({cell:e}=i[e-1][0],yi(e))}};ne.$getElementGridForTableNode=function(t,e){if(t=t.getElementByKey(e.getKey()),t==null)throw Error("Table Element Not Found");return Zi(t)};ne.$getTableCellNodeFromLexicalNode=function(t){return t=he.$findMatchingParent(t,e=>Z(e)),Z(t)?t:null};ne.$getTableColumnIndexFromTableCellNode=function(t){return Na(t).getChildren().findIndex(e=>e.is(t))};ne.$getTableNodeFromLexicalNodeOrThrow=Ca;ne.$getTableRowIndexFromTableCellNode=function(t){let e=Na(t);return Ca(e).getChildren().findIndex(n=>n.is(e))};ne.$getTableRowNodeFromTableCellNodeOrThrow=Na;ne.$insertTableColumn=function(t,e,n=!0,r,i){let o=t.getChildren();for(let a=0;a<o.length;a++){let c=o[a];if(Xn(c))for(let f=0;f<r;f++){var s=c.getChildren();if(e>=s.length||0>e)throw Error("Table column target index out of range");s=s[e],Z(s)||Ue(12);let{left:d,right:u}=jf(s,i);var l=ce.NO_STATUS;(d&&d.hasHeaderState(ce.ROW)||u&&u.hasHeaderState(ce.ROW))&&(l|=ce.ROW),l=vt(l),l.append(C.$createParagraphNode()),n?s.insertAfter(l):s.insertBefore(l)}}return t};ne.$insertTableColumn__EXPERIMENTAL=function(t=!0){function e(){let f=vt(ce.NO_STATUS).append(C.$createParagraphNode());return a===null&&(a=f),f}var n=C.$getSelection();C.$isRangeSelection(n)||C.DEPRECATED_$isGridSelection(n)||Ue(118),n=n.focus.getNode();let[r,,i]=C.DEPRECATED_$getNodeTriplet(n),[o,s]=C.DEPRECATED_$computeGridMap(i,r,r);n=o.length;var{startColumn:l}=s;t=t?l+r.__colSpan-1:l-1,l=i.getFirstChild(),C.DEPRECATED_$isGridRowNode(l)||Ue(120);let a=null;var c=l;e:for(l=0;l<n;l++){l!==0&&(c=c.getNextSibling(),C.DEPRECATED_$isGridRowNode(c)||Ue(121));let f=o[l];if(0>t){va(c,e());continue}let{cell:d,startColumn:u,startRow:g}=f[t];if(u+d.__colSpan-1<=t){let h=d,p=g,E=t;for(;p!==l&&1<h.__rowSpan;)if(E-=d.__colSpan,0<=E){let{cell:v,startRow:m}=f[E];h=v,p=m}else{c.append(e());continue e}h.insertAfter(e())}else d.setColSpan(d.__colSpan+1)}a!==null&&yi(a)};ne.$insertTableRow=function(t,e,n=!0,r,i){var o=t.getChildren();if(e>=o.length||0>e)throw Error("Table row target index out of range");if(e=o[e],Xn(e))for(o=0;o<r;o++){let l=e.getChildren(),a=l.length,c=Jn();for(let f=0;f<a;f++){var s=l[f];Z(s)||Ue(12);let{above:d,below:u}=jf(s,i);s=ce.NO_STATUS;let g=d&&d.getWidth()||u&&u.getWidth()||void 0;(d&&d.hasHeaderState(ce.COLUMN)||u&&u.hasHeaderState(ce.COLUMN))&&(s|=ce.COLUMN),s=vt(s,1,g),s.append(C.$createParagraphNode()),c.append(s)}n?e.insertAfter(c):e.insertBefore(c)}else throw Error("Row before insertion index does not exist.");return t};ne.$insertTableRow__EXPERIMENTAL=function(t=!0){var e=C.$getSelection();C.$isRangeSelection(e)||C.DEPRECATED_$isGridSelection(e)||Ue(118),e=e.focus.getNode();let[n,,r]=C.DEPRECATED_$getNodeTriplet(e),[i,o]=C.DEPRECATED_$computeGridMap(r,n,n);e=i[0].length;var{startRow:s}=o;if(t){t=s+n.__rowSpan-1;var l=i[t];s=Jn();for(var a=0;a<e;a++){let{cell:c,startRow:f}=l[a];f+c.__rowSpan-1<=t?s.append(vt(ce.NO_STATUS)):c.setRowSpan(c.__rowSpan+1)}e=r.getChildAtIndex(t),C.DEPRECATED_$isGridRowNode(e)||Ue(119),e.insertAfter(s)}else{for(l=i[s],t=Jn(),a=0;a<e;a++){let{cell:c,startRow:f}=l[a];f===s?t.append(vt(ce.NO_STATUS)):c.setRowSpan(c.__rowSpan+1)}e=r.getChildAtIndex(s),C.DEPRECATED_$isGridRowNode(e)||Ue(119),e.insertBefore(t)}};ne.$isTableCellNode=Z;ne.$isTableNode=vr;ne.$isTableRowNode=Xn;ne.$removeTableRowAtIndex=function(t,e){let n=t.getChildren();if(e>=n.length||0>e)throw Error("Expected table cell to be inside of table row.");return n[e].remove(),t};ne.$unmergeCell=function(){var t=C.$getSelection();C.$isRangeSelection(t)||C.DEPRECATED_$isGridSelection(t)||Ue(118),t=t.anchor.getNode();let[e,n,r]=C.DEPRECATED_$getNodeTriplet(t);t=e.__colSpan;let i=e.__rowSpan;if(1<t){for(var o=1;o<t;o++)e.insertAfter(vt(ce.NO_STATUS));e.setColSpan(1)}if(1<i){let[a,c]=C.DEPRECATED_$computeGridMap(r,e,e),{startColumn:f,startRow:d}=c;for(o=1;o<i;o++){let u=d+o,g=a[u];var s=n.getNextSibling();C.DEPRECATED_$isGridRowNode(s)||Ue(125);var l=null;for(let h=0;h<f;h++){let p=g[h],E=p.cell;p.startRow===u&&(l=E),1<E.__colSpan&&(h+=E.__colSpan-1)}if(l===null)for(l=0;l<t;l++)va(s,vt(ce.NO_STATUS));else for(s=0;s<t;s++)l.insertAfter(vt(ce.NO_STATUS))}e.setRowSpan(1)}};ne.INSERT_TABLE_COMMAND=P_;ne.TableCellHeaderStates=ce;ne.TableCellNode=_a;ne.TableNode=xa;ne.TableRowNode=ya;ne.TableSelection=Pf;ne.applyTableHandlers=function(t,e,n){let r=n.getRootElement();if(r===null)throw Error("No root element.");let i=new Pf(n,t.getKey());e.__lexicalTableSelection=i;let o=!1,s=!1;e.addEventListener("dblclick",d=>{let u=qi(d.target);u!==null&&(d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),i.setAnchorCellForSelection(u),i.setFocusCellForSelection(u,!0),o=!1)}),e.addEventListener("mousedown",d=>{setTimeout(()=>{if(d.button===0){var u=qi(d.target);u!==null&&(d.preventDefault(),d.stopPropagation(),d.stopImmediatePropagation(),i.setAnchorCellForSelection(u))}},0)}),e.addEventListener("mousemove",d=>{if(s&&(d.preventDefault(),d.stopPropagation(),d.stopImmediatePropagation()),o){let u=qi(d.target);if(u!==null){let g=u.x,h=u.y;o&&(i.anchorX!==g||i.anchorY!==h||i.isHighlightingCells)&&(d.preventDefault(),i.setFocusCellForSelection(u))}}}),e.addEventListener("mouseleave",()=>{});let l=d=>{d.button===0&&n.update(()=>{var u=C.$getSelection();const g=d.target;if(g instanceof Node){if(C.DEPRECATED_$isGridSelection(u)&&u.gridKey===i.tableNodeKey&&r.contains(g))return i.clearHighlight();u=C.$getNearestNodeFromDOMNode(g),u!==null&&he.$findMatchingParent(u,C.DEPRECATED_$isGridNode)&&(o=!0)}})};window.addEventListener("mousedown",l),i.listenersToRemove.add(()=>window.removeEventListener("mousedown",l));let a=d=>{var u;(u=o)&&(u=d.target,u=u!==null&&u.nodeName==="SPAN",u=!u),u&&(d.preventDefault(),d.stopPropagation()),o=!1};window.addEventListener("mouseup",a),i.listenersToRemove.add(()=>window.removeEventListener("mouseup",a)),e.addEventListener("mouseup",a),i.listenersToRemove.add(()=>e.removeEventListener("mouseup",a)),i.listenersToRemove.add(n.registerCommand(C.KEY_ARROW_DOWN_COMMAND,d=>{var u=C.$getSelection();if(!en(u,t))return!1;if(C.$isRangeSelection(u)){if(u.isCollapsed()){var g=he.$findMatchingParent(u.anchor.getNode(),p=>Z(p));if(!Z(g))return!1;var h=t.getCordsFromCellNode(g,i.grid);if(u=he.$findMatchingParent(u.anchor.getNode(),p=>C.$isElementNode(p)),u==null)throw Error("Expected BlockNode Parent");if((g=g.getLastChild())&&u.isParentOf(g)||u===g||d.shiftKey)return d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),d.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(h.x,h.y,i.grid)),fn(i,t,h.x,h.y,"down")):Ur(i,t,h.x,h.y,"down")}}else if(C.DEPRECATED_$isGridSelection(u)&&d.shiftKey)return h=u.focus.getNode(),Z(h)?(h=t.getCordsFromCellNode(h,i.grid),d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),fn(i,t,h.x,h.y,"down")):!1;return!1},C.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(C.KEY_ARROW_UP_COMMAND,d=>{var u=C.$getSelection();if(!en(u,t))return!1;if(C.$isRangeSelection(u)){if(u.isCollapsed()){var g=he.$findMatchingParent(u.anchor.getNode(),p=>Z(p));if(!Z(g))return!1;var h=t.getCordsFromCellNode(g,i.grid);if(u=he.$findMatchingParent(u.anchor.getNode(),p=>C.$isElementNode(p)),u==null)throw Error("Expected BlockNode Parent");if((g=g.getLastChild())&&u.isParentOf(g)||u===g||d.shiftKey)return d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),d.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(h.x,h.y,i.grid)),fn(i,t,h.x,h.y,"up")):Ur(i,t,h.x,h.y,"up")}}else if(C.DEPRECATED_$isGridSelection(u)&&d.shiftKey)return h=u.focus.getNode(),Z(h)?(h=t.getCordsFromCellNode(h,i.grid),d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),fn(i,t,h.x,h.y,"up")):!1;return!1},C.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(C.KEY_ARROW_LEFT_COMMAND,d=>{var u=C.$getSelection();if(!en(u,t))return!1;if(C.$isRangeSelection(u)){if(u.isCollapsed()){var g=he.$findMatchingParent(u.anchor.getNode(),h=>Z(h));if(!Z(g))return!1;if(g=t.getCordsFromCellNode(g,i.grid),he.$findMatchingParent(u.anchor.getNode(),h=>C.$isElementNode(h))==null)throw Error("Expected BlockNode Parent");if(u.anchor.offset===0||d.shiftKey)return d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),d.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(g.x,g.y,i.grid)),fn(i,t,g.x,g.y,"backward")):Ur(i,t,g.x,g.y,"backward")}}else if(C.DEPRECATED_$isGridSelection(u)&&d.shiftKey)return u=u.focus.getNode(),Z(u)?(u=t.getCordsFromCellNode(u,i.grid),d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),fn(i,t,u.x,u.y,"backward")):!1;return!1},C.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(C.KEY_ARROW_RIGHT_COMMAND,d=>{var u=C.$getSelection();if(!en(u,t))return!1;if(C.$isRangeSelection(u)){if(u.isCollapsed()){var g=he.$findMatchingParent(u.anchor.getNode(),h=>Z(h));if(!Z(g))return!1;if(g=t.getCordsFromCellNode(g,i.grid),he.$findMatchingParent(u.anchor.getNode(),h=>C.$isElementNode(h))==null)throw Error("Expected BlockNode Parent");if(u.anchor.offset===u.anchor.getNode().getTextContentSize()||d.shiftKey)return d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),d.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(g.x,g.y,i.grid)),fn(i,t,g.x,g.y,"forward")):Ur(i,t,g.x,g.y,"forward")}}else if(C.DEPRECATED_$isGridSelection(u)&&d.shiftKey)return u=u.focus.getNode(),Z(u)?(u=t.getCordsFromCellNode(u,i.grid),d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),fn(i,t,u.x,u.y,"forward")):!1;return!1},C.COMMAND_PRIORITY_HIGH));let c=d=>()=>{var u=C.$getSelection();if(!en(u,t))return!1;if(C.DEPRECATED_$isGridSelection(u))return i.clearText(),!0;if(C.$isRangeSelection(u)){const p=he.$findMatchingParent(u.anchor.getNode(),E=>Z(E));if(!Z(p))return!1;var g=u.anchor.getNode(),h=u.focus.getNode();if(g=t.isParentOf(g),h=t.isParentOf(h),g&&!h||h&&!g)return i.clearText(),!0;if(g=(h=he.$findMatchingParent(u.anchor.getNode(),E=>C.$isElementNode(E)))&&he.$findMatchingParent(h,E=>C.$isElementNode(E)&&Z(E.getParent())),!C.$isElementNode(g)||!C.$isElementNode(h))return!1;if(d===C.DELETE_LINE_COMMAND&&g.getPreviousSibling()===null)return!0;if((d===C.DELETE_CHARACTER_COMMAND||d===C.DELETE_WORD_COMMAND)&&u.isCollapsed()&&u.anchor.offset===0&&h!==g){u=h.getChildren();const E=C.$createParagraphNode();return u.forEach(v=>E.append(v)),h.replace(E),h.getWritable().__parent=p.getKey(),!0}}return!1};[C.DELETE_WORD_COMMAND,C.DELETE_LINE_COMMAND,C.DELETE_CHARACTER_COMMAND].forEach(d=>{i.listenersToRemove.add(n.registerCommand(d,c(d),C.COMMAND_PRIORITY_CRITICAL))});let f=d=>{const u=C.$getSelection();return en(u,t)?C.DEPRECATED_$isGridSelection(u)?(d.preventDefault(),d.stopPropagation(),i.clearText(),!0):(C.$isRangeSelection(u)&&(d=he.$findMatchingParent(u.anchor.getNode(),g=>Z(g)),Z(d)),!1):!1};return i.listenersToRemove.add(n.registerCommand(C.KEY_BACKSPACE_COMMAND,f,C.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(n.registerCommand(C.KEY_DELETE_COMMAND,f,C.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(n.registerCommand(C.FORMAT_TEXT_COMMAND,d=>{let u=C.$getSelection();return en(u,t)?C.DEPRECATED_$isGridSelection(u)?(i.formatCells(d),!0):(C.$isRangeSelection(u)&&(d=he.$findMatchingParent(u.anchor.getNode(),g=>Z(g)),Z(d)),!1):!1},C.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(n.registerCommand(C.CONTROLLED_TEXT_INSERTION_COMMAND,()=>{var d=C.$getSelection();return en(d,t)&&(C.DEPRECATED_$isGridSelection(d)?i.clearHighlight():C.$isRangeSelection(d)&&(d=he.$findMatchingParent(d.anchor.getNode(),u=>Z(u)),Z(d))),!1},C.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(n.registerCommand(C.KEY_TAB_COMMAND,d=>{var u=C.$getSelection();if(!en(u,t))return!1;if(C.$isRangeSelection(u)){let g=he.$findMatchingParent(u.anchor.getNode(),h=>Z(h));if(!Z(g))return!1;if(u.isCollapsed())return u=t.getCordsFromCellNode(g,i.grid),d.preventDefault(),Ur(i,t,u.x,u.y,d.shiftKey?"backward":"forward"),!0}return!1},C.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(C.FOCUS_COMMAND,()=>t.isSelected(),C.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(n.registerCommand(C.SELECTION_CHANGE_COMMAND,()=>{let d=C.$getSelection();var u=C.$getPreviousSelection();if(d&&C.$isRangeSelection(d)&&!d.isCollapsed()){var g=d.anchor.getNode(),h=d.focus.getNode();g=t.isParentOf(g);var p=t.isParentOf(h);if(h=g&&!p||p&&!g,g=g&&p&&!t.isSelected(),h)return u=d.isBackward(),g=C.$createRangeSelection(),h=t.getKey(),g.anchor.set(d.anchor.key,d.anchor.offset,d.anchor.type),g.focus.set(h,u?0:t.getChildrenSize(),"element"),s=!0,C.$setSelection(g),Uu(n,i),!0;if(g&&({grid:g}=i,d.getNodes().filter(Z).length===g.rows*g.columns)){g=C.DEPRECATED_$createGridSelection(),h=t.getKey(),p=t.getFirstChildOrThrow().getFirstChild();let E=t.getLastChildOrThrow().getLastChild();if(p!=null&&E!=null)return g.set(h,p.getKey(),E.getKey()),C.$setSelection(g),i.updateTableGridSelection(g),!0}}return d&&!d.is(u)&&(C.DEPRECATED_$isGridSelection(d)||C.DEPRECATED_$isGridSelection(u))&&i.gridSelection&&!i.gridSelection.is(u)?(C.DEPRECATED_$isGridSelection(d)&&d.gridKey===i.tableNodeKey?i.updateTableGridSelection(d):!C.DEPRECATED_$isGridSelection(d)&&C.DEPRECATED_$isGridSelection(u)&&u.gridKey===i.tableNodeKey&&i.updateTableGridSelection(null),!1):(i.hasHijackedSelectionStyles&&!t.isSelected()?(b_(n,i),s=!1):!i.hasHijackedSelectionStyles&&t.isSelected()&&Uu(n,i),!1)},C.COMMAND_PRIORITY_CRITICAL)),i};ne.getCellFromTarget=qi;ne.getTableSelectionFromTableElement=function(t){return t.__lexicalTableSelection};const F_=ne;var As=F_,it={},re=H,qn=nt;function Rr(t){throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?code=${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function zf(t){let e=1;for(t=t.getParent();t!=null;){if(ge(t)){if(t=t.getParent(),Q(t)){e++,t=t.getParent();continue}Rr(40)}break}return e}function Nl(t){t=t.getParent(),Q(t)||Rr(40);let e=t;for(;e!==null;)e=e.getParent(),Q(e)&&(t=e);return t}function Hf(t){let e=[];t=t.getChildren().filter(ge);for(let n=0;n<t.length;n++){let r=t[n],i=r.getFirstChild();Q(i)?e=e.concat(Hf(i)):e.push(r)}return e}function Ut(t){return ge(t)&&Q(t.getFirstChild())}function B_(t){for(;t.getNextSibling()==null&&t.getPreviousSibling()==null;){let e=t.getParent();if(e==null||!ge(t)&&!Q(t))break;t=e}t.remove()}function ju(t){return Tt().append(t)}function Kf(t,e){return ge(t)&&(e.length===0||e.length===1&&t.is(e[0])&&t.getChildrenSize()===0)}function Zn(t,e){t.splice(t.getChildrenSize(),0,e)}function zu(t,e){if(Q(t))return t;let n=t.getPreviousSibling(),r=t.getNextSibling(),i=Tt();return i.setFormat(t.getFormatType()),i.setIndent(t.getIndent()),Zn(i,t.getChildren()),Q(n)&&e===n.getListType()?(n.append(i),t.remove(),Q(r)&&e===r.getListType()&&(Zn(n,r.getChildren()),r.remove()),n):Q(r)&&e===r.getListType()?(r.getFirstChildOrThrow().insertBefore(i),t.remove(),r):(e=tt(e),e.append(i),t.replace(e),qe(e),e)}function Wf(t,e){var n=t.getLastChild();let r=e.getFirstChild();n&&r&&Ut(n)&&Ut(r)&&(Wf(n.getFirstChild(),r.getFirstChild()),r.remove()),n=e.getChildren(),0<n.length&&(t.append(...n),qe(t)),e.remove()}function qe(t,e){if(t=e||t.getChildren(),t!==void 0)for(e=0;e<t.length;e++){let o=t[e];if(ge(o)){let s=o.getValue();var n=o,r=n.getParent(),i=1;for(r!=null&&(Q(r)?i=r.getStart():Rr(44)),n=n.getPreviousSiblings(),r=0;r<n.length;r++){let l=n[r];ge(l)&&!Q(l.getFirstChild())&&i++}s!==i&&o.setValue(i)}}}function U_(t){if(!Ut(t)){var e=t.getParent(),n=e?e.getParent():void 0,r=n?n.getParent():void 0;if(Q(r)&&ge(n)&&Q(e)){var i=e?e.getFirstChild():void 0,o=e?e.getLastChild():void 0;if(t.is(i))n.insertBefore(t),e.isEmpty()&&n.remove();else if(t.is(o))n.insertAfter(t),e.isEmpty()&&n.remove();else{var s=e.getListType();i=Tt();let l=tt(s);i.append(l),t.getPreviousSiblings().forEach(a=>l.append(a)),o=Tt(),s=tt(s),o.append(s),Zn(s,t.getNextSiblings()),n.insertBefore(i),n.insertAfter(o),n.replace(t)}qe(e),qe(r)}}}let ts=class Cl extends re.ElementNode{static getType(){return"listitem"}static clone(e){return new Cl(e.__value,e.__checked,e.__key)}constructor(e,n,r){super(r),this.__value=e===void 0?1:e,this.__checked=n}createDOM(e){let n=document.createElement("li"),r=this.getParent();return Q(r)&&r.getListType()==="check"&&Ku(n,this,null),n.value=this.__value,Hu(n,e.theme,this),n}updateDOM(e,n,r){let i=this.getParent();return Q(i)&&i.getListType()==="check"&&Ku(n,this,e),n.value=this.__value,Hu(n,r.theme,this),!1}static transform(){return e=>{let n=e.getParent();Q(n)&&(qe(n),n.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0))}}static importDOM(){return{li:()=>({conversion:j_,priority:0})}}static importJSON(e){let n=new Cl(e.value,e.checked);return n.setFormat(e.format),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...e){for(let n=0;n<e.length;n++){let r=e[n];if(re.$isElementNode(r)&&this.canMergeWith(r)){let i=r.getChildren();this.append(...i),r.remove()}else super.append(r)}return this}replace(e,n){if(ge(e))return super.replace(e);this.setIndent(0);let r=this.getParentOrThrow();if(!Q(r))return e;if(r.__first===this.getKey())r.insertBefore(e);else if(r.__last===this.getKey())r.insertAfter(e);else{let i=tt(r.getListType()),o=this.getNextSibling();for(;o;){let s=o;o=o.getNextSibling(),i.append(s)}r.insertAfter(e),e.insertAfter(i)}return n&&this.getChildren().forEach(i=>{e.append(i)}),this.remove(),r.getChildrenSize()===0&&r.remove(),e}insertAfter(e,n=!0){var r=this.getParentOrThrow();Q(r)||Rr(39);var i=this.getNextSiblings();if(ge(e))return n=super.insertAfter(e,n),e=e.getParentOrThrow(),Q(e)&&qe(e),n;if(Q(e)&&e.getListType()===r.getListType()){for(r=e,e=e.getChildren(),i=e.length-1;0<=i;i--)r=e[i],this.insertAfter(r,n);return r}if(r.insertAfter(e,n),i.length!==0){let o=tt(r.getListType());i.forEach(s=>o.append(s)),e.insertAfter(o,n)}return e}remove(e){let n=this.getPreviousSibling(),r=this.getNextSibling();super.remove(e),n&&r&&Ut(n)&&Ut(r)?(Wf(n.getFirstChild(),r.getFirstChild()),r.remove()):r&&(e=r.getParent(),Q(e)&&qe(e))}insertNewAfter(e,n=!0){return e=Tt(this.__checked==null?void 0:!1),this.insertAfter(e,n),e}collapseAtStart(e){let n=re.$createParagraphNode();this.getChildren().forEach(s=>n.append(s));var r=this.getParentOrThrow(),i=r.getParentOrThrow();let o=ge(i);return r.getChildrenSize()===1?o?(r.remove(),i.select()):(r.insertBefore(n),r.remove(),r=e.anchor,e=e.focus,i=n.getKey(),r.type==="element"&&r.getNode().is(this)&&r.set(i,r.offset,"element"),e.type==="element"&&e.getNode().is(this)&&e.set(i,e.offset,"element")):(r.insertBefore(n),this.remove()),!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getChecked(){return this.getLatest().__checked}setChecked(e){this.getWritable().__checked=e}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){var e=this.getParent();if(e===null)return this.getLatest().__indent;e=e.getParentOrThrow();let n=0;for(;ge(e);)e=e.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(e){typeof e=="number"&&-1<e||Rr(117);let n=this.getIndent();for(;n!==e;)if(n<e){e:{var r=new Set;if(Ut(this)||r.has(this.getKey()))break e;let l=this.getParent();var i=this.getNextSibling(),o=this.getPreviousSibling();if(Ut(i)&&Ut(o)){if(o=o.getFirstChild(),Q(o)){o.append(this);var s=i.getFirstChild();Q(s)&&(s=s.getChildren(),Zn(o,s),i.remove(),r.add(i.getKey())),qe(o)}}else Ut(i)?(i=i.getFirstChild(),Q(i)&&(r=i.getFirstChild(),r!==null&&r.insertBefore(this),qe(i))):Ut(o)?(i=o.getFirstChild(),Q(i)&&(i.append(this),qe(i))):Q(l)&&(r=Tt(),s=tt(l.getListType()),r.append(s),s.append(this),o?o.insertAfter(r):i?i.insertBefore(r):l.append(r),qe(s));Q(l)&&qe(l)}n++}else U_(this),n--;return this}insertBefore(e){if(ge(e)){let n=this.getParentOrThrow();if(Q(n)){let r=this.getNextSiblings();qe(n,r)}}return super.insertBefore(e)}canInsertAfter(e){return ge(e)}canReplaceWith(e){return ge(e)}canMergeWith(e){return re.$isParagraphNode(e)||ge(e)}extractWithChild(e,n){if(!re.$isRangeSelection(n))return!1;e=n.anchor.getNode();let r=n.focus.getNode();return this.isParentOf(e)&&this.isParentOf(r)&&this.getTextContent().length===n.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return tt("bullet")}};function Hu(t,e,n){let r=[],i=[];var o=(e=e.list)?e.listitem:void 0;if(e&&e.nested)var s=e.nested.listitem;if(o!==void 0&&(o=o.split(" "),r.push(...o)),e){o=n.getParent(),o=Q(o)&&o.getListType()==="check";let l=n.getChecked();o&&!l||i.push(e.listitemUnchecked),o&&l||i.push(e.listitemChecked),o&&r.push(l?e.listitemChecked:e.listitemUnchecked)}s!==void 0&&(s=s.split(" "),n.getChildren().some(l=>Q(l))?r.push(...s):i.push(...s)),0<i.length&&qn.removeClassNamesFromElement(t,...i),0<r.length&&qn.addClassNamesToElement(t,...r)}function Ku(t,e,n){Q(e.getFirstChild())?(t.removeAttribute("role"),t.removeAttribute("tabIndex"),t.removeAttribute("aria-checked")):(t.setAttribute("role","checkbox"),t.setAttribute("tabIndex","-1"),n&&e.__checked===n.__checked||t.setAttribute("aria-checked",e.getChecked()?"true":"false"))}function j_(t){return t=qn.isHTMLElement(t)&&t.getAttribute("aria-checked")==="true",{node:Tt(t)}}function Tt(t){return re.$applyNodeReplacement(new ts(void 0,t))}function ge(t){return t instanceof ts}let Ta=class Gf extends re.ElementNode{static getType(){return"list"}static clone(e){return new Gf(e.__listType||Yu[e.__tag],e.__start,e.__key)}constructor(e,n,r){super(r),this.__listType=e=Yu[e]||e,this.__tag=e==="number"?"ol":"ul",this.__start=n}getTag(){return this.__tag}getListType(){return this.__listType}getStart(){return this.__start}createDOM(e){let n=document.createElement(this.__tag);return this.__start!==1&&n.setAttribute("start",String(this.__start)),n.__lexicalListType=this.__listType,Wu(n,e.theme,this),n}updateDOM(e,n,r){return e.__tag!==this.__tag?!0:(Wu(n,r.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:Gu,priority:0}),ul:()=>({conversion:Gu,priority:0})}}static importJSON(e){let n=tt(e.listType,e.start);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportDOM(e){return{element:e}=super.exportDOM(e),e&&(this.__start!==1&&e.setAttribute("start",String(this.__start)),this.__listType==="check"&&e.setAttribute("__lexicalListType","check")),{element:e}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...e){for(let r=0;r<e.length;r++){var n=e[r];if(ge(n))super.append(n);else{let i=Tt();Q(n)||re.$isElementNode(n)&&(n=re.$createTextNode(n.getTextContent())),i.append(n),super.append(i)}}return qe(this),this}extractWithChild(e){return ge(e)}};function Wu(t,e,n){let r=[],i=[];var o=e.list;if(o!==void 0){let l=o[`${n.__tag}Depth`]||[];e=zf(n)-1;let a=e%l.length;var s=l[a];let c=o[n.__tag],f;if(o=o.nested,o!==void 0&&o.list&&(f=o.list),c!==void 0&&r.push(c),s!==void 0)for(s=s.split(" "),r.push(...s),s=0;s<l.length;s++)s!==a&&i.push(n.__tag+s);f!==void 0&&(n=f.split(" "),1<e?r.push(...n):i.push(...n))}0<i.length&&qn.removeClassNamesFromElement(t,...i),0<r.length&&qn.addClassNamesToElement(t,...r)}function z_(t){let e=[];for(let r=0;r<t.length;r++){var n=t[r];ge(n)?(e.push(n),n=n.getChildren(),1<n.length&&n.forEach(i=>{Q(i)&&e.push(ju(i))})):e.push(ju(n))}return e}function Gu(t){let e=t.nodeName.toLowerCase(),n=null;return e==="ol"?n=tt("number",t.start):e==="ul"&&(n=qn.isHTMLElement(t)&&t.getAttribute("__lexicallisttype")==="check"?tt("check"):tt("bullet")),{after:z_,node:n}}let Yu={ol:"number",ul:"bullet"};function tt(t,e=1){return re.$applyNodeReplacement(new Ta(t,e))}function Q(t){return t instanceof Ta}let H_=re.createCommand("INSERT_UNORDERED_LIST_COMMAND"),K_=re.createCommand("INSERT_ORDERED_LIST_COMMAND"),W_=re.createCommand("INSERT_CHECK_LIST_COMMAND"),G_=re.createCommand("REMOVE_LIST_COMMAND");it.$createListItemNode=Tt;it.$createListNode=tt;it.$getListDepth=zf;it.$handleListInsertParagraph=function(){var t=re.$getSelection();if(!re.$isRangeSelection(t)||!t.isCollapsed()||(t=t.anchor.getNode(),!ge(t)||t.getTextContent()!==""))return!1;var e=Nl(t),n=t.getParent();Q(n)||Rr(40);let r=n.getParent(),i;if(re.$isRootOrShadowRoot(r))i=re.$createParagraphNode(),e.insertAfter(i);else if(ge(r))i=Tt(),r.insertAfter(i);else return!1;if(i.select(),e=t.getNextSiblings(),0<e.length){let o=tt(n.getListType());re.$isParagraphNode(i)?i.insertAfter(o):(n=Tt(),n.append(o),i.insertAfter(n)),e.forEach(s=>{s.remove(),o.append(s)})}return B_(t),!0};it.$isListItemNode=ge;it.$isListNode=Q;it.INSERT_CHECK_LIST_COMMAND=W_;it.INSERT_ORDERED_LIST_COMMAND=K_;it.INSERT_UNORDERED_LIST_COMMAND=H_;it.ListItemNode=ts;it.ListNode=Ta;it.REMOVE_LIST_COMMAND=G_;it.insertList=function(t,e){t.update(()=>{var n=re.$getSelection();if(re.$isRangeSelection(n)||re.DEPRECATED_$isGridSelection(n)){var r=n.getNodes();n=n.anchor.getNode();var i=n.getParent();if(Kf(n,r))r=tt(e),re.$isRootOrShadowRoot(i)?(n.replace(r),i=Tt(),re.$isElementNode(n)&&(i.setFormat(n.getFormatType()),i.setIndent(n.getIndent())),r.append(i)):ge(n)&&(n=n.getParentOrThrow(),Zn(r,n.getChildren()),n.replace(r));else for(n=new Set,i=0;i<r.length;i++){var o=r[i];if(re.$isElementNode(o)&&o.isEmpty()&&!n.has(o.getKey()))zu(o,e);else if(re.$isLeafNode(o))for(o=o.getParent();o!=null;){let l=o.getKey();if(Q(o)){if(!n.has(l)){var s=tt(e);Zn(s,o.getChildren()),o.replace(s),qe(s),n.add(l)}break}else{if(s=o.getParent(),re.$isRootOrShadowRoot(s)&&!n.has(l)){n.add(l),zu(o,e);break}o=s}}}}})};it.removeList=function(t){t.update(()=>{let e=re.$getSelection();if(re.$isRangeSelection(e)){var n=new Set,r=e.getNodes(),i=e.anchor.getNode();if(Kf(i,r))n.add(Nl(i));else for(i=0;i<r.length;i++){var o=r[i];re.$isLeafNode(o)&&(o=qn.$getNearestNodeOfType(o,ts),o!=null&&n.add(Nl(o)))}for(let s of n){n=s,r=Hf(s);for(let l of r)r=re.$createParagraphNode(),Zn(r,l.getChildren()),n.insertAfter(r),n=r,l.__key===e.anchor.key&&e.anchor.set(r.getKey(),0,"element"),l.__key===e.focus.key&&e.focus.set(r.getKey(),0,"element"),l.remove();s.remove()}}})};const Y_=it;var on=Y_,xe={},vl={},V_={get exports(){return vl},set exports(t){vl=t}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,s={},l={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function m(y){return y instanceof a?new a(y.type,m(y.content),y.alias):Array.isArray(y)?y.map(m):y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(m){return Object.prototype.toString.call(m).slice(8,-1)},objId:function(m){return m.__id||Object.defineProperty(m,"__id",{value:++o}),m.__id},clone:function m(y,S){S=S||{};var R,A;switch(l.util.type(y)){case"Object":if(A=l.util.objId(y),S[A])return S[A];R={},S[A]=R;for(var k in y)y.hasOwnProperty(k)&&(R[k]=m(y[k],S));return R;case"Array":return A=l.util.objId(y),S[A]?S[A]:(R=[],S[A]=R,y.forEach(function(K,M){R[M]=m(K,S)}),R);default:return y}},getLanguage:function(m){for(;m;){var y=i.exec(m.className);if(y)return y[1].toLowerCase();m=m.parentElement}return"none"},setLanguage:function(m,y){m.className=m.className.replace(RegExp(i,"gi"),""),m.classList.add("language-"+y)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(R){var m=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(R.stack)||[])[1];if(m){var y=document.getElementsByTagName("script");for(var S in y)if(y[S].src==m)return y[S]}return null}},isActive:function(m,y,S){for(var R="no-"+y;m;){var A=m.classList;if(A.contains(y))return!0;if(A.contains(R))return!1;m=m.parentElement}return!!S}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(m,y){var S=l.util.clone(l.languages[m]);for(var R in y)S[R]=y[R];return S},insertBefore:function(m,y,S,R){R=R||l.languages;var A=R[m],k={};for(var K in A)if(A.hasOwnProperty(K)){if(K==y)for(var M in S)S.hasOwnProperty(M)&&(k[M]=S[M]);S.hasOwnProperty(K)||(k[K]=A[K])}var J=R[m];return R[m]=k,l.languages.DFS(l.languages,function(te,se){se===J&&te!=m&&(this[te]=k)}),k},DFS:function m(y,S,R,A){A=A||{};var k=l.util.objId;for(var K in y)if(y.hasOwnProperty(K)){S.call(y,K,y[K],R||K);var M=y[K],J=l.util.type(M);J==="Object"&&!A[k(M)]?(A[k(M)]=!0,m(M,S,null,A)):J==="Array"&&!A[k(M)]&&(A[k(M)]=!0,m(M,S,K,A))}}},plugins:{},highlightAll:function(m,y){l.highlightAllUnder(document,m,y)},highlightAllUnder:function(m,y,S){var R={callback:S,container:m,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",R),R.elements=Array.prototype.slice.apply(R.container.querySelectorAll(R.selector)),l.hooks.run("before-all-elements-highlight",R);for(var A=0,k;k=R.elements[A++];)l.highlightElement(k,y===!0,R.callback)},highlightElement:function(m,y,S){var R=l.util.getLanguage(m),A=l.languages[R];l.util.setLanguage(m,R);var k=m.parentElement;k&&k.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(k,R);var K=m.textContent,M={element:m,language:R,grammar:A,code:K};function J(se){M.highlightedCode=se,l.hooks.run("before-insert",M),M.element.innerHTML=M.highlightedCode,l.hooks.run("after-highlight",M),l.hooks.run("complete",M),S&&S.call(M.element)}if(l.hooks.run("before-sanity-check",M),k=M.element.parentElement,k&&k.nodeName.toLowerCase()==="pre"&&!k.hasAttribute("tabindex")&&k.setAttribute("tabindex","0"),!M.code){l.hooks.run("complete",M),S&&S.call(M.element);return}if(l.hooks.run("before-highlight",M),!M.grammar){J(l.util.encode(M.code));return}if(y&&r.Worker){var te=new Worker(l.filename);te.onmessage=function(se){J(se.data)},te.postMessage(JSON.stringify({language:M.language,code:M.code,immediateClose:!0}))}else J(l.highlight(M.code,M.grammar,M.language))},highlight:function(m,y,S){var R={code:m,grammar:y,language:S};if(l.hooks.run("before-tokenize",R),!R.grammar)throw new Error('The language "'+R.language+'" has no grammar.');return R.tokens=l.tokenize(R.code,R.grammar),l.hooks.run("after-tokenize",R),a.stringify(l.util.encode(R.tokens),R.language)},tokenize:function(m,y){var S=y.rest;if(S){for(var R in S)y[R]=S[R];delete y.rest}var A=new d;return u(A,A.head,m),f(m,A,y,A.head,0),h(A)},hooks:{all:{},add:function(m,y){var S=l.hooks.all;S[m]=S[m]||[],S[m].push(y)},run:function(m,y){var S=l.hooks.all[m];if(!(!S||!S.length))for(var R=0,A;A=S[R++];)A(y)}},Token:a};r.Prism=l;function a(m,y,S,R){this.type=m,this.content=y,this.alias=S,this.length=(R||"").length|0}a.stringify=function m(y,S){if(typeof y=="string")return y;if(Array.isArray(y)){var R="";return y.forEach(function(J){R+=m(J,S)}),R}var A={type:y.type,content:m(y.content,S),tag:"span",classes:["token",y.type],attributes:{},language:S},k=y.alias;k&&(Array.isArray(k)?Array.prototype.push.apply(A.classes,k):A.classes.push(k)),l.hooks.run("wrap",A);var K="";for(var M in A.attributes)K+=" "+M+'="'+(A.attributes[M]||"").replace(/"/g,"&quot;")+'"';return"<"+A.tag+' class="'+A.classes.join(" ")+'"'+K+">"+A.content+"</"+A.tag+">"};function c(m,y,S,R){m.lastIndex=y;var A=m.exec(S);if(A&&R&&A[1]){var k=A[1].length;A.index+=k,A[0]=A[0].slice(k)}return A}function f(m,y,S,R,A,k){for(var K in S)if(!(!S.hasOwnProperty(K)||!S[K])){var M=S[K];M=Array.isArray(M)?M:[M];for(var J=0;J<M.length;++J){if(k&&k.cause==K+","+J)return;var te=M[J],se=te.inside,ot=!!te.lookbehind,dt=!!te.greedy,ft=te.alias;if(dt&&!te.pattern.global){var Ke=te.pattern.toString().match(/[imsuy]*$/)[0];te.pattern=RegExp(te.pattern.source,Ke+"g")}for(var _e=te.pattern||te,I=R.next,q=A;I!==y.tail&&!(k&&q>=k.reach);q+=I.value.length,I=I.next){var Y=I.value;if(y.length>m.length)return;if(!(Y instanceof a)){var Se=1,W;if(dt){if(W=c(_e,q,m,ot),!W||W.index>=m.length)break;var st=W.index,ye=W.index+W[0].length,Ae=q;for(Ae+=I.value.length;st>=Ae;)I=I.next,Ae+=I.value.length;if(Ae-=I.value.length,q=Ae,I.value instanceof a)continue;for(var Ye=I;Ye!==y.tail&&(Ae<ye||typeof Ye.value=="string");Ye=Ye.next)Se++,Ae+=Ye.value.length;Se--,Y=m.slice(q,Ae),W.index-=q}else if(W=c(_e,0,Y,ot),!W)continue;var st=W.index,At=W[0],Rt=Y.slice(0,st),lt=Y.slice(st+At.length),Ee=q+Y.length;k&&Ee>k.reach&&(k.reach=Ee);var Lt=I.prev;Rt&&(Lt=u(y,Lt,Rt),q+=Rt.length),g(y,Lt,Se);var Jt=new a(K,se?l.tokenize(At,se):At,ft,At);if(I=u(y,Lt,Jt),lt&&u(y,I,lt),Se>1){var mt={cause:K+","+J,reach:Ee};f(m,y,S,I.prev,q,mt),k&&mt.reach>k.reach&&(k.reach=mt.reach)}}}}}}function d(){var m={value:null,prev:null,next:null},y={value:null,prev:m,next:null};m.next=y,this.head=m,this.tail=y,this.length=0}function u(m,y,S){var R=y.next,A={value:S,prev:y,next:R};return y.next=A,R.prev=A,m.length++,A}function g(m,y,S){for(var R=y.next,A=0;A<S&&R!==m.tail;A++)R=R.next;y.next=R,R.prev=y,m.length-=A}function h(m){for(var y=[],S=m.head.next;S!==m.tail;)y.push(S.value),S=S.next;return y}if(!r.document)return r.addEventListener&&(l.disableWorkerMessageHandler||r.addEventListener("message",function(m){var y=JSON.parse(m.data),S=y.language,R=y.code,A=y.immediateClose;r.postMessage(l.highlight(R,l.languages[S],S)),A&&r.close()},!1)),l;var p=l.util.currentScript();p&&(l.filename=p.src,p.hasAttribute("data-manual")&&(l.manual=!0));function E(){l.manual||l.highlightAll()}if(!l.manual){var v=document.readyState;v==="loading"||v==="interactive"&&p&&p.defer?document.addEventListener("DOMContentLoaded",E):window.requestAnimationFrame?window.requestAnimationFrame(E):window.setTimeout(E,16)}return l}(e);t.exports&&(t.exports=n),typeof Ga<"u"&&(Ga.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(i,o){var s={};s["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[o]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};l["language-"+o]={pattern:/[\s\S]+/,inside:n.languages[o]};var a={};a[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:l},n.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,i){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:n.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(r){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var o=r.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",i=function(p,E){return"✖ Error "+p+" while fetching file: "+E},o="✖ Error: File does not exist or is empty",s={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",a="loading",c="loaded",f="failed",d="pre[data-src]:not(["+l+'="'+c+'"]):not(['+l+'="'+a+'"])';function u(p,E,v){var m=new XMLHttpRequest;m.open("GET",p,!0),m.onreadystatechange=function(){m.readyState==4&&(m.status<400&&m.responseText?E(m.responseText):m.status>=400?v(i(m.status,m.statusText)):v(o))},m.send(null)}function g(p){var E=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(p||"");if(E){var v=Number(E[1]),m=E[2],y=E[3];return m?y?[v,Number(y)]:[v,void 0]:[v,v]}}n.hooks.add("before-highlightall",function(p){p.selector+=", "+d}),n.hooks.add("before-sanity-check",function(p){var E=p.element;if(E.matches(d)){p.code="",E.setAttribute(l,a);var v=E.appendChild(document.createElement("CODE"));v.textContent=r;var m=E.getAttribute("data-src"),y=p.language;if(y==="none"){var S=(/\.(\w+)$/.exec(m)||[,"none"])[1];y=s[S]||S}n.util.setLanguage(v,y),n.util.setLanguage(E,y);var R=n.plugins.autoloader;R&&R.loadLanguages(y),u(m,function(A){E.setAttribute(l,c);var k=g(E.getAttribute("data-range"));if(k){var K=A.split(/\r\n?|\n/g),M=k[0],J=k[1]==null?K.length:k[1];M<0&&(M+=K.length),M=Math.max(0,Math.min(M-1,K.length)),J<0&&(J+=K.length),J=Math.max(0,Math.min(J,K.length)),A=K.slice(M,J).join(`
`),E.hasAttribute("data-start")||E.setAttribute("data-start",String(M+1))}v.textContent=A,n.highlightElement(v)},function(A){E.setAttribute(l,f),v.textContent=A})}}),n.plugins.fileHighlight={highlight:function(E){for(var v=(E||document).querySelectorAll(d),m=0,y;y=v[m++];)n.highlightElement(y)}};var h=!1;n.fileHighlight=function(){h||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),h=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(V_);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:Prism.languages[n]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",o)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(t,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(f){return f=f.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+f+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(f){["url","bold","italic","strike","code-snippet"].forEach(function(d){f!==d&&(t.languages.markdown[f].inside.content.inside[d]=t.languages.markdown[d])})}),t.hooks.add("after-tokenize",function(f){if(f.language!=="markdown"&&f.language!=="md")return;function d(u){if(!(!u||typeof u=="string"))for(var g=0,h=u.length;g<h;g++){var p=u[g];if(p.type!=="code"){d(p.content);continue}var E=p.content[1],v=p.content[3];if(E&&v&&E.type==="code-language"&&v.type==="code-block"&&typeof E.content=="string"){var m=E.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");m=(/[a-z][\w-]*/i.exec(m)||[""])[0].toLowerCase();var y="language-"+m;v.alias?typeof v.alias=="string"?v.alias=[v.alias,y]:v.alias.push(y):v.alias=[y]}}}d(f.tokens)}),t.hooks.add("wrap",function(f){if(f.type==="code-block"){for(var d="",u=0,g=f.classes.length;u<g;u++){var h=f.classes[u],p=/language-(.+)/.exec(h);if(p){d=p[1];break}}var E=t.languages[d];if(E)f.content=t.highlight(c(f.content),E,d);else if(d&&d!=="none"&&t.plugins.autoloader){var v="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);f.attributes.id=v,t.plugins.autoloader.loadLanguages(d,function(){var m=document.getElementById(v);m&&(m.innerHTML=t.highlight(m.textContent,t.languages[d],d))})}}});var s=RegExp(t.languages.markup.tag.pattern.source,"gi"),l={amp:"&",lt:"<",gt:">",quot:'"'},a=String.fromCodePoint||String.fromCharCode;function c(f){var d=f.replace(s,"");return d=d.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(u,g){if(g=g.toLowerCase(),g[0]==="#"){var h;return g[1]==="x"?h=parseInt(g.slice(2),16):h=Number(g.slice(1)),a(h)}else{var p=l[g];return p||u}}),d}t.languages.md=t.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(t){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=Prism.languages.swift});(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript})(Prism);(function(t){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};t.languages.java=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:e,function:[t.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),t.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);(function(t){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])})(Prism);var Tr=vl,Sr=nt,B=H;let Vu=t=>t!=null&&Tr.languages.hasOwnProperty(t)?t:void 0;function Yf(t,e){for(let n of t.childNodes){if(Sr.isHTMLElement(n)&&n.tagName===e)return!0;Yf(n,e)}return!1}class Cn extends B.ElementNode{static getType(){return"code"}static clone(e){return new Cn(e.__language,e.__key)}constructor(e,n){super(n),this.__language=Vu(e)}createDOM(e){let n=document.createElement("code");return Sr.addClassNamesToElement(n,e.theme.code),n.setAttribute("spellcheck","false"),(e=this.getLanguage())&&n.setAttribute("data-highlight-language",e),n}updateDOM(e,n){let r=this.__language;return e=e.__language,r?r!==e&&n.setAttribute("data-highlight-language",r):e&&n.removeAttribute("data-highlight-language"),!1}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||Yf(e,"BR"))?{conversion:Ju,priority:1}:null,div:()=>({conversion:J_,priority:1}),pre:()=>({conversion:Ju,priority:0}),table:e=>Rs(e)?{conversion:X_,priority:3}:null,td:e=>{let n=e.closest("table");return e.classList.contains("js-file-line")?{conversion:q_,priority:3}:n&&Rs(n)?{conversion:Xu,priority:3}:null},tr:e=>(e=e.closest("table"))&&Rs(e)?{conversion:Xu,priority:3}:null}}static importJSON(e){let n=Fr(e.language);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),type:"code",version:1}}insertNewAfter(e,n=!0){var r=this.getChildren(),i=r.length;if(2<=i&&r[i-1].getTextContent()===`
`&&r[i-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===i)return r[i-1].remove(),r[i-2].remove(),e=B.$createParagraphNode(),this.insertAfter(e,n),e;if(n=e.anchor.getNode(),i=xi(n),i!=null){for(r=0,i=i.getTextContent();r<i.length&&/[\t ]/.test(i[r]);)r+=1;if(0<r)return r=i.substring(0,r),r=Wn(r),n.insertAfter(r),e.insertNodes([B.$createLineBreakNode()]),r.select(),r}return null}canInsertTab(){let e=B.$getSelection();return!!(B.$isRangeSelection(e)&&e.isCollapsed())}canIndent(){return!1}collapseAtStart(){let e=B.$createParagraphNode();return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}setLanguage(e){this.getWritable().__language=Vu(e)}getLanguage(){return this.getLatest().__language}}function Fr(t){return B.$applyNodeReplacement(new Cn(t))}function ns(t){return t instanceof Cn}function Ju(){return{node:Fr(),preformatted:!0}}function J_(t){let e=t.style.fontFamily.match("monospace")!==null;return e||Z_(t)?{after:n=>{let r=t.parentNode;return r!=null&&t!==r.lastChild&&n.push(B.$createLineBreakNode()),n},node:e?Fr():null,preformatted:e}:{node:null}}function X_(){return{node:Fr(),preformatted:!0}}function Xu(){return{node:null}}function q_(t){return{after:e=>(t.parentNode&&t.parentNode.nextSibling&&e.push(B.$createLineBreakNode()),e),node:null}}function Z_(t){for(t=t.parentElement;t!==null;){if(t.style.fontFamily.match("monospace")!==null)return!0;t=t.parentElement}return!1}function Rs(t){return t.classList.contains("js-file-line-container")}let Vf={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},Jf={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function Xf(t){return Jf[t]||t}let Ei=class qf extends B.TextNode{constructor(e,n,r){super(e,r),this.__highlightType=n}static getType(){return"code-highlight"}static clone(e){return new qf(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}createDOM(e){let n=super.createDOM(e);return e=ws(e.theme,this.__highlightType),Sr.addClassNamesToElement(n,e),n}updateDOM(e,n,r){let i=super.updateDOM(e,n,r);return e=ws(r.theme,e.__highlightType),r=ws(r.theme,this.__highlightType),e!==r&&(e&&Sr.removeClassNamesFromElement(n,e),r&&Sr.addClassNamesToElement(n,r)),i}static importJSON(e){let n=Wn(e.text,e.highlightType);return n.setFormat(e.format),n.setDetail(e.detail),n.setMode(e.mode),n.setStyle(e.style),n}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType(),type:"code-highlight",version:1}}setFormat(){return this}isParentRequired(){return!0}createParentElementNode(){return Fr()}};function ws(t,e){return e&&t&&t.codeHighlight&&t.codeHighlight[e]}function Wn(t,e){return B.$applyNodeReplacement(new Ei(t,e))}function je(t){return t instanceof Ei}function xi(t){let e=null,n=t.getPreviousSiblings();for(n.push(t);0<n.length&&(t=n.pop(),je(t)&&(e=t),!B.$isLineBreakNode(t)););return e}function Tl(t){let e=null,n=t.getNextSiblings();for(n.unshift(t);0<n.length&&(t=n.shift(),je(t)&&(e=t),!B.$isLineBreakNode(t)););return e}let Zf={defaultLanguage:"javascript",tokenize(t,e){return Tr.tokenize(t,Tr.languages[e||""]||Tr.languages[this.defaultLanguage])}};function To(t,e){var n=t.length;let r=-1;if(e)for(e=0;e<n;e++){let i=t[e];if(i!==" "&&i!=="	"){r=e;break}}else for(--n;-1<n;n--)if(e=t[n],e!==" "&&e!=="	"){r=n;break}return r}function Qf(t){let e=null,n=-1;var r=t.getPreviousSiblings();for(r.push(t);0<r.length;){var i=r.pop();if(je(i)){var o=i.getTextContent();o=To(o,!0),o!==-1&&(e=i,n=o)}if(B.$isLineBreakNode(i))break}if(e===null)for(t=t.getNextSiblings();0<t.length;){if(r=t.shift(),je(r)&&(i=r.getTextContent(),i=To(i,!0),i!==-1)){e=r,n=i;break}if(B.$isLineBreakNode(r))break}return{node:e,offset:n}}function eg(t){let e=null,n=-1;var r=t.getNextSiblings();for(r.unshift(t);0<r.length;){var i=r.shift();if(je(i)){var o=i.getTextContent();o=To(o,!1),o!==-1&&(e=i,n=o+1)}if(B.$isLineBreakNode(i))break}if(e===null)for(t=t.getPreviousSiblings();0<t.length;){if(r=t.pop(),je(r)&&(i=r.getTextContent(),i=To(i,!1),i!==-1)){e=r,n=i+1;break}if(B.$isLineBreakNode(r))break}return{node:e,offset:n}}function qu(t,e,n){let r=t.getParent();ns(r)?tg(r,e,n):je(t)&&t.replace(B.$createTextNode(t.__text))}let Os=new Set;function tg(t,e,n){let r=t.getKey();Os.has(r)||(Os.add(r),t.getLanguage()===void 0&&t.setLanguage(n.defaultLanguage),e.update(()=>{Q_(r,()=>{var i=B.$getNodeByKey(r);if(!ns(i)||!i.isAttached())return!1;var o=i.getTextContent();o=n.tokenize(o,i.getLanguage()||n.defaultLanguage),o=ng(o);var s=i.getChildren();for(i=0;i<s.length&&Zu(s[i],o[i]);)i++;var l=s.length;let a=o.length,c=Math.min(l,a)-i,f=0;for(;f<c;)if(f++,!Zu(s[l-f],o[a-f])){f--;break}s=i,l-=f,o=o.slice(i,a-f);let{from:d,to:u,nodesForReplacement:g}={from:s,nodesForReplacement:o,to:l};return d!==u||g.length?(t.splice(d,u-d,g),!0):!1})},{onUpdate:()=>{Os.delete(r)},skipTransforms:!0}))}function ng(t){let e=[];return t.forEach(n=>{if(typeof n=="string"){n=n.split(`
`);for(var r=0;r<n.length;r++){let i=n[r];i.length&&e.push(Wn(i)),r<n.length-1&&e.push(B.$createLineBreakNode())}}else({content:r}=n),typeof r=="string"?e.push(Wn(r,n.type)):Array.isArray(r)&&r.length===1&&typeof r[0]=="string"?e.push(Wn(r[0],n.type)):Array.isArray(r)&&e.push(...ng(r))}),e}function Q_(t,e){if(t=B.$getNodeByKey(t),ns(t)&&t.isAttached()){var n=B.$getSelection();if(B.$isRangeSelection(n)){n=n.anchor;var r=n.offset,i=n.type==="element"&&B.$isLineBreakNode(t.getChildAtIndex(n.offset-1)),o=0;if(!i){let s=n.getNode();o=r+s.getPreviousSiblings().reduce((l,a)=>l+a.getTextContentSize(),0)}e()&&(i?n.getNode().select(r,r):t.getChildren().some(s=>{let l=B.$isTextNode(s);if(l||B.$isLineBreakNode(s)){let a=s.getTextContentSize();if(l&&a>=o)return s.select(o,o),!0;o-=a}return!1}))}else e()}}function Zu(t,e){return je(t)&&je(e)?t.__text===e.__text&&t.__highlightType===e.__highlightType:!!(B.$isLineBreakNode(t)&&B.$isLineBreakNode(e))}function Qu(t){var e=B.$getSelection();if(!B.$isRangeSelection(e)||e.isCollapsed())return!1;e=e.getNodes();for(var n=0;n<e.length;n++){var r=e[n];if(!je(r)&&!B.$isLineBreakNode(r))return!1}for(n=xi(e[0]),n!=null&&ec(n,t),n=1;n<e.length;n++)r=e[n],B.$isLineBreakNode(e[n-1])&&je(r)&&ec(r,t);return!0}function ec(t,e){let n=t.getTextContent();e===B.INDENT_CONTENT_COMMAND?0<n.length&&/\s/.test(n[0])?t.setTextContent("	"+n):(e=Wn("	"),t.insertBefore(e)):n.indexOf("	")===0&&(n.length===1?t.remove():t.setTextContent(n.substring(1)))}function tc(t,e){let n=B.$getSelection();if(!B.$isRangeSelection(n))return!1;let{anchor:r,focus:i}=n,o=r.offset,s=i.offset,l=r.getNode(),a=i.getNode();var c=t===B.KEY_ARROW_UP_COMMAND;if(!je(l)||!je(a))return!1;if(!e.altKey){if(n.isCollapsed()){if(t=l.getParentOrThrow(),c&&o===0&&l.getPreviousSibling()===null){if(t.getPreviousSibling()===null)return t.selectPrevious(),e.preventDefault(),!0}else if(!c&&o===l.getTextContentSize()&&l.getNextSibling()===null&&t.getNextSibling()===null)return t.selectNext(),e.preventDefault(),!0}return!1}var f=xi(l);let d=Tl(a);if(f==null||d==null)return!1;let u=f.getNodesBetween(d);for(let h=0;h<u.length;h++){let p=u[h];if(!je(p)&&!B.$isLineBreakNode(p))return!1}if(e.preventDefault(),e.stopPropagation(),e=c?f.getPreviousSibling():d.getNextSibling(),!B.$isLineBreakNode(e)||(f=c?e.getPreviousSibling():e.getNextSibling(),f==null))return!0;c=c?xi(f):Tl(f);let g=c??f;return e.remove(),u.forEach(h=>h.remove()),t===B.KEY_ARROW_UP_COMMAND?(u.forEach(h=>g.insertBefore(h)),g.insertBefore(e)):(g.insertAfter(e),g=e,u.forEach(h=>{g.insertAfter(h),g=h})),n.setTextNodeRange(l,o,a,s),!0}function nc(t,e){let n=B.$getSelection();if(!B.$isRangeSelection(n))return!1;let{anchor:r,focus:i}=n,o=r.getNode(),s=i.getNode();if(t=t===B.MOVE_TO_START,!je(o)||!je(s))return!1;let l,a;return t?{node:l,offset:a}=Qf(s):{node:l,offset:a}=eg(s),l!==null&&a!==-1&&n.setTextNodeRange(l,a,l,a),e.preventDefault(),e.stopPropagation(),!0}xe.$createCodeHighlightNode=Wn;xe.$createCodeNode=Fr;xe.$isCodeHighlightNode=je;xe.$isCodeNode=ns;xe.CODE_LANGUAGE_FRIENDLY_NAME_MAP=Vf;xe.CODE_LANGUAGE_MAP=Jf;xe.CodeHighlightNode=Ei;xe.CodeNode=Cn;xe.DEFAULT_CODE_LANGUAGE="javascript";xe.PrismTokenizer=Zf;xe.getCodeLanguages=()=>Object.keys(Tr.languages).filter(t=>typeof Tr.languages[t]!="function").sort();xe.getDefaultCodeLanguage=()=>"javascript";xe.getEndOfCodeInLine=eg;xe.getFirstCodeHighlightNodeOfLine=xi;xe.getLanguageFriendlyName=function(t){return t=Xf(t),Vf[t]||t};xe.getLastCodeHighlightNodeOfLine=Tl;xe.getStartOfCodeInLine=Qf;xe.normalizeCodeLang=Xf;xe.registerCodeHighlighting=function(t,e){if(!t.hasNodes([Cn,Ei]))throw Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return e==null&&(e=Zf),Sr.mergeRegister(t.registerMutationListener(Cn,n=>{t.update(()=>{for(let[o,s]of n)if(s!=="destroyed"){var r=B.$getNodeByKey(o);if(r!==null)e:{var i=r;if(r=t.getElementByKey(i.getKey()),r===null)break e;i=i.getChildren();let l=i.length;if(l===r.__cachedChildrenLength)break e;r.__cachedChildrenLength=l;let a="1",c=1;for(let f=0;f<l;f++)B.$isLineBreakNode(i[f])&&(a+=`
`+ ++c);r.setAttribute("data-gutter",a)}}})}),t.registerNodeTransform(Cn,n=>tg(n,t,e)),t.registerNodeTransform(B.TextNode,n=>qu(n,t,e)),t.registerNodeTransform(Ei,n=>qu(n,t,e)),t.registerCommand(B.INDENT_CONTENT_COMMAND,()=>Qu(B.INDENT_CONTENT_COMMAND),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.OUTDENT_CONTENT_COMMAND,()=>Qu(B.OUTDENT_CONTENT_COMMAND),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.KEY_ARROW_UP_COMMAND,n=>tc(B.KEY_ARROW_UP_COMMAND,n),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.KEY_ARROW_DOWN_COMMAND,n=>tc(B.KEY_ARROW_DOWN_COMMAND,n),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.MOVE_TO_END,n=>nc(B.MOVE_TO_END,n),B.COMMAND_PRIORITY_LOW),t.registerCommand(B.MOVE_TO_START,n=>nc(B.MOVE_TO_START,n),B.COMMAND_PRIORITY_LOW))};const ey=xe;var sn=ey,Sa={},de={},ee=H,ni=sn,ze=on,xn=Nn,ty=nt,$s=Ct;function Sl(t,e){let n={};for(let r of t)t=e(r),n[t]?n[t].push(r):n[t]=[r];return n}function Aa(t){return t=Sl(t,e=>e.type),{element:t.element||[],textFormat:t["text-format"]||[],textMatch:t["text-match"]||[]}}let So=/[!-/:-@[-`{-~\s]/;function ny(t){let e=Aa(t),n=e.textFormat.filter(r=>r.format.length===1);return r=>{let i=[];r=(r||ee.$getRoot()).getChildren();for(let o of r)r=ry(o,e.element,n,e.textMatch),r!=null&&i.push(r);return i.join(`

`)}}function ry(t,e,n,r){for(let i of e)if(e=i.export(t,o=>Ao(o,n,r)),e!=null)return e;return ee.$isElementNode(t)?Ao(t,n,r):ee.$isDecoratorNode(t)?t.getTextContent():null}function Ao(t,e,n){let r=[];t=t.getChildren();e:for(let i of t){for(let o of n)if(t=o.export(i,s=>Ao(s,e,n),(s,l)=>rc(s,l,e)),t!=null){r.push(t);continue e}ee.$isLineBreakNode(i)?r.push(`
`):ee.$isTextNode(i)?r.push(rc(i,i.getTextContent(),e)):ee.$isElementNode(i)?r.push(Ao(i,e,n)):ee.$isDecoratorNode(i)&&r.push(i.getTextContent())}return r.join("")}function rc(t,e,n){let r=e.trim(),i=r,o=new Set;for(let l of n){n=l.format[0];let a=l.tag;if(Ds(t,n)&&!o.has(n)){o.add(n);var s=ic(t,!0);Ds(s,n)||(i=a+i),s=ic(t,!1),Ds(s,n)||(i+=a)}}return e.replace(r,i)}function ic(t,e){let n=e?t.getPreviousSibling():t.getNextSibling();for(n||(t=t.getParentOrThrow(),t.isInline()&&(n=e?t.getPreviousSibling():t.getNextSibling()));n;){if(ee.$isElementNode(n)){if(!n.isInline())break;if(t=e?n.getLastDescendant():n.getFirstDescendant(),ee.$isTextNode(t))return t;n=e?n.getPreviousSibling():n.getNextSibling()}if(ee.$isTextNode(n))return n;if(!ee.$isElementNode(n))break}return null}function Ds(t,e){return ee.$isTextNode(t)&&t.hasFormat(e)}let Br=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iy=Br&&"documentMode"in document?document.documentMode:null;Br&&"InputEvent"in window&&!iy&&"getTargetRanges"in new window.InputEvent("input");let oc=Br&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),sc=Br&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,oy=Br&&/^(?=.*Chrome).*/i.test(navigator.userAgent),lc=Br&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!oy,sy=/^\s{0,3}$/,ac=/^```(\w{1,10})?\s?$/;function ly(t){let e=Aa(t),n=uy(e.textFormat);return(r,i)=>{r=r.split(`
`);var o=r.length;i=i||ee.$getRoot(),i.clear();for(let h=0;h<o;h++){var s=r[h];e:{var l=r,a=h,c=i,f=l[a].match(ac);if(f){for(var d=a,u=l.length;++d<u;)if(l[d].match(ac)){f=ni.$createCodeNode(f[1]),l=ee.$createTextNode(l.slice(a+1,d).join(`
`)),f.append(l),c.append(f),c=[f,d];break e}}c=[null,a]}let[p,E]=c;if(p!=null)h=E;else{c=s,u=i;var g=e.element;d=n,l=e.textMatch,a=c.trim(),f=ee.$createTextNode(a),s=ee.$createParagraphNode(),s.append(f),u.append(s);for(let{regExp:v,replace:m}of g)if(u=c.match(v)){f.setTextContent(c.slice(u[0].length)),m(s,[f],u,!0);break}Qi(f,d,l),s.isAttached()&&0<a.length&&(c=s.getPreviousSibling(),ee.$isParagraphNode(c)||xn.$isQuoteNode(c)||ze.$isListNode(c))&&(d=c,ze.$isListNode(c)&&(c=c.getLastDescendant(),d=c==null?null:ty.$findMatchingParent(c,ze.$isListItemNode)),d!=null&&0<d.getTextContentSize()&&(d.splice(d.getChildrenSize(),0,[ee.$createLineBreakNode(),...s.getChildren()]),s.remove()))}}r=i.getChildren();for(let h of r)r=h,ee.$isParagraphNode(r)?(o=r.getFirstChild(),r=o==null||r.getChildrenSize()===1&&ee.$isTextNode(o)&&sy.test(o.getTextContent())):r=!1,r&&h.remove();ee.$getSelection()!==null&&i.selectEnd()}}function Qi(t,e,n){var r=t.getTextContent();let i=ay(r,e);if(i){var o,s;if(i[0]===r)var l=t;else{r=i.index||0;let a=r+i[0].length;r===0?[l,o]=t.splitText(a):[s,l,o]=t.splitText(r,a)}if(l.setTextContent(i[2]),t=e.transformersByTag[i[1]])for(let a of t.format)l.hasFormat(a)||l.toggleFormat(a);l.hasFormat("code")||Qi(l,e,n),s&&Qi(s,e,n),o&&Qi(o,e,n)}else rg(t,n)}function rg(t,e){e:for(;t;){for(let n of e){let r=t.getTextContent().match(n.importRegExp);if(!r)continue;let i=r.index||0,o=i+r[0].length,s,l,a;i===0?[s,t]=t.splitText(o):[l,s,a]=t.splitText(i,o),l&&rg(l,e),a&&(t=a),n.replace(s,r);continue e}break}}function ay(t,e){var n=t.match(e.openTagsRegExp);if(n==null)return null;for(let o of n){var r=o.replace(/^\s/,"");if(n=e.fullMatchRegExpByTag[r],n!=null&&(n=t.match(n),r=e.transformersByTag[r],n!=null&&r!=null)){if(r.intraword!==!1)return n;var{index:i=0}=n;if(r=t[i-1],i=t[i+n[0].length],!(r&&!So.test(r)||i&&!So.test(i)))return n}}return null}function uy(t){let e={},n={},r=[];for(let i of t){({tag:t}=i),e[t]=i;let o=t.replace(/(\*|\^|\+)/g,"\\$1");r.push(o),n[t]=oc||sc||lc?new RegExp(`(${o})(?![${o}\\s])(.*?[^${o}\\s])${o}(?!${o})`):new RegExp(`(?<![\\\\${o}])(${o})((\\\\${o})?.*?[^${o}\\s](\\\\${o})?)((?<!\\\\)|(?<=\\\\\\\\))(${o})(?![\\\\${o}])`)}return{fullMatchRegExpByTag:n,openTagsRegExp:new RegExp((oc||sc||lc?"":"(?<![\\\\])")+"("+r.join("|")+")","g"),transformersByTag:e}}function uc(t,e,n){let r=n.length;for(;e>=r;e--){let i=e-r;if(ig(t,i,n,0,r)&&t[i+r]!==" ")return i}return-1}function ig(t,e,n,r,i){for(let o=0;o<i;o++)if(t[e+o]!==n[r+o])return!1;return!0}let og=t=>(e,n,r)=>{r=t(r),r.append(...n),e.replace(r),r.select(0,0)},Ra=t=>(e,n,r)=>{var i=e.getPreviousSibling();const o=ze.$createListItemNode(t==="check"?r[3]==="x":void 0);ze.$isListNode(i)&&i.getListType()===t?(i.append(o),e.remove()):(i=ze.$createListNode(t,t==="number"?Number(r[2]):void 0),i.append(o),e.replace(i)),o.append(...n),o.select(0,0),(e=Math.floor(r[1].length/4))&&o.setIndent(e)},rs=(t,e,n)=>{const r=[];var i=t.getChildren();let o=0;for(const l of i)if(ze.$isListItemNode(l)){if(l.getChildrenSize()===1&&(i=l.getFirstChild(),ze.$isListNode(i))){r.push(rs(i,e,n+1));continue}i=" ".repeat(4*n);var s=t.getListType();s=s==="number"?`${t.getStart()+o}. `:s==="check"?`- [${l.getChecked()?"x":" "}] `:"- ",r.push(i+s+e(l)),o++}return r.join(`
`)},sg={dependencies:[xn.HeadingNode],export:(t,e)=>{if(!xn.$isHeadingNode(t))return null;const n=Number(t.getTag().slice(1));return"#".repeat(n)+" "+e(t)},regExp:/^(#{1,6})\s/,replace:og(t=>xn.$createHeadingNode("h"+t[1].length)),type:"element"},lg={dependencies:[xn.QuoteNode],export:(t,e)=>{if(!xn.$isQuoteNode(t))return null;t=e(t).split(`
`),e=[];for(const n of t)e.push("> "+n);return e.join(`
`)},regExp:/^>\s/,replace:(t,e,n,r)=>{if(r&&(n=t.getPreviousSibling(),xn.$isQuoteNode(n))){n.splice(n.getChildrenSize(),0,[ee.$createLineBreakNode(),...e]),n.select(0,0),t.remove();return}n=xn.$createQuoteNode(),n.append(...e),t.replace(n),n.select(0,0)},type:"element"},ag={dependencies:[ni.CodeNode],export:t=>{if(!ni.$isCodeNode(t))return null;const e=t.getTextContent();return"```"+(t.getLanguage()||"")+(e?`
`+e:"")+"\n```"},regExp:/^```(\w{1,10})?\s/,replace:og(t=>ni.$createCodeNode(t?t[1]:void 0)),type:"element"},ug={dependencies:[ze.ListNode,ze.ListItemNode],export:(t,e)=>ze.$isListNode(t)?rs(t,e,0):null,regExp:/^(\s*)[-*+]\s/,replace:Ra("bullet"),type:"element"},cy={dependencies:[ze.ListNode,ze.ListItemNode],export:(t,e)=>ze.$isListNode(t)?rs(t,e,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:Ra("check"),type:"element"},cg={dependencies:[ze.ListNode,ze.ListItemNode],export:(t,e)=>ze.$isListNode(t)?rs(t,e,0):null,regExp:/^(\s*)(\d{1,})\.\s/,replace:Ra("number"),type:"element"},dg={format:["code"],tag:"`",type:"text-format"},fg={format:["highlight"],tag:"==",type:"text-format"},gg={format:["bold","italic"],tag:"***",type:"text-format"},hg={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},pg={format:["bold"],tag:"**",type:"text-format"},mg={format:["bold"],intraword:!1,tag:"__",type:"text-format"},_g={format:["strikethrough"],tag:"~~",type:"text-format"},yg={format:["italic"],tag:"*",type:"text-format"},Eg={format:["italic"],intraword:!1,tag:"_",type:"text-format"},xg={dependencies:[$s.LinkNode],export:(t,e,n)=>{if(!$s.$isLinkNode(t))return null;e=(e=t.getTitle())?`[${t.getTextContent()}](${t.getURL()} "${e}")`:`[${t.getTextContent()}](${t.getURL()})`;const r=t.getFirstChild();return t.getChildrenSize()===1&&ee.$isTextNode(r)?n(r,e):e},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(t,e)=>{const[,n,r,i]=e;e=$s.$createLinkNode(r,{title:i});const o=ee.$createTextNode(n);o.setFormat(t.getFormat()),e.append(o),t.replace(e)},trigger:")",type:"text-match"},Ng=[sg,lg,ag,ug,cg],Cg=[dg,gg,hg,pg,mg,fg,yg,Eg,_g],vg=[xg],is=[...Ng,...Cg,...vg];de.$convertFromMarkdownString=function(t,e=is,n){return ly(e)(t,n)};de.$convertToMarkdownString=function(t=is,e){return ny(t)(e)};de.BOLD_ITALIC_STAR=gg;de.BOLD_ITALIC_UNDERSCORE=hg;de.BOLD_STAR=pg;de.BOLD_UNDERSCORE=mg;de.CHECK_LIST=cy;de.CODE=ag;de.ELEMENT_TRANSFORMERS=Ng;de.HEADING=sg;de.HIGHLIGHT=fg;de.INLINE_CODE=dg;de.ITALIC_STAR=yg;de.ITALIC_UNDERSCORE=Eg;de.LINK=xg;de.ORDERED_LIST=cg;de.QUOTE=lg;de.STRIKETHROUGH=_g;de.TEXT_FORMAT_TRANSFORMERS=Cg;de.TEXT_MATCH_TRANSFORMERS=vg;de.TRANSFORMERS=is;de.UNORDERED_LIST=ug;de.registerMarkdownShortcuts=function(t,e=is){let n=Aa(e),r=Sl(n.textFormat,({tag:o})=>o[o.length-1]),i=Sl(n.textMatch,({trigger:o})=>o);for(let o of e)if(e=o.type,(e==="element"||e==="text-match")&&!t.hasNodes(o.dependencies))throw Error("Minified Lexical error #79; visit https://lexical.dev/docs/error?code=79 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return t.registerUpdateListener(({tags:o,dirtyLeaves:s,editorState:l,prevEditorState:a})=>{if(!o.has("historic")){var c=l.read(ee.$getSelection);if(o=a.read(ee.$getSelection),ee.$isRangeSelection(o)&&ee.$isRangeSelection(c)&&c.isCollapsed()){a=c.anchor.key;var f=c.anchor.offset,d=l._nodeMap.get(a);ee.$isTextNode(d)&&s.has(a)&&(f===1||f===o.anchor.offset+1)&&t.update(()=>{if(!d.hasFormat("code")){var u=d.getParent();if(u!==null&&!ni.$isCodeNode(u)){var g=c.anchor.offset;e:{var h=n.element,p=u.getParent();if(ee.$isRootOrShadowRoot(p)&&u.getFirstChild()===d&&(p=d.getTextContent(),p[g-1]===" ")){for(let{regExp:R,replace:A}of h)if((h=p.match(R))&&h[0].length===g){p=d.getNextSiblings();let[k,K]=d.splitText(g);k.remove(),p=K?[K,...p]:p,A(u,p,h,!1),u=!0;break e}}u=!1}if(!u){e:{if(h=d.getTextContent(),u=i[h[g-1]],u!=null){g<h.length&&(h=h.slice(0,g));for(v of u)if(u=h.match(v.regExp),u!==null){h=u.index||0,p=h+u[0].length;var E=void 0;h===0?[E]=d.splitText(p):[,E]=d.splitText(h,p),E.selectNext(0,0),v.replace(E,u);var v=!0;break e}}v=!1}if(!v)e:{p=d.getTextContent(),--g;var m=p[g];if(v=r[m])for(let R of v){var{tag:y}=R;v=y.length;let A=g-v+1;if(!(1<v&&!ig(p,A,y,0,v)||p[A-1]===" ")&&(E=p[g+1],R.intraword!==!1||!E||So.test(E))){u=E=d,h=uc(p,A,y);for(var S=u;0>h&&(S=S.getPreviousSibling())&&!ee.$isLineBreakNode(S);)ee.$isTextNode(S)&&(h=S.getTextContent(),u=S,h=uc(h,h.length,y));if(!(0>h||u===E&&h+v===A||(y=u.getTextContent(),0<h&&y[h-1]===m||(S=y[h-1],R.intraword===!1&&S&&!So.test(S))))){p=E.getTextContent(),p=p.slice(0,A)+p.slice(g+1),E.setTextContent(p),p=u===E?p:y,u.setTextContent(p.slice(0,h)+p.slice(h+v)),p=ee.$getSelection(),m=ee.$createRangeSelection(),ee.$setSelection(m),g=g-v*(u===E?2:1)+1,m.anchor.set(u.__key,h,"text"),m.focus.set(E.__key,g,"text");for(let k of R.format)m.hasFormat(k)||m.formatText(k);m.anchor.set(m.focus.key,m.focus.offset,m.focus.type);for(let k of R.format)m.hasFormat(k)&&m.toggleFormat(k);ee.$isRangeSelection(p)&&(m.format=p.format);break e}}}}}}}})}}})};const dy=de;var eo=dy,Oi={},Tg={},fy=Ge,In=H,Ui=N;function cc(t,e){return t.getEditorState().read(()=>{let n=In.$getNodeByKey(e);return n===null?!1:n.isSelected()})}Tg.useLexicalNodeSelection=function(t){let[e]=fy.useLexicalComposerContext(),[n,r]=Ui.useState(()=>cc(e,t));Ui.useEffect(()=>{let s=!0,l=e.registerUpdateListener(()=>{s&&r(cc(e,t))});return()=>{s=!1,l()}},[e,t]);let i=Ui.useCallback(s=>{e.update(()=>{let l=In.$getSelection();In.$isNodeSelection(l)||(l=In.$createNodeSelection(),In.$setSelection(l)),s?l.add(t):l.delete(t)})},[e,t]),o=Ui.useCallback(()=>{e.update(()=>{const s=In.$getSelection();In.$isNodeSelection(s)&&s.clear()})},[e]);return[n,i,o]};const gy=Tg;var hy=gy,py=Ge,my=hy,_y=nt,Et=H,to=N;let yy=Et.createCommand("INSERT_HORIZONTAL_RULE_COMMAND");function Ey({nodeKey:t}){let[e]=py.useLexicalComposerContext(),[n,r,i]=my.useLexicalNodeSelection(t),o=to.useCallback(s=>(n&&Et.$isNodeSelection(Et.$getSelection())&&(s.preventDefault(),s=Et.$getNodeByKey(t),Sg(s)&&s.remove(),r(!1)),!1),[n,t,r]);return to.useEffect(()=>_y.mergeRegister(e.registerCommand(Et.CLICK_COMMAND,s=>{let l=e.getElementByKey(t);return s.target===l?(s.shiftKey||i(),r(!n),!0):!1},Et.COMMAND_PRIORITY_LOW),e.registerCommand(Et.KEY_DELETE_COMMAND,o,Et.COMMAND_PRIORITY_LOW),e.registerCommand(Et.KEY_BACKSPACE_COMMAND,o,Et.COMMAND_PRIORITY_LOW)),[i,e,n,t,o,r]),to.useEffect(()=>{let s=e.getElementByKey(t);s!==null&&(s.className=n?"selected":"")},[e,n,t]),null}class $i extends Et.DecoratorNode{static getType(){return"horizontalrule"}static clone(e){return new $i(e.__key)}static importJSON(){return wa()}static importDOM(){return{hr:()=>({conversion:xy,priority:0})}}exportJSON(){return{type:"horizontalrule",version:1}}exportDOM(){return{element:document.createElement("hr")}}createDOM(){return document.createElement("hr")}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return to.createElement(Ey,{nodeKey:this.__key})}}function xy(){return{node:wa()}}function wa(){return Et.$applyNodeReplacement(new $i)}function Sg(t){return t instanceof $i}Oi.$createHorizontalRuleNode=wa;Oi.$isHorizontalRuleNode=Sg;Oi.HorizontalRuleNode=$i;Oi.INSERT_HORIZONTAL_RULE_COMMAND=yy;const Ny=Oi;var Cy=Ny,Ag=eo,vy=Ge,ks=Cy,Ty=N;let Rg=[{dependencies:[ks.HorizontalRuleNode],export:t=>ks.$isHorizontalRuleNode(t)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(t,e,n,r)=>{e=ks.$createHorizontalRuleNode(),r||t.getNextSibling()!=null?t.replace(e):t.insertBefore(e),e.selectNext()},type:"element"},...Ag.TRANSFORMERS];Sa.DEFAULT_TRANSFORMERS=Rg;Sa.MarkdownShortcutPlugin=function({transformers:t=Rg}){let[e]=vy.useLexicalComposerContext();return Ty.useEffect(()=>Ag.registerMarkdownShortcuts(e,t),[e,t]),null};const Sy=Sa;var Ay=Sy,wg={},Ry=Ge,jr=H,dc=N,wy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?dc.useLayoutEffect:dc.useEffect;wg.ClearEditorPlugin=function({onClear:t}){let[e]=Ry.useLexicalComposerContext();return wy(()=>e.registerCommand(jr.CLEAR_EDITOR_COMMAND,()=>(e.update(()=>{if(t==null){let n=jr.$getRoot(),r=jr.$getSelection(),i=jr.$createParagraphNode();n.clear(),n.append(i),r!==null&&i.select()}else t()}),!0),jr.COMMAND_PRIORITY_EDITOR),[e,t]),null};const Oy=wg;var $y=Oy,Oa={},Ln=Ct,Dy=Ge,ky=nt,ln=H,Ly=N;function Og(t,e){for(let n=0;n<e.length;n++){let r=e[n](t);if(r)return r}return null}let Pn=/[.,;\s]/;function $g(t){t=t.getPreviousSibling(),ln.$isElementNode(t)&&(t=t.getLastDescendant());var e;return!(e=t===null||ln.$isLineBreakNode(t))&&(e=ln.$isTextNode(t))&&(t=t.getTextContent(),e=Pn.test(t[t.length-1])),e}function Dg(t){return t=t.getNextSibling(),ln.$isElementNode(t)&&(t=t.getFirstDescendant()),t===null||ln.$isLineBreakNode(t)||ln.$isTextNode(t)&&Pn.test(t.getTextContent()[0])}function Ls(t,e,n){var r=t.getChildren();let i=r.length;for(let o=0;o<i;o++){let s=r[o];if(!ln.$isTextNode(s)||!s.isSimpleText()){no(t),n(null,t.getURL());return}}r=t.getTextContent(),e=Og(r,e),e===null||e.text!==r?(no(t),n(null,t.getURL())):$g(t)&&Dg(t)?(r=t.getURL(),r!==e.url&&(t.setURL(e.url),n(e.url,r)),e.attributes&&(r=t.getRel(),r!==e.attributes.rel&&(t.setRel(e.attributes.rel||null),n(e.attributes.rel||null,r)),r=t.getTarget(),r!==e.attributes.target&&(t.setTarget(e.attributes.target||null),n(e.attributes.target||null,r)))):(no(t),n(null,t.getURL()))}function no(t){let e=t.getChildren();var n=e.length;for(--n;0<=n;n--)t.insertAfter(e[n]);return t.remove(),e.map(r=>r.getLatest())}function My(t,e,n){Ly.useEffect(()=>{if(!t.hasNodes([Ln.AutoLinkNode]))throw Error("Minified Lexical error #77; visit https://lexical.dev/docs/error?code=77 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");let r=(i,o)=>{n&&n(i,o)};return ky.mergeRegister(t.registerNodeTransform(ln.TextNode,i=>{var o=i.getParentOrThrow(),s=i.getPreviousSibling();if(Ln.$isAutoLinkNode(o))Ls(o,e,r);else if(!Ln.$isLinkNode(o)){if(i.isSimpleText()&&(Pn.test(i.getTextContent()[0])||!Ln.$isAutoLinkNode(s))){s=o=i.getTextContent();let g=0,h=i;for(var l;(l=Og(s,e))&&l!==null;){let p=l.index,E=l.length,v=p+E;var a=g+p,c=g+v,f=o,d=i;if((0<a?Pn.test(f[a-1]):$g(d))&&(c<f.length?Pn.test(f[c]):Dg(d))){var u=void 0;g+p===0?[u,h]=h.splitText(g+E):[,u,h]=h.splitText(g+p,g+p+E),a=Ln.$createAutoLinkNode(l.url,l.attributes),c=ln.$createTextNode(l.text),c.setFormat(u.getFormat()),c.setDetail(u.getDetail()),a.append(c),u.replace(a),n&&n(l.url,null),g=0}else g+=v;s=s.substring(v)}}o=i.getPreviousSibling(),l=i.getNextSibling(),u=i.getTextContent(),Ln.$isAutoLinkNode(o)&&!Pn.test(u[0])&&(o.append(i),Ls(o,e,r),i=o.getURL(),n&&n(null,i)),Ln.$isAutoLinkNode(l)&&!Pn.test(u[u.length-1])&&(no(l),Ls(l,e,r),i=l.getURL(),n&&n(null,i))}}))},[t,e,n])}Oa.AutoLinkPlugin=function({matchers:t,onChange:e}){let[n]=Dy.useLexicalComposerContext();return My(n,t,e),null};Oa.createLinkMatcherWithRegExp=function(t,e=n=>n){return n=>{let r=t.exec(n);return r===null?null:{index:r.index,length:r[0].length,text:r[0],url:e(n)}}};const by=Oa;var Iy=by;const Py=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,Fy=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,By=[t=>{const e=Py.exec(t);return e&&{index:e.index,length:e[0].length,text:e[0],url:e[0]}},t=>{const e=Fy.exec(t);return e&&{index:e.index,length:e[0].length,text:e[0],url:`mailto:${e[0]}`}}];function Uy(){return _.jsx(Iy.AutoLinkPlugin,{matchers:By})}const ro=1,jy=new Set(["paragraph","quote","code","h1","h2","ul","ol"]),zy={code:"Code Block",h1:"Large Heading",h2:"Small Heading",h3:"Heading",h4:"Heading",h5:"Heading",ol:"Numbered List",paragraph:"Normal",quote:"Quote",ul:"Bulleted List"},fc=N.memo(()=>_.jsx("div",{className:"divider"}));function gc(t,e){e?(t.style.opacity="1",t.style.top=`${e.top+e.height+window.pageYOffset+10}px`,t.style.left=`${e.left+window.pageXOffset-t.offsetWidth/2+e.width/2}px`):(t.style.opacity="0",t.style.top="-1000px",t.style.left="-1000px")}const Hy=N.memo(({editor:t})=>{const e=N.useRef(null),n=N.useRef(null),r=N.useRef(!1),[i,o]=N.useState(""),[s,l]=N.useState(!1),[a,c]=N.useState(null),f=N.useCallback(()=>{const u=H.$getSelection();if(H.$isRangeSelection(u)){const v=kg(u),m=v.getParent();Ct.$isLinkNode(m)?o(m.getURL()):Ct.$isLinkNode(v)?o(v.getURL()):o("")}const g=e.current,h=window.getSelection(),p=document.activeElement;if(g===null)return;const E=t.getRootElement();if(u!==null&&!h?.isCollapsed&&E!==null&&E.contains(h?.anchorNode)){const v=h?.getRangeAt(0);let m;if(h?.anchorNode===E){let y=E;for(;y.firstElementChild!=null;)y=y.firstElementChild;m=y.getBoundingClientRect()}else m=v?.getBoundingClientRect();r.current||gc(g,m),c(u)}else(!p||p.className!=="link-input")&&(gc(g,void 0),c(null),l(!1),o(""));return!0},[t]);N.useEffect(()=>nt.mergeRegister(t.registerUpdateListener(({editorState:u})=>{u.read(()=>{f()})}),t.registerCommand(H.SELECTION_CHANGE_COMMAND,()=>(f(),!0),ro)),[t,f]),N.useEffect(()=>{t.getEditorState().read(()=>{f()})},[t,f]),N.useEffect(()=>{s&&n.current&&n.current.focus()},[s]);const d=N.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer"},i);return _.jsx("div",{ref:e,className:"link-editor",children:s?_.jsx("input",{ref:n,className:"link-input",value:i,onChange:u=>{o(u.target.value)},onKeyDown:u=>{u.key==="Enter"?(u.preventDefault(),a!==null&&(i!==""&&t.dispatchCommand(Ct.TOGGLE_LINK_COMMAND,i),l(!1))):u.key==="Escape"&&(u.preventDefault(),l(!1))}}):_.jsx(_.Fragment,{children:_.jsxs("div",{className:"link-input",children:[d,_.jsx("div",{className:"link-edit",role:"button",tabIndex:0,onMouseDown:u=>u.preventDefault(),onClick:()=>{l(!0)}})]})})})}),Ky=N.memo(({onChange:t,className:e,options:n,value:r})=>_.jsxs("select",{className:e,onChange:t,value:r,children:[_.jsx("option",{hidden:!0,value:""}),n.map(i=>_.jsx("option",{value:i,children:i},i))]}));function kg(t){const e=t.anchor,n=t.focus,r=t.anchor.getNode(),i=t.focus.getNode();return r===i?r:t.isBackward()?Nt.$isAtNodeEnd(n)?r:i:Nt.$isAtNodeEnd(e)?i:r}const Wy=N.memo(({editor:t,blockType:e,toolbarRef:n,setShowBlockOptionsDropDown:r})=>{const i=N.useRef(null);N.useEffect(()=>{const u=i.current,g=n.current;if(u!==null&&g!==null){const h=p=>{const E=p.target;!u.contains(E)&&!g.contains(E)&&r(!1)};return document.addEventListener("click",h),()=>{document.removeEventListener("click",h)}}},[i,r,n]);const o=()=>{e!=="paragraph"&&t.update(()=>{const u=H.$getSelection();H.$isRangeSelection(u)&&Nt.$wrapNodes(u,()=>H.$createParagraphNode())}),r(!1)},s=()=>{e!=="h1"&&t.update(()=>{const u=H.$getSelection();H.$isRangeSelection(u)&&Nt.$wrapNodes(u,()=>Nn.$createHeadingNode("h1"))}),r(!1)},l=()=>{e!=="h2"&&t.update(()=>{const u=H.$getSelection();H.$isRangeSelection(u)&&Nt.$wrapNodes(u,()=>Nn.$createHeadingNode("h2"))}),r(!1)},a=()=>{e!=="ul"?t.dispatchCommand(on.INSERT_UNORDERED_LIST_COMMAND,void 0):t.dispatchCommand(on.REMOVE_LIST_COMMAND,void 0),r(!1)},c=()=>{e!=="ol"?t.dispatchCommand(on.INSERT_ORDERED_LIST_COMMAND,void 0):t.dispatchCommand(on.REMOVE_LIST_COMMAND,void 0),r(!1)},f=()=>{e!=="quote"&&t.update(()=>{const u=H.$getSelection();H.$isRangeSelection(u)&&Nt.$wrapNodes(u,()=>Nn.$createQuoteNode())}),r(!1)},d=()=>{e!=="code"&&t.update(()=>{const u=H.$getSelection();H.$isRangeSelection(u)&&Nt.$wrapNodes(u,()=>sn.$createCodeNode())}),r(!1)};return _.jsxs("div",{className:"dropdown",ref:i,children:[_.jsxs("button",{className:"item",onClick:o,children:[_.jsx(Gc,{className:"icon",size:20}),_.jsx("span",{className:"text",children:"Normal"}),e==="paragraph"&&_.jsx("span",{className:"active"})]}),_.jsxs("button",{className:"item",onClick:s,children:[_.jsx(jc,{className:"icon",size:20}),_.jsx("span",{className:"text",children:"Large Heading"}),e==="h1"&&_.jsx("span",{className:"active"})]}),_.jsxs("button",{className:"item",onClick:l,children:[_.jsx(zc,{className:"icon",size:20}),_.jsx("span",{className:"text",children:"Small Heading"}),e==="h2"&&_.jsx("span",{className:"active"})]}),_.jsxs("button",{className:"item",onClick:a,children:[_.jsx(Kc,{className:"icon",size:20}),_.jsx("span",{className:"text",children:"Bullet List"}),e==="ul"&&_.jsx("span",{className:"active"})]}),_.jsxs("button",{className:"item",onClick:c,children:[_.jsx(Hc,{className:"icon",size:20}),_.jsx("span",{className:"text",children:"Numbered List"}),e==="ol"&&_.jsx("span",{className:"active"})]}),_.jsxs("button",{className:"item",onClick:f,children:[_.jsx(Wc,{className:"icon",size:20}),_.jsx("span",{className:"text",children:"Quote"}),e==="quote"&&_.jsx("span",{className:"active"})]}),_.jsxs("button",{className:"item",onClick:d,children:[_.jsx(Xs,{className:"icon",size:20}),_.jsx("span",{className:"text",children:"Code Block"}),e==="code"&&_.jsx("span",{className:"active"})]})]})}),Gy=N.memo(()=>{const[t]=Ge.useLexicalComposerContext(),e=N.useRef(null),[n,r]=N.useState(!1),[i,o]=N.useState(!1),[s,l]=N.useState("paragraph"),[a,c]=N.useState(null),[f,d]=N.useState(!1),[u,g]=N.useState(""),[h,p]=N.useState(!1),[E,v]=N.useState(!1),[m,y]=N.useState(!1),[S,R]=N.useState(!1),[A,k]=N.useState(!1),[K,M]=N.useState(!1),[J,te]=N.useState(!1),se=N.useCallback(()=>{const I=H.$getSelection();if(H.$isRangeSelection(I)){const q=I.anchor.getNode(),Y=q.getKey()==="root"?q:q.getTopLevelElementOrThrow(),Se=Y.getKey();if(t.getElementByKey(Se)!==null)if(c(Se),on.$isListNode(Y)){const Ye=nt.$getNearestNodeOfType(q,on.ListNode),st=Ye?Ye.getTag():Y.getTag();l(st)}else{const Ye=Nn.$isHeadingNode(Y)?Y.getTag():Y.getType();l(Ye),sn.$isCodeNode(Y)&&g(Y.getLanguage()||sn.getDefaultCodeLanguage())}y(I.hasFormat("bold")),R(I.hasFormat("italic")),k(I.hasFormat("underline")),M(I.hasFormat("strikethrough")),te(I.hasFormat("code")),p(Nt.$isParentElementRTL(I));const ye=kg(I),Ae=ye.getParent();Ct.$isLinkNode(Ae)||Ct.$isLinkNode(ye)?v(!0):v(!1)}},[t]);N.useEffect(()=>nt.mergeRegister(t.registerUpdateListener(({editorState:I})=>{I.read(()=>{se()})}),t.registerCommand(H.SELECTION_CHANGE_COMMAND,(I,q)=>(se(),!1),ro),t.registerCommand(H.CAN_UNDO_COMMAND,I=>(r(I),!1),ro),t.registerCommand(H.CAN_REDO_COMMAND,I=>(o(I),!1),ro)),[t,se]);const ot=N.useMemo(()=>sn.getCodeLanguages(),[]),dt=N.useCallback(I=>{t.update(()=>{if(a!==null){const q=H.$getNodeByKey(a);sn.$isCodeNode(q)&&q.setLanguage(I.target.value)}})},[t,a]),ft=N.useCallback(()=>{E?t.dispatchCommand(Ct.TOGGLE_LINK_COMMAND,null):t.dispatchCommand(Ct.TOGGLE_LINK_COMMAND,"https://")},[t,E]),[Ke,_e]=N.useState(null);return N.useEffect(()=>{const I=document.getElementsByClassName("editor-container")[0],q=document.createElement("div");return I.prepend(q),_e(q),()=>{I.removeChild(q)}},[]),_.jsxs("div",{className:"toolbar",ref:e,children:[_.jsx("button",{disabled:!n,onClick:()=>{t.dispatchCommand(H.UNDO_COMMAND,void 0)},className:"toolbar-item spaced","aria-label":"Undo",children:_.jsx(Ep,{className:"format",size:20})}),_.jsx("button",{disabled:!i,onClick:()=>{t.dispatchCommand(H.REDO_COMMAND,void 0)},className:"toolbar-item","aria-label":"Redo",children:_.jsx(hp,{className:"format",size:20})}),_.jsx(fc,{}),jy.has(s)&&_.jsxs(_.Fragment,{children:[_.jsxs("button",{className:"toolbar-item block-controls",onClick:()=>d(!f),"aria-label":"Formatting Options",children:[s==="h1"?_.jsx(jc,{className:"icon",size:20}):s==="h2"?_.jsx(zc,{className:"icon",size:20}):s==="h3"?_.jsx(up,{className:"icon",size:20}):s==="h4"?_.jsx(cp,{className:"icon",size:20}):s==="h5"?_.jsx(dp,{className:"icon",size:20}):s==="code"?_.jsx(Xs,{className:"icon",size:20}):s==="paragraph"?_.jsx(Gc,{className:"icon",size:20}):s==="ol"?_.jsx(Hc,{className:"icon",size:20}):s==="ul"?_.jsx(Kc,{className:"icon",size:20}):s==="quote"?_.jsx(Wc,{className:"icon",size:20}):_.jsx(_.Fragment,{}),_.jsx("span",{className:"text",children:zy[s]}),_.jsx(Uc,{size:20})]}),f&&Ws.createPortal(_.jsx(Wy,{editor:t,blockType:s,toolbarRef:e,setShowBlockOptionsDropDown:d}),Ke),_.jsx(fc,{})]}),s==="code"?_.jsxs(_.Fragment,{children:[_.jsx(Ky,{className:"toolbar-item code-language",onChange:dt,options:ot,value:u}),_.jsx("i",{className:"chevron-down inside"})]}):_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>{t.dispatchCommand(H.FORMAT_TEXT_COMMAND,"bold")},className:"toolbar-item spaced "+(m?"active":""),"aria-label":"Format Bold",children:_.jsx(lp,{className:"format",size:20})}),_.jsx("button",{onClick:()=>{t.dispatchCommand(H.FORMAT_TEXT_COMMAND,"italic")},className:"toolbar-item spaced "+(S?"active":""),"aria-label":"Format Italics",children:_.jsx(fp,{className:"format",size:20})}),_.jsx("button",{onClick:()=>{t.dispatchCommand(H.FORMAT_TEXT_COMMAND,"underline")},className:"toolbar-item spaced "+(A?"active":""),"aria-label":"Format Underline",children:_.jsx(yp,{className:"format",size:20})}),_.jsx("button",{onClick:()=>{t.dispatchCommand(H.FORMAT_TEXT_COMMAND,"strikethrough")},className:"toolbar-item spaced "+(K?"active":""),"aria-label":"Format Strikethrough",children:_.jsx(_p,{className:"format",size:20})}),_.jsx("button",{onClick:()=>{t.dispatchCommand(H.FORMAT_TEXT_COMMAND,"code")},className:"toolbar-item spaced "+(J?"active":""),"aria-label":"Insert Code",children:_.jsx(Xs,{className:"format",size:20})}),_.jsx("button",{onClick:ft,className:"toolbar-item spaced "+(E?"active":""),"aria-label":"Insert Link",children:_.jsx(gp,{className:"format",size:20})}),E&&Ws.createPortal(_.jsx(Hy,{editor:t}),document.body)," "]})]})});function Yy(){const[t]=Ge.useLexicalComposerContext();return N.useEffect(()=>sn.registerCodeHighlighting(t),[t]),null}const Vy={ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph",quote:"editor-quote",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3",h4:"editor-heading-h4",h5:"editor-heading-h5"},list:{nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul",listitem:"editor-listitem"},image:"editor-image",link:"editor-link",text:{bold:"editor-text-bold",italic:"editor-text-italic",overflowed:"editor-text-overflowed",hashtag:"editor-text-hashtag",underline:"editor-text-underline",strikethrough:"editor-text-strikethrough",underlineStrikethrough:"editor-text-underlineStrikethrough",code:"editor-text-code"},code:"editor-code",codeHighlight:{atrule:"editor-tokenAttr",attr:"editor-tokenAttr",boolean:"editor-tokenProperty",builtin:"editor-tokenSelector",cdata:"editor-tokenComment",char:"editor-tokenSelector",class:"editor-tokenFunction","class-name":"editor-tokenFunction",comment:"editor-tokenComment",constant:"editor-tokenProperty",deleted:"editor-tokenProperty",doctype:"editor-tokenComment",entity:"editor-tokenOperator",function:"editor-tokenFunction",important:"editor-tokenVariable",inserted:"editor-tokenSelector",keyword:"editor-tokenAttr",namespace:"editor-tokenVariable",number:"editor-tokenProperty",operator:"editor-tokenOperator",prolog:"editor-tokenComment",property:"editor-tokenProperty",punctuation:"editor-tokenPunctuation",regex:"editor-tokenVariable",selector:"editor-tokenSelector",string:"editor-tokenSelector",symbol:"editor-tokenProperty",tag:"editor-tokenProperty",url:"editor-tokenOperator",variable:"editor-tokenVariable"}};function Jy(){return _.jsx("div",{className:"editor-placeholder",id:"editor-placeholder",children:"Enter message..."})}const Xy=N.memo(({roomID:t,htmlMessage:e,plainMessage:n})=>{const r=Or(t||""),[i]=Ge.useLexicalComposerContext();return _.jsx(pp,{size:45,stroke:"unset",className:"stroke-slate-600 rounded m-4 hover:bg-slate-300 hover:stroke-slate-500 p-2 cursor-pointer",onClick:async()=>{if(r&&(console.log("Sending message to: ",t),!(e===""&&n==="")))if(e!=='<p class="editor-paragraph"><br></p>')try{await r.sendHtmlMessage(e,n),i.dispatchCommand(H.CLEAR_EDITOR_COMMAND,void 0),localStorage.removeItem(`editor-${t}`)}catch(o){console.log(o)}else try{await r.sendTextMessage(n),i.dispatchCommand(H.CLEAR_EDITOR_COMMAND,void 0),localStorage.removeItem(`editor-${t}`)}catch(o){console.log(o)}}})}),qy=({roomID:t})=>{const[e]=Ge.useLexicalComposerContext(),{pathname:n}=Ho(),[r,i]=N.useState(void 0);return N.useEffect(()=>{if(t){if(t!==r){console.log("Saving editor state");const s=e.getEditorState();localStorage.setItem(`editor-${r}`,JSON.stringify(s.toJSON()))}i(t);const o=localStorage.getItem(`editor-${t}`);if(o){const s=e.parseEditorState(o);e.setEditorState(s)}else e.dispatchCommand(H.CLEAR_EDITOR_COMMAND,void 0)}},[n,t]),_.jsx(_.Fragment,{})},Zy=N.memo(({namespace:t,roomID:e})=>{const[n,r]=N.useState(""),[i,o]=N.useState(""),s={namespace:t,theme:Vy,onError:l=>console.error(l),nodes:[Nn.HeadingNode,on.ListNode,on.ListItemNode,Nn.QuoteNode,sn.CodeNode,sn.CodeHighlightNode,As.TableNode,As.TableCellNode,As.TableRowNode,Ct.AutoLinkNode,Ct.LinkNode]};return _.jsx("div",{className:"flex flex-row items-end",children:_.jsxs(mm.LexicalComposer,{initialConfig:s,children:[_.jsxs("div",{className:"editor-container flex-1",children:[_.jsx(Gy,{}),_.jsxs("div",{className:"editor-inner",children:[_.jsx(Qm.RichTextPlugin,{contentEditable:_.jsx(r_.ContentEditable,{className:"editor-input",ariaLabelledBy:"editor-placeholder"}),placeholder:_.jsx(Jy,{}),ErrorBoundary:C_}),_.jsx(m_.OnChangePlugin,{onChange:(l,a)=>{l.read(()=>{const c=lf.$generateHtmlFromNodes(a);r(c);const f=eo.$convertToMarkdownString(eo.TRANSFORMERS);o(f)})}}),_.jsx(f_.HistoryPlugin,{}),_.jsx(k_.LinkPlugin,{}),_.jsx(Yy,{}),_.jsx(Uy,{}),_.jsx(Ay.MarkdownShortcutPlugin,{transformers:eo.TRANSFORMERS}),_.jsx($y.ClearEditorPlugin,{}),_.jsx(qy,{roomID:e})]})]}),_.jsx(Xy,{roomID:e,htmlMessage:n,plainMessage:i})]})})}),Al=new Map,ji=new WeakMap;let hc=0,Qy;function e0(t){return t?(ji.has(t)||(hc+=1,ji.set(t,hc.toString())),ji.get(t)):"0"}function t0(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?e0(t.root):t[e]}`).toString()}function n0(t){let e=t0(t),n=Al.get(e);if(!n){const r=new Map;let i;const o=new IntersectionObserver(s=>{s.forEach(l=>{var a;const c=l.isIntersecting&&i.some(f=>l.intersectionRatio>=f);t.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=c),(a=r.get(l.target))==null||a.forEach(f=>{f(c,l)})})},t);i=o.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:o,elements:r},Al.set(e,n)}return n}function r0(t,e,n={},r=Qy){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const a=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}const{id:i,observer:o,elements:s}=n0(n);let l=s.get(t)||[];return s.has(t)||s.set(t,l),l.push(e),o.observe(t),function(){l.splice(l.indexOf(e),1),l.length===0&&(s.delete(t),o.unobserve(t)),s.size===0&&(o.disconnect(),Al.delete(i))}}function i0({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:o,skip:s,initialInView:l,fallbackInView:a,onChange:c}={}){var f;const[d,u]=N.useState(null),g=N.useRef(),[h,p]=N.useState({inView:!!l,entry:void 0});g.current=c,N.useEffect(()=>{if(s||!d)return;let y;return y=r0(d,(S,R)=>{p({inView:S,entry:R}),g.current&&g.current(S,R),R.isIntersecting&&o&&y&&(y(),y=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},a),()=>{y&&y()}},[Array.isArray(t)?t.toString():t,d,i,r,o,s,n,a,e]);const E=(f=h.entry)==null?void 0:f.target,v=N.useRef();!d&&E&&!o&&!s&&v.current!==E&&(v.current=E,p({inView:!!l,entry:void 0}));const m=[u,h.inView,h.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}const o0=N.memo(({roomId:t,avatarUrl:e,displayname:n,dm:r=!1,online:i=!1,active:o=!1,onClick:s,hidden:l})=>{const a=N.useContext(er),{ref:c,inView:f}=i0({triggerOnce:!0,rootMargin:"200px 0px",skip:l,onChange(d){d?a.addInViewRoom(t):a.removeInViewRoom(t)}});return _.jsx("div",{ref:c,onClick:s,className:"w-full cursor-pointer",children:f&&(o?_.jsxs("div",{className:"flex flex-row gap-2 p-1 bg-gray-300 hover:bg-gray-400 rounded-lg duration-200 ease-in-out items-center",children:[_.jsx(jt,{avatarUrl:e,displayname:n,dm:r,online:i}),_.jsx("span",{title:n,className:"text-slate-900 font-normal text-base max-w-[32ch] overflow-hidden text-ellipsis w-full whitespace-nowrap",children:n})]}):_.jsxs("div",{className:"flex flex-row gap-2 p-1 hover:bg-gray-300 rounded-lg duration-200 ease-in-out items-center",children:[_.jsx(jt,{avatarUrl:e,displayname:n,dm:r,online:i}),_.jsx("span",{title:n,className:"text-slate-900 font-normal text-base max-w-[32ch] overflow-hidden text-ellipsis w-full whitespace-nowrap",children:n})]}))})});const s0=N.memo(({sectionID:t,rooms:e,onClick:n,activeRoom:r,hidden:i})=>{const o=e.map(s=>_.jsx(o0,{roomId:s.roomID,hidden:i,avatarUrl:s.avatarUrl,displayname:s.displayname,dm:s.dm,online:s.online,active:s.roomID===r,onClick:()=>{n(s.roomID)}},`${s.roomID}+${t}`));return _.jsx(_.Fragment,{children:o})}),Rl=N.memo(({section:t,onRoomClick:e,activeRoom:n})=>{const[r,i]=N.useState(!0),o=N.useContext(er);return r?o.removeSpaceOpen(t.roomID):o.addSpaceOpen(t.roomID),_.jsxs("div",{className:"flex flex-col gap-1 pl-4 select-none",children:[_.jsxs("div",{className:"flex flex-row gap-2 py-1 items-center justify-start cursor-pointer h-8 text-slate-600",onClick:()=>i(s=>!s),children:[r?_.jsx(ap,{size:14}):_.jsx(Uc,{size:14}),_.jsx("span",{className:"font-normal text-base capitalize max-w-[32ch] overflow-hidden text-ellipsis w-full whitespace-nowrap",children:t.sectionName})]}),!r&&_.jsx(s0,{hidden:r,sectionID:t.roomID,rooms:t.rooms,onClick:e,activeRoom:n}),!r&&t.subsections.map(s=>_.jsx(Rl,{section:s,onRoomClick:e,activeRoom:n},s.roomID))]},t.roomID)}),l0=N.memo(({sections:t,rooms:e})=>{const[n,r]=N.useState(void 0),i=Fc();return _.jsxs("div",{className:"flex flex-col gap-1 flex-1 p-2 min-w-[30ch] overflow-y-auto overflow-x-hidden scrollbarSmall max-w-[33ch]",children:[t.map(o=>_.jsx(Rl,{section:o,onRoomClick:s=>{r(s),i(`/${encodeURIComponent(s)}`)},activeRoom:n},o.roomID)),_.jsx(Rl,{section:{sectionName:"Others",roomID:"other",subsections:[],rooms:e},onRoomClick:o=>{r(o),i(`/${encodeURIComponent(o)}`)},activeRoom:n})]})});const a0="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",u0="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Qn=(t,e)=>{for(const n in e)t[n]=e[n];return t},wl="numeric",Ol="ascii",$l="alpha",io="asciinumeric",zi="alphanumeric",Dl="domain",Lg="emoji",c0="scheme",d0="slashscheme",pc="whitespace";function f0(t,e){return t in e||(e[t]=[]),e[t]}function Un(t,e,n){e[wl]&&(e[io]=!0,e[zi]=!0),e[Ol]&&(e[io]=!0,e[$l]=!0),e[io]&&(e[zi]=!0),e[$l]&&(e[zi]=!0),e[zi]&&(e[Dl]=!0),e[Lg]&&(e[Dl]=!0);for(const r in e){const i=f0(r,n);i.indexOf(t)<0&&i.push(t)}}function g0(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function ht(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}ht.groups={};ht.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(t))return o}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||ht.groups;let i;return e&&e.j?i=e:(i=new ht(e),n&&r&&Un(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const o=t.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(t[s]);return i.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||ht.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let s,l=i.go(t);if(l?(s=new ht,Qn(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new ht,o){if(r)if(s.t&&typeof s.t=="string"){const a=Qn(g0(s.t,r),n);Un(o,a,r)}else n&&Un(o,n,r);s.t=o}return i.j[t]=s,s}};const U=(t,e,n,r,i)=>t.ta(e,n,r,i),yt=(t,e,n,r,i)=>t.tr(e,n,r,i),mc=(t,e,n,r,i)=>t.ts(e,n,r,i),D=(t,e,n,r,i)=>t.tt(e,n,r,i),tn="WORD",kl="UWORD",Ni="LOCALHOST",Ll="TLD",Ml="UTLD",oo="SCHEME",gr="SLASH_SCHEME",$a="NUM",Mg="WS",Da="NL",_r="OPENBRACE",ri="OPENBRACKET",ii="OPENANGLEBRACKET",oi="OPENPAREN",Fn="CLOSEBRACE",yr="CLOSEBRACKET",Er="CLOSEANGLEBRACKET",Bn="CLOSEPAREN",Ro="AMPERSAND",wo="APOSTROPHE",Oo="ASTERISK",pn="AT",$o="BACKSLASH",Do="BACKTICK",ko="CARET",mn="COLON",ka="COMMA",Lo="DOLLAR",Pt="DOT",Mo="EQUALS",La="EXCLAMATION",Ft="HYPHEN",bo="PERCENT",Io="PIPE",Po="PLUS",Fo="POUND",Bo="QUERY",Ma="QUOTE",ba="SEMI",Bt="SLASH",si="TILDE",Uo="UNDERSCORE",bg="EMOJI",jo="SYM";var Ig=Object.freeze({__proto__:null,WORD:tn,UWORD:kl,LOCALHOST:Ni,TLD:Ll,UTLD:Ml,SCHEME:oo,SLASH_SCHEME:gr,NUM:$a,WS:Mg,NL:Da,OPENBRACE:_r,OPENBRACKET:ri,OPENANGLEBRACKET:ii,OPENPAREN:oi,CLOSEBRACE:Fn,CLOSEBRACKET:yr,CLOSEANGLEBRACKET:Er,CLOSEPAREN:Bn,AMPERSAND:Ro,APOSTROPHE:wo,ASTERISK:Oo,AT:pn,BACKSLASH:$o,BACKTICK:Do,CARET:ko,COLON:mn,COMMA:ka,DOLLAR:Lo,DOT:Pt,EQUALS:Mo,EXCLAMATION:La,HYPHEN:Ft,PERCENT:bo,PIPE:Io,PLUS:Po,POUND:Fo,QUERY:Bo,QUOTE:Ma,SEMI:ba,SLASH:Bt,TILDE:si,UNDERSCORE:Uo,EMOJI:bg,SYM:jo});const cr=/[a-z]/,Ms=/\p{L}/u,bs=/\p{Emoji}/u,Is=/\d/,_c=/\s/,yc=`
`,h0="️",p0="‍";let Hi=null,Ki=null;function m0(t){t===void 0&&(t=[]);const e={};ht.groups=e;const n=new ht;Hi==null&&(Hi=Ec(a0)),Ki==null&&(Ki=Ec(u0)),D(n,"'",wo),D(n,"{",_r),D(n,"[",ri),D(n,"<",ii),D(n,"(",oi),D(n,"}",Fn),D(n,"]",yr),D(n,">",Er),D(n,")",Bn),D(n,"&",Ro),D(n,"*",Oo),D(n,"@",pn),D(n,"`",Do),D(n,"^",ko),D(n,":",mn),D(n,",",ka),D(n,"$",Lo),D(n,".",Pt),D(n,"=",Mo),D(n,"!",La),D(n,"-",Ft),D(n,"%",bo),D(n,"|",Io),D(n,"+",Po),D(n,"#",Fo),D(n,"?",Bo),D(n,'"',Ma),D(n,"/",Bt),D(n,";",ba),D(n,"~",si),D(n,"_",Uo),D(n,"\\",$o);const r=yt(n,Is,$a,{[wl]:!0});yt(r,Is,r);const i=yt(n,cr,tn,{[Ol]:!0});yt(i,cr,i);const o=yt(n,Ms,kl,{[$l]:!0});yt(o,cr),yt(o,Ms,o);const s=yt(n,_c,Mg,{[pc]:!0});D(n,yc,Da,{[pc]:!0}),D(s,yc),yt(s,_c,s);const l=yt(n,bs,bg,{[Lg]:!0});yt(l,bs,l),D(l,h0,l);const a=D(l,p0);yt(a,bs,l);const c=[[cr,i]],f=[[cr,null],[Ms,o]];for(let d=0;d<Hi.length;d++)gn(n,Hi[d],Ll,tn,c);for(let d=0;d<Ki.length;d++)gn(n,Ki[d],Ml,kl,f);Un(Ll,{tld:!0,ascii:!0},e),Un(Ml,{utld:!0,alpha:!0},e),gn(n,"file",oo,tn,c),gn(n,"mailto",oo,tn,c),gn(n,"http",gr,tn,c),gn(n,"https",gr,tn,c),gn(n,"ftp",gr,tn,c),gn(n,"ftps",gr,tn,c),Un(oo,{scheme:!0,ascii:!0},e),Un(gr,{slashscheme:!0,ascii:!0},e),t=t.sort((d,u)=>d[0]>u[0]?1:-1);for(let d=0;d<t.length;d++){const u=t[d][0],h=t[d][1]?{[c0]:!0}:{[d0]:!0};u.indexOf("-")>=0?h[Dl]=!0:cr.test(u)?Is.test(u)?h[io]=!0:h[Ol]=!0:h[wl]=!0,mc(n,u,u,h)}return mc(n,"localhost",Ni,{ascii:!0}),n.jd=new ht(jo),{start:n,tokens:Qn({groups:e},Ig)}}function _0(t,e){const n=y0(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let o=0,s=0;for(;s<r;){let l=t,a=null,c=0,f=null,d=-1,u=-1;for(;s<r&&(a=l.go(n[s]));)l=a,l.accepts()?(d=0,u=0,f=l):d>=0&&(d+=n[s].length,u++),c+=n[s].length,o+=n[s].length,s++;o-=d,s-=u,c-=d,i.push({t:f.t,v:e.slice(o-c,o),s:o-c,e:o})}return i}function y0(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),o,s=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}function gn(t,e,n,r,i){let o;const s=e.length;for(let l=0;l<s-1;l++){const a=e[l];t.j[a]?o=t.j[a]:(o=new ht(r),o.jr=i.slice(),t.j[a]=o),t=o}return o=new ht(n),o.jr=i.slice(),t.j[e[s-1]]=o,o}function Ec(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let o=0;for(;i.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let s=parseInt(t.substring(r,r+o),10);s>0;s--)n.pop();r+=o}else n.push(t[r]),r++}return e}const wr={defaultProtocol:"http",events:null,format:xc,formatHref:xc,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function os(t,e){e===void 0&&(e=null);let n=Qn({},wr);t&&(n=Qn(n,t instanceof os?t.o:t));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}os.prototype={o:wr,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:wr[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function xc(t){return t}var Pg=Object.freeze({__proto__:null,defaults:wr,Options:os,assign:Qn});function Fg(t,e){this.t="token",this.v=t,this.tk=e}Fg.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=wr.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),s={},l=t.get("className",n,e),a=t.get("target",n,e),c=t.get("rel",n,e),f=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return s.href=r,l&&(s.class=l),a&&(s.target=a),c&&(s.rel=c),f&&Qn(s,f),{tagName:i,attributes:s,content:o,eventListeners:d}}};function ss(t,e){class n extends Fg{constructor(i,o){super(i,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Nc=ss("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Cc=ss("text"),E0=ss("nl"),Mn=ss("url",{isLink:!0,toHref(t){return t===void 0&&(t=wr.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Ni&&t[1].t===mn}}),$e=t=>new ht(t);function x0(t){let{groups:e}=t;const n=e.domain.concat([Ro,Oo,pn,$o,Do,ko,Lo,Mo,Ft,$a,bo,Io,Po,Fo,Bt,jo,si,Uo]),r=[wo,Er,Fn,yr,Bn,mn,ka,Pt,La,ii,_r,ri,oi,Bo,Ma,ba],i=[Ro,wo,Oo,$o,Do,ko,Fn,Lo,Mo,Ft,_r,bo,Io,Po,Fo,Bo,Bt,jo,si,Uo],o=$e(),s=D(o,si);U(s,i,s),U(s,e.domain,s);const l=$e(),a=$e(),c=$e();U(o,e.domain,l),U(o,e.scheme,a),U(o,e.slashscheme,c),U(l,i,s),U(l,e.domain,l);const f=D(l,pn);D(s,pn,f),D(a,pn,f),D(c,pn,f);const d=D(s,Pt);U(d,i,s),U(d,e.domain,s);const u=$e();U(f,e.domain,u),U(u,e.domain,u);const g=D(u,Pt);U(g,e.domain,u);const h=$e(Nc);U(g,e.tld,h),U(g,e.utld,h),D(f,Ni,h);const p=D(u,Ft);U(p,e.domain,u),U(h,e.domain,u),D(h,Pt,g),D(h,Ft,p);const E=D(h,mn);U(E,e.numeric,Nc);const v=D(l,Ft),m=D(l,Pt);U(v,e.domain,l),U(m,i,s),U(m,e.domain,l);const y=$e(Mn);U(m,e.tld,y),U(m,e.utld,y),U(y,e.domain,l),U(y,i,s),D(y,Pt,m),D(y,Ft,v),D(y,pn,f);const S=D(y,mn),R=$e(Mn);U(S,e.numeric,R);const A=$e(Mn),k=$e();U(A,n,A),U(A,r,k),U(k,n,A),U(k,r,k),D(y,Bt,A),D(R,Bt,A);const K=D(a,mn),M=D(c,mn),J=D(M,Bt),te=D(J,Bt);U(a,e.domain,l),D(a,Pt,m),D(a,Ft,v),U(c,e.domain,l),D(c,Pt,m),D(c,Ft,v),U(K,e.domain,A),D(K,Bt,A),U(te,e.domain,A),U(te,n,A),D(te,Bt,A);const se=D(A,_r),ot=D(A,ri),dt=D(A,ii),ft=D(A,oi);D(k,_r,se),D(k,ri,ot),D(k,ii,dt),D(k,oi,ft),D(se,Fn,A),D(ot,yr,A),D(dt,Er,A),D(ft,Bn,A),D(se,Fn,A);const Ke=$e(Mn),_e=$e(Mn),I=$e(Mn),q=$e(Mn);U(se,n,Ke),U(ot,n,_e),U(dt,n,I),U(ft,n,q);const Y=$e(),Se=$e(),W=$e(),ye=$e();return U(se,r),U(ot,r),U(dt,r),U(ft,r),U(Ke,n,Ke),U(_e,n,_e),U(I,n,I),U(q,n,q),U(Ke,r,Ke),U(_e,r,_e),U(I,r,I),U(q,r,q),U(Y,n,Y),U(Se,n,_e),U(W,n,I),U(ye,n,q),U(Y,r,Y),U(Se,r,Se),U(W,r,W),U(ye,r,ye),D(_e,yr,A),D(I,Er,A),D(q,Bn,A),D(Ke,Fn,A),D(Se,yr,A),D(W,Er,A),D(ye,Bn,A),D(Y,Bn,A),D(o,Ni,y),D(o,Da,E0),{start:o,tokens:Ig}}function N0(t,e,n){let r=n.length,i=0,o=[],s=[];for(;i<r;){let l=t,a=null,c=null,f=0,d=null,u=-1;for(;i<r&&!(a=l.go(n[i].t));)s.push(n[i++]);for(;i<r&&(c=a||l.go(n[i].t));)a=null,l=c,l.accepts()?(u=0,d=l):u>=0&&u++,i++,f++;if(u<0)i-=f,i<r&&(s.push(n[i]),i++);else{s.length>0&&(o.push(Ps(Cc,e,s)),s=[]),i-=u,f-=u;const g=d.t,h=n.slice(i-f,i);o.push(Ps(g,e,h))}}return s.length>0&&o.push(Ps(Cc,e,s)),o}function Ps(t,e,n){const r=n[0].s,i=n[n.length-1].e,o=e.slice(r,i);return new t(o,n)}const Xe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function C0(){Xe.scanner=m0(Xe.customSchemes);for(let t=0;t<Xe.tokenQueue.length;t++)Xe.tokenQueue[t][1]({scanner:Xe.scanner});Xe.parser=x0(Xe.scanner.tokens);for(let t=0;t<Xe.pluginQueue.length;t++)Xe.pluginQueue[t][1]({scanner:Xe.scanner,parser:Xe.parser});Xe.initialized=!0}function v0(t){return Xe.initialized||C0(),N0(Xe.parser.start,t,_0(Xe.scanner.start,t))}function T0(t,e,n){const r=v0(t),i=[];for(let o=0;o<r.length;o++){const s=r[o];if(s.t==="nl"&&e.get("nl2br")){const l=`__linkify-el-${n.elementId++}`;i.push(N.createElement("br",{key:l}))}else if(!s.isLink||!e.check(s))i.push(s.toString());else{let l=e.render(s);if(!("key"in l.props)){const a=`__linkify-el-${n.elementId++}`,c=Pg.assign({key:a},l.props);l=N.cloneElement(l,c)}i.push(l)}}return i}function Bg(t,e,n){if(N.Children.count(t.props.children)===0)return t;const r=[];N.Children.forEach(t.props.children,s=>{typeof s=="string"?r.push.apply(r,T0(s,e,n)):N.isValidElement(s)?typeof s.type=="string"&&e.ignoreTags.indexOf(s.type.toUpperCase())>=0?r.push(s):r.push(Bg(s,e,n)):r.push(s)});const i=`__linkify-el-${n.elementId++}`,o=Pg.assign({key:i},t.props);return N.cloneElement(t,o,r)}const Ci=t=>{let e=0;const n=a=>{let{tagName:c,attributes:f,content:d}=a;return f.key=`__linkify-lnk-${e++}`,f.class&&(f.className=f.class,delete f.class),N.createElement(c,f,d)},r={key:"__linkify-wrapper"};for(const a in t)a!=="options"&&a!=="as"&&a!=="tagName"&&a!=="children"&&(r[a]=t[a]);const i=new os(t.options,n),o=t.as||t.tagName||N.Fragment||"span",s=t.children,l=N.createElement(o,r,s);return Bg(l,i,{elementId:0})};/*! @license DOMPurify 3.0.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.2/LICENSE */const{entries:Ug,setPrototypeOf:vc,isFrozen:S0,getPrototypeOf:A0,getOwnPropertyDescriptor:R0}=Object;let{freeze:rt,seal:kt,create:w0}=Object,{apply:bl,construct:Il}=typeof Reflect<"u"&&Reflect;bl||(bl=function(e,n,r){return e.apply(n,r)});rt||(rt=function(e){return e});kt||(kt=function(e){return e});Il||(Il=function(e,n){return new e(...n)});const O0=St(Array.prototype.forEach),Tc=St(Array.prototype.pop),zr=St(Array.prototype.push),so=St(String.prototype.toLowerCase),Fs=St(String.prototype.toString),$0=St(String.prototype.match),$t=St(String.prototype.replace),D0=St(String.prototype.indexOf),k0=St(String.prototype.trim),gt=St(RegExp.prototype.test),Bs=L0(TypeError);function St(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return bl(t,e,r)}}function L0(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Il(t,n)}}function X(t,e,n){n=n||so,vc&&vc(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(S0(e)||(e[r]=o),i=o)}t[i]=!0}return t}function dr(t){const e=w0(null);for(const[n,r]of Ug(t))e[n]=r;return e}function Wi(t,e){for(;t!==null;){const r=R0(t,e);if(r){if(r.get)return St(r.get);if(typeof r.value=="function")return St(r.value)}t=A0(t)}function n(r){return console.warn("fallback value for",r),null}return n}const Sc=rt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Us=rt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),js=rt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M0=rt(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),zs=rt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),b0=rt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ac=rt(["#text"]),Rc=rt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Hs=rt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),wc=rt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Gi=rt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),I0=kt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),P0=kt(/<%[\w\W]*|[\w\W]*%>/gm),F0=kt(/\${[\w\W]*}/gm),B0=kt(/^data-[\-\w.\u00B7-\uFFFF]/),U0=kt(/^aria-[\-\w]+$/),jg=kt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),j0=kt(/^(?:\w+script|data):/i),z0=kt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zg=kt(/^html$/i);var Oc=Object.freeze({__proto__:null,MUSTACHE_EXPR:I0,ERB_EXPR:P0,TMPLIT_EXPR:F0,DATA_ATTR:B0,ARIA_ATTR:U0,IS_ALLOWED_URI:jg,IS_SCRIPT_OR_DATA:j0,ATTR_WHITESPACE:z0,DOCTYPE_NAME:zg});const H0=()=>typeof window>"u"?null:window,K0=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function Hg(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H0();const e=j=>Hg(j);if(e.version="3.0.2",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;const n=t.document;let{document:r}=t;const{DocumentFragment:i,HTMLTemplateElement:o,Node:s,Element:l,NodeFilter:a,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:u}=t,g=l.prototype,h=Wi(g,"cloneNode"),p=Wi(g,"nextSibling"),E=Wi(g,"childNodes"),v=Wi(g,"parentNode");if(typeof o=="function"){const j=r.createElement("template");j.content&&j.content.ownerDocument&&(r=j.content.ownerDocument)}const m=K0(u,n),y=m?m.createHTML(""):"",{implementation:S,createNodeIterator:R,createDocumentFragment:A,getElementsByTagName:k}=r,{importNode:K}=n;let M={};e.isSupported=typeof Ug=="function"&&typeof v=="function"&&S&&typeof S.createHTMLDocument<"u";const{MUSTACHE_EXPR:J,ERB_EXPR:te,TMPLIT_EXPR:se,DATA_ATTR:ot,ARIA_ATTR:dt,IS_SCRIPT_OR_DATA:ft,ATTR_WHITESPACE:Ke}=Oc;let{IS_ALLOWED_URI:_e}=Oc,I=null;const q=X({},[...Sc,...Us,...js,...zs,...Ac]);let Y=null;const Se=X({},[...Rc,...Hs,...wc,...Gi]);let W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ye=null,Ae=null,Ye=!0,st=!0,At=!1,Rt=!0,lt=!1,Ee=!1,Lt=!1,Jt=!1,mt=!1,Rn=!1,wn=!1,le=!0,Re=!1;const Ie="user-content-";let at=!0,wt=!1,Ne={},Ce=null;const Ve=X({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ot=null;const Mt=X({},["audio","video","img","source","image","track"]);let Pe=null;const bt=X({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xt="http://www.w3.org/1998/Math/MathML",On="http://www.w3.org/2000/svg",qt="http://www.w3.org/1999/xhtml";let rr=qt,ls=!1,as=null;const Wg=X({},[Xt,On,qt],Fs);let $n;const Gg=["application/xhtml+xml","text/html"],Yg="text/html";let we,ir=null;const Vg=r.createElement("form"),Ia=function(x){return x instanceof RegExp||x instanceof Function},us=function(x){ir&&ir===x||((!x||typeof x!="object")&&(x={}),x=dr(x),$n=Gg.indexOf(x.PARSER_MEDIA_TYPE)===-1?$n=Yg:$n=x.PARSER_MEDIA_TYPE,we=$n==="application/xhtml+xml"?Fs:so,I="ALLOWED_TAGS"in x?X({},x.ALLOWED_TAGS,we):q,Y="ALLOWED_ATTR"in x?X({},x.ALLOWED_ATTR,we):Se,as="ALLOWED_NAMESPACES"in x?X({},x.ALLOWED_NAMESPACES,Fs):Wg,Pe="ADD_URI_SAFE_ATTR"in x?X(dr(bt),x.ADD_URI_SAFE_ATTR,we):bt,Ot="ADD_DATA_URI_TAGS"in x?X(dr(Mt),x.ADD_DATA_URI_TAGS,we):Mt,Ce="FORBID_CONTENTS"in x?X({},x.FORBID_CONTENTS,we):Ve,ye="FORBID_TAGS"in x?X({},x.FORBID_TAGS,we):{},Ae="FORBID_ATTR"in x?X({},x.FORBID_ATTR,we):{},Ne="USE_PROFILES"in x?x.USE_PROFILES:!1,Ye=x.ALLOW_ARIA_ATTR!==!1,st=x.ALLOW_DATA_ATTR!==!1,At=x.ALLOW_UNKNOWN_PROTOCOLS||!1,Rt=x.ALLOW_SELF_CLOSE_IN_ATTR!==!1,lt=x.SAFE_FOR_TEMPLATES||!1,Ee=x.WHOLE_DOCUMENT||!1,mt=x.RETURN_DOM||!1,Rn=x.RETURN_DOM_FRAGMENT||!1,wn=x.RETURN_TRUSTED_TYPE||!1,Jt=x.FORCE_BODY||!1,le=x.SANITIZE_DOM!==!1,Re=x.SANITIZE_NAMED_PROPS||!1,at=x.KEEP_CONTENT!==!1,wt=x.IN_PLACE||!1,_e=x.ALLOWED_URI_REGEXP||jg,rr=x.NAMESPACE||qt,W=x.CUSTOM_ELEMENT_HANDLING||{},x.CUSTOM_ELEMENT_HANDLING&&Ia(x.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=x.CUSTOM_ELEMENT_HANDLING.tagNameCheck),x.CUSTOM_ELEMENT_HANDLING&&Ia(x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),x.CUSTOM_ELEMENT_HANDLING&&typeof x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),lt&&(st=!1),Rn&&(mt=!0),Ne&&(I=X({},[...Ac]),Y=[],Ne.html===!0&&(X(I,Sc),X(Y,Rc)),Ne.svg===!0&&(X(I,Us),X(Y,Hs),X(Y,Gi)),Ne.svgFilters===!0&&(X(I,js),X(Y,Hs),X(Y,Gi)),Ne.mathMl===!0&&(X(I,zs),X(Y,wc),X(Y,Gi))),x.ADD_TAGS&&(I===q&&(I=dr(I)),X(I,x.ADD_TAGS,we)),x.ADD_ATTR&&(Y===Se&&(Y=dr(Y)),X(Y,x.ADD_ATTR,we)),x.ADD_URI_SAFE_ATTR&&X(Pe,x.ADD_URI_SAFE_ATTR,we),x.FORBID_CONTENTS&&(Ce===Ve&&(Ce=dr(Ce)),X(Ce,x.FORBID_CONTENTS,we)),at&&(I["#text"]=!0),Ee&&X(I,["html","head","body"]),I.table&&(X(I,["tbody"]),delete ye.tbody),rt&&rt(x),ir=x)},Pa=X({},["mi","mo","mn","ms","mtext"]),Fa=X({},["foreignobject","desc","title","annotation-xml"]),Jg=X({},["title","style","font","a","script"]),Di=X({},Us);X(Di,js),X(Di,M0);const cs=X({},zs);X(cs,b0);const Xg=function(x){let $=v(x);(!$||!$.tagName)&&($={namespaceURI:rr,tagName:"template"});const b=so(x.tagName),ie=so($.tagName);return as[x.namespaceURI]?x.namespaceURI===On?$.namespaceURI===qt?b==="svg":$.namespaceURI===Xt?b==="svg"&&(ie==="annotation-xml"||Pa[ie]):!!Di[b]:x.namespaceURI===Xt?$.namespaceURI===qt?b==="math":$.namespaceURI===On?b==="math"&&Fa[ie]:!!cs[b]:x.namespaceURI===qt?$.namespaceURI===On&&!Fa[ie]||$.namespaceURI===Xt&&!Pa[ie]?!1:!cs[b]&&(Jg[b]||!Di[b]):!!($n==="application/xhtml+xml"&&as[x.namespaceURI]):!1},Dn=function(x){zr(e.removed,{element:x});try{x.parentNode.removeChild(x)}catch{x.remove()}},ds=function(x,$){try{zr(e.removed,{attribute:$.getAttributeNode(x),from:$})}catch{zr(e.removed,{attribute:null,from:$})}if($.removeAttribute(x),x==="is"&&!Y[x])if(mt||Rn)try{Dn($)}catch{}else try{$.setAttribute(x,"")}catch{}},Ba=function(x){let $,b;if(Jt)x="<remove></remove>"+x;else{const _t=$0(x,/^[\r\n\t ]+/);b=_t&&_t[0]}$n==="application/xhtml+xml"&&rr===qt&&(x='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+x+"</body></html>");const ie=m?m.createHTML(x):x;if(rr===qt)try{$=new d().parseFromString(ie,$n)}catch{}if(!$||!$.documentElement){$=S.createDocument(rr,"template",null);try{$.documentElement.innerHTML=ls?y:ie}catch{}}const Oe=$.body||$.documentElement;return x&&b&&Oe.insertBefore(r.createTextNode(b),Oe.childNodes[0]||null),rr===qt?k.call($,Ee?"html":"body")[0]:Ee?$.documentElement:Oe},Ua=function(x){return R.call(x.ownerDocument||x,x,a.SHOW_ELEMENT|a.SHOW_COMMENT|a.SHOW_TEXT,null,!1)},qg=function(x){return x instanceof f&&(typeof x.nodeName!="string"||typeof x.textContent!="string"||typeof x.removeChild!="function"||!(x.attributes instanceof c)||typeof x.removeAttribute!="function"||typeof x.setAttribute!="function"||typeof x.namespaceURI!="string"||typeof x.insertBefore!="function"||typeof x.hasChildNodes!="function")},ki=function(x){return typeof s=="object"?x instanceof s:x&&typeof x=="object"&&typeof x.nodeType=="number"&&typeof x.nodeName=="string"},Zt=function(x,$,b){M[x]&&O0(M[x],ie=>{ie.call(e,$,b,ir)})},ja=function(x){let $;if(Zt("beforeSanitizeElements",x,null),qg(x))return Dn(x),!0;const b=we(x.nodeName);if(Zt("uponSanitizeElement",x,{tagName:b,allowedTags:I}),x.hasChildNodes()&&!ki(x.firstElementChild)&&(!ki(x.content)||!ki(x.content.firstElementChild))&&gt(/<[/\w]/g,x.innerHTML)&&gt(/<[/\w]/g,x.textContent))return Dn(x),!0;if(!I[b]||ye[b]){if(!ye[b]&&Ha(b)&&(W.tagNameCheck instanceof RegExp&&gt(W.tagNameCheck,b)||W.tagNameCheck instanceof Function&&W.tagNameCheck(b)))return!1;if(at&&!Ce[b]){const ie=v(x)||x.parentNode,Oe=E(x)||x.childNodes;if(Oe&&ie){const _t=Oe.length;for(let fe=_t-1;fe>=0;--fe)ie.insertBefore(h(Oe[fe],!0),p(x))}}return Dn(x),!0}return x instanceof l&&!Xg(x)||(b==="noscript"||b==="noembed")&&gt(/<\/no(script|embed)/i,x.innerHTML)?(Dn(x),!0):(lt&&x.nodeType===3&&($=x.textContent,$=$t($,J," "),$=$t($,te," "),$=$t($,se," "),x.textContent!==$&&(zr(e.removed,{element:x.cloneNode()}),x.textContent=$)),Zt("afterSanitizeElements",x,null),!1)},za=function(x,$,b){if(le&&($==="id"||$==="name")&&(b in r||b in Vg))return!1;if(!(st&&!Ae[$]&&gt(ot,$))){if(!(Ye&&gt(dt,$))){if(!Y[$]||Ae[$]){if(!(Ha(x)&&(W.tagNameCheck instanceof RegExp&&gt(W.tagNameCheck,x)||W.tagNameCheck instanceof Function&&W.tagNameCheck(x))&&(W.attributeNameCheck instanceof RegExp&&gt(W.attributeNameCheck,$)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck($))||$==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&gt(W.tagNameCheck,b)||W.tagNameCheck instanceof Function&&W.tagNameCheck(b))))return!1}else if(!Pe[$]){if(!gt(_e,$t(b,Ke,""))){if(!(($==="src"||$==="xlink:href"||$==="href")&&x!=="script"&&D0(b,"data:")===0&&Ot[x])){if(!(At&&!gt(ft,$t(b,Ke,"")))){if(b)return!1}}}}}}return!0},Ha=function(x){return x.indexOf("-")>0},Ka=function(x){let $,b,ie,Oe;Zt("beforeSanitizeAttributes",x,null);const{attributes:_t}=x;if(!_t)return;const fe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y};for(Oe=_t.length;Oe--;){$=_t[Oe];const{name:It,namespaceURI:fs}=$;if(b=It==="value"?$.value:k0($.value),ie=we(It),fe.attrName=ie,fe.attrValue=b,fe.keepAttr=!0,fe.forceKeepAttr=void 0,Zt("uponSanitizeAttribute",x,fe),b=fe.attrValue,fe.forceKeepAttr||(ds(It,x),!fe.keepAttr))continue;if(!Rt&&gt(/\/>/i,b)){ds(It,x);continue}lt&&(b=$t(b,J," "),b=$t(b,te," "),b=$t(b,se," "));const Wa=we(x.nodeName);if(za(Wa,ie,b)){if(Re&&(ie==="id"||ie==="name")&&(ds(It,x),b=Ie+b),m&&typeof u=="object"&&typeof u.getAttributeType=="function"&&!fs)switch(u.getAttributeType(Wa,ie)){case"TrustedHTML":b=m.createHTML(b);break;case"TrustedScriptURL":b=m.createScriptURL(b);break}try{fs?x.setAttributeNS(fs,It,b):x.setAttribute(It,b),Tc(e.removed)}catch{}}}Zt("afterSanitizeAttributes",x,null)},Zg=function j(x){let $;const b=Ua(x);for(Zt("beforeSanitizeShadowDOM",x,null);$=b.nextNode();)Zt("uponSanitizeShadowNode",$,null),!ja($)&&($.content instanceof i&&j($.content),Ka($));Zt("afterSanitizeShadowDOM",x,null)};return e.sanitize=function(j){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$,b,ie,Oe;if(ls=!j,ls&&(j="<!-->"),typeof j!="string"&&!ki(j)){if(typeof j.toString!="function")throw Bs("toString is not a function");if(j=j.toString(),typeof j!="string")throw Bs("dirty is not a string, aborting")}if(!e.isSupported)return j;if(Lt||us(x),e.removed=[],typeof j=="string"&&(wt=!1),wt){if(j.nodeName){const It=we(j.nodeName);if(!I[It]||ye[It])throw Bs("root node is forbidden and cannot be sanitized in-place")}}else if(j instanceof s)$=Ba("<!---->"),b=$.ownerDocument.importNode(j,!0),b.nodeType===1&&b.nodeName==="BODY"||b.nodeName==="HTML"?$=b:$.appendChild(b);else{if(!mt&&!lt&&!Ee&&j.indexOf("<")===-1)return m&&wn?m.createHTML(j):j;if($=Ba(j),!$)return mt?null:wn?y:""}$&&Jt&&Dn($.firstChild);const _t=Ua(wt?j:$);for(;ie=_t.nextNode();)ja(ie)||(ie.content instanceof i&&Zg(ie.content),Ka(ie));if(wt)return j;if(mt){if(Rn)for(Oe=A.call($.ownerDocument);$.firstChild;)Oe.appendChild($.firstChild);else Oe=$;return(Y.shadowroot||Y.shadowrootmod)&&(Oe=K.call(n,Oe,!0)),Oe}let fe=Ee?$.outerHTML:$.innerHTML;return Ee&&I["!doctype"]&&$.ownerDocument&&$.ownerDocument.doctype&&$.ownerDocument.doctype.name&&gt(zg,$.ownerDocument.doctype.name)&&(fe="<!DOCTYPE "+$.ownerDocument.doctype.name+`>
`+fe),lt&&(fe=$t(fe,J," "),fe=$t(fe,te," "),fe=$t(fe,se," ")),m&&wn?m.createHTML(fe):fe},e.setConfig=function(j){us(j),Lt=!0},e.clearConfig=function(){ir=null,Lt=!1},e.isValidAttribute=function(j,x,$){ir||us({});const b=we(j),ie=we(x);return za(b,ie,$)},e.addHook=function(j,x){typeof x=="function"&&(M[j]=M[j]||[],zr(M[j],x))},e.removeHook=function(j){if(M[j])return Tc(M[j])},e.removeHooks=function(j){M[j]&&(M[j]=[])},e.removeAllHooks=function(){M={}},e}var W0=Hg();const $c={defaultProtocol:"https",rel:"noopener",target:"_blank",className:"text-blue-500 hover:text-blue-700 active:text-blue-700 visited:text-blue-500"},G0=N.memo(({event:t,roomID:e,hasPreviousEvent:n})=>{const r=Or(e),i=N.useContext(er);return(s=>{if(Qg(s))if(s.content.format==="org.matrix.custom.html"){const l=W0.sanitize(s.content.formatted_body,{ADD_TAGS:["font","del","h1","h2","h3","h4","h5","h6","blockquote","p","a","ul","ol","sup","sub","li","b","i","u","strong","em","strike","code","hr","br","div","table","thead","tbody","tr","th","td","caption","pre","span","img","details","summary"]});return _.jsxs("div",{className:n?"flex flex-row p-2 pb-1 pt-0 hover:bg-gray-200 rounded-md duration-200 ease-in-out":"flex flex-row gap-4 p-2 pb-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out items-start",children:[!n&&_.jsx(jt,{displayname:r?.getMemberName(s.sender)||"",avatarUrl:r?.getMemberAvatar(s.sender),online:r?.isOnline()||!1,dm:r?.isDM()||!1}),_.jsxs("div",{className:n?"ml-[3.7rem]":"flex flex-col gap-1",children:[!n&&_.jsx("h2",{className:"text-sm font-medium text-red-500 whitespace-normal",children:r?.getMemberName(s.sender)}),_.jsx("p",{className:"whitespace-normal text-black text-base font-normal",dangerouslySetInnerHTML:{__html:l}})]})]})}else return _.jsxs("div",{className:n?"flex flex-row p-2 pb-1 pt-0 hover:bg-gray-200 rounded-md duration-200 ease-in-out":"flex flex-row gap-4 p-2 pb-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out items-start",children:[!n&&_.jsx(jt,{displayname:r?.getMemberName(s.sender)||"",avatarUrl:r?.getMemberAvatar(s.sender),online:r?.isOnline()||!1,dm:r?.isDM()||!1}),_.jsxs("div",{className:n?"ml-[3.7rem]":"flex flex-col gap-1",children:[!n&&_.jsx("h2",{className:"text-sm font-medium text-red-500 whitespace-normal",children:r?.getMemberName(s.sender)}),_.jsx(Ci,{options:$c,as:"p",className:"whitespace-normal text-black text-base font-normal",children:s.content.body})]})]});else if(eh(s)){const[l,a]=N.useState(void 0);return N.useEffect(()=>{s.content.url&&a(i.convertMXC(s.content.url))},[s.content.url]),_.jsxs("div",{className:n?"flex flex-row p-2 pb-1 pt-0 hover:bg-gray-200 rounded-md duration-200 ease-in-out":"flex flex-row gap-4 p-2 pb-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out items-start",children:[!n&&_.jsx(jt,{displayname:r?.getMemberName(s.sender)||"",avatarUrl:r?.getMemberAvatar(s.sender),online:r?.isOnline()||!1,dm:r?.isDM()||!1}),_.jsxs("div",{className:n?"ml-[3.7rem]":"flex flex-col gap-1",children:[!n&&_.jsx("h2",{className:"text-sm font-medium text-red-500 whitespace-normal",children:r?.getMemberName(s.sender)}),_.jsx("img",{src:l,alt:s.content.body,title:s.content.body,className:"rounded-md object-cover border-slate-400 border-2 max-h-[512px] max-w-[512px] h-[unset]"})]})]})}else return _.jsxs("div",{className:n?"flex flex-row p-2 pb-1 pt-0 hover:bg-gray-200 rounded-md duration-200 ease-in-out":"flex flex-row gap-4 p-2 pb-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out items-start",children:[!n&&_.jsx(jt,{displayname:r?.getMemberName(s.sender)||"",avatarUrl:r?.getMemberAvatar(s.sender),online:r?.isOnline()||!1,dm:r?.isDM()||!1}),_.jsxs("div",{className:n?"ml-[3.7rem]":"flex flex-col gap-1",children:[!n&&_.jsx("h2",{className:"text-sm font-medium text-red-500 whitespace-normal",children:r?.getMemberName(s.sender)}),_.jsx(Ci,{options:$c,as:"p",className:"whitespace-normal text-black text-base font-normal",children:s.content.body})]})]})})(t)}),Kg={defaultProtocol:"https",rel:"noopener",target:"_blank",className:"text-blue-500 hover:text-blue-700 active:text-blue-700 visited:text-blue-500"},Y0=N.memo(({event:t,roomID:e,hasPreviousEvent:n})=>{const r=Or(e);return _.jsxs("div",{className:n?"flex flex-row p-2 pb-1 pt-0 hover:bg-gray-200 rounded-md duration-200 ease-in-out":"flex flex-row gap-4 p-2 pb-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out items-start",children:[!n&&_.jsx(jt,{displayname:r?.getMemberName(t.sender)||"",avatarUrl:r?.getMemberAvatar(t.sender),online:r?.isOnline()||!1,dm:r?.isDM()||!1}),_.jsxs("div",{className:n?"ml-[3.7rem]":"flex flex-col gap-1",children:[!n&&_.jsx("h2",{className:"text-sm font-medium text-red-500 whitespace-normal",children:r?.getMemberName(t.sender)}),_.jsx(Ci,{options:Kg,as:"p",className:"whitespace-break-spaces text-black text-base font-normal",children:JSON.stringify(t,null,4)})]})]})}),Dc=N.memo(({event:t,roomID:e,hasPreviousEvent:n})=>{const r=Or(e);return _.jsxs("div",{className:n?"flex flex-row p-2 pb-1 pt-0 hover:bg-gray-200 rounded-md duration-200 ease-in-out":"flex flex-row gap-4 p-2 pb-1 hover:bg-gray-200 rounded-md duration-200 ease-in-out items-start",children:[!n&&_.jsx(jt,{displayname:r?.getMemberName(t.sender)||"",avatarUrl:r?.getMemberAvatar(t.sender),online:r?.isOnline()||!1,dm:r?.isDM()||!1}),_.jsxs("div",{className:n?"ml-[3.7rem]":"flex flex-col gap-1",children:[!n&&_.jsx("h2",{className:"text-sm font-medium text-red-500 whitespace-normal",children:r?.getMemberName(t.sender)}),_.jsx(Ci,{options:Kg,as:"p",className:"whitespace-normal text-base font-normal text-orange-600",children:"Unable to decrypt event"})]})]})}),V0=N.memo(({event:t})=>(n=>_.jsxs("p",{className:"p-2 hover:bg-gray-200 rounded-md duration-200 ease-in-out",children:[n.content.displayname?n.content.displayname:n.state_key," ",n.content.membership==="join"?"joined the room":n.content.membership==="leave"?"left the room":n.content.membership==="ban"?"was banned from the room by "+n.sender:n.content.membership==="invite"?"was invited to the room by "+n.sender:n.content.membership==="knock"?"knocked on the room":"changed their membership status to "+n.content.membership]}))(t)),J0=N.memo(({roomID:t,scrollRef:e})=>{const n=Or(decodeURIComponent(t||"")),r=N.useContext(er),i=th(n),{pathname:o}=Ho(),[s,l]=N.useState([]),a=f=>{const d=f?.filter((u,g,h)=>h.findIndex(p=>p.event_id===u.event_id)===g);Promise.all(d?.filter(u=>u.type!=="m.reaction"&&!u.content["m.relates_to"]).map(async(u,g)=>{let h=d?.filter(y=>y.type!=="m.reaction")[g-1];const p=h?.sender===u.sender;let E=h?.type;const v=d?.filter(y=>y.type==="m.reaction"&&y.content["m.relates_to"].event_id===u.event_id),m=d?.find(y=>y.content["m.relates_to"]?y.content["m.relates_to"].rel_type==="m.replace"&&y.content["m.relates_to"].event_id===u.event_id:!1);if(m&&(u=m,m.content["m.new_content"]&&(u.content.body=m.content["m.new_content"].body,u.content.formatted_body=m.content["m.new_content"].formatted_body,u.content.format=m.content["m.new_content"].format)),u.type==="m.room.encrypted")try{const y=await r.olmMachine?.decryptRoomEvent(JSON.stringify(u),new Ya.RoomId(t||""));if(y)u=JSON.parse(y.event),u.content["m.new_content"]&&(u.content.body=u.content["m.new_content"].body,u.content.formatted_body=u.content["m.new_content"].formatted_body,u.content.format=u.content["m.new_content"].format);else return _.jsx(Dc,{event:u,hasPreviousEvent:p,roomID:t})}catch(y){return console.error(y),_.jsx(Dc,{event:u,hasPreviousEvent:p,roomID:t})}if(h?.type==="m.room.encrypted")try{const y=await r.olmMachine?.decryptRoomEvent(JSON.stringify(h),new Ya.RoomId(t||""));y&&(h=JSON.parse(y.event),E=h.type,h.content["m.new_content"]&&(h.content.body=h.content["m.new_content"].body,h.content.formatted_body=h.content["m.new_content"].formatted_body,h.content.format=h.content["m.new_content"].format))}catch(y){console.error(y)}return c(u,p,E,v)})).then(u=>{l(u)})};N.useEffect(()=>{i&&a(i)},[i]),N.useEffect(()=>{e.current?.scrollTo(0,e.current?.scrollHeight)},[o]);const c=(f,d,u,g)=>{switch(f.type){case"m.room.message":return _.jsx(G0,{reactions:g,event:f,roomID:t,hasPreviousEvent:d&&u==="m.room.message"},f.event_id);case"m.room.member":return _.jsx(V0,{event:f},f.event_id);case"m.room.redaction":return _.jsx(_.Fragment,{});default:return _.jsx(Y0,{event:f},f.event_id)}};return _.jsx("div",{className:"max-w-[130ch] flex flex-col",children:s})}),X0=N.memo(()=>{const t=nh(),e=rh(),n=ih(),r=N.useContext(er);let i=zh();const o=Or(decodeURIComponent(i.roomIdOrAlias||""));r.setCurrentRoom(i.roomIdOrAlias?decodeURIComponent(i.roomIdOrAlias):void 0);const s=N.useRef(null),l=[...e].filter(({spaceRoom:h})=>{const p=![...e].some(({children:v})=>[...v].some(m=>m.roomID===h.roomID)),E=h.getSpaceParentIDs().length===0;return p&&E}),a=[...n].filter(h=>{const p=![...e].some(({children:m})=>[...m].some(y=>y.roomID===h.roomID)),E=h.getSpaceParentIDs().length===0,v=!h.isSpace();return p&&E&&v}),c=l.map(h=>{const p=[...h.children].filter(v=>!v.isSpace()).map(v=>({roomID:v.roomID,displayname:v.getName(),avatarUrl:v.getAvatarURL(),dm:v.isDM(),online:v.isOnline()})),E=v=>{const m=[...e].find(y=>y.spaceRoom.roomID===v.roomID);if(m){const y=[...m?.children].map(S=>({roomID:S.roomID,displayname:S.getName(),avatarUrl:S.getAvatarURL(),dm:S.isDM(),online:S.isOnline()}));return{sectionName:v.getName(),rooms:y,roomID:v.roomID,subsections:[...m?.children].filter(S=>S.isSpace()).map(E).filter(S=>S!==void 0)}}};return{sectionName:h.spaceRoom.getName(),rooms:p,roomID:h.spaceRoom.roomID,subsections:[...h.children].filter(v=>v.isSpace()).map(E)}}),f=a.filter(h=>!h.isSpace()).map(h=>({roomID:h.roomID,displayname:h.getName(),avatarUrl:h.getAvatarURL(),dm:h.isDM(),online:h.isOnline()})),d=f.map(h=>h.roomID),u=d.filter((h,p)=>d.indexOf(h)!==p);u.length>0&&console.error("otherRooms has duplicates",u);const g={defaultProtocol:"https",rel:"noopener",target:"_blank",className:"text-blue-500 hover:text-blue-700 active:text-blue-700 visited:text-blue-500"};return _.jsxs("div",{className:"flex flex-row gap-2 min-h-screen h-screen",children:[_.jsxs("div",{className:"flex flex-col bg-gradient-to-br from-slate-100 via-gray-200 to-orange-200 border-r-[1px] border-slate-300",children:[_.jsxs("div",{className:"flex flex-row gap-2 m-2 p-1 items-center border-b-2",children:[_.jsx(jt,{displayname:t.displayname||r.mxid,avatarUrl:t?.avatar_url,dm:!1,online:!1}),_.jsxs("div",{className:"flex flex-row justify-between items-center w-full",children:[_.jsx("span",{className:"text-base font-semibold",children:t?.displayname}),_.jsx(mp,{size:28,stroke:"unset",className:"stroke-slate-600 rounded-full hover:bg-slate-300 p-1 cursor-pointer"})]})]}),_.jsx(l0,{sections:c,rooms:f})]}),o&&_.jsxs("div",{className:"flex-1 flex flex-col",children:[_.jsxs("div",{className:"pb-2 flex flex-row items-center border-b-2 mt-4 ml-2",children:[_.jsx(jt,{displayname:o.getName(),avatarUrl:o.getAvatarURL(),dm:o.isDM(),online:o.isOnline()}),_.jsxs("div",{className:"flex flex-row items-start",children:[_.jsx("h1",{className:"text-black font-semibold text-lg flex-shrink-0",children:o.getName()}),_.jsx(Ci,{options:g,as:"p",className:"ml-4 text-slate-700 font-normal text-base line-clamp-2 text-ellipsis",children:o.getTopic()})]})]}),_.jsx("div",{ref:s,className:"overflow-y-auto overflow-x-hidden scrollbarSmall mr-2 my-1 flex-1 w-full flex flex-col-reverse",children:_.jsx(J0,{roomID:i.roomIdOrAlias,scrollRef:s})}),_.jsx(Zy,{namespace:"Editor",roomID:decodeURIComponent(i.roomIdOrAlias||"")})]})]})}),q0=({children:t})=>N.useContext(er).isLoggedIn?t:_.jsx(Bc,{to:"login"});function Z0(){return _.jsx(ep,{basename:"/cetirizine/",children:_.jsxs(Qh,{children:[_.jsx(Vs,{path:"/:roomIdOrAlias?",element:_.jsx(q0,{children:_.jsx(X0,{})})}),_.jsx(Vs,{path:"/login",element:_.jsx(ip,{})})]})})}const rE=N.memo(Z0);export{rE as default};
